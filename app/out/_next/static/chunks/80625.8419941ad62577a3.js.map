{"version":3,"file":"static/chunks/80625.8419941ad62577a3.js","mappings":"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","sources":["webpack://_N_E/./charts/shared/a11y-table.tsx","webpack://_N_E/./charts/chart-data-wrapper.tsx","webpack://_N_E/./charts/shared/use-chart-theme.ts","webpack://_N_E/./charts/table/constants.ts","webpack://_N_E/./charts/table/linked-cell-wrapper.tsx","webpack://_N_E/./charts/table/tag.tsx","webpack://_N_E/./charts/table/cell-desktop.tsx","webpack://_N_E/./charts/table/cell-mobile.tsx","webpack://_N_E/./charts/table/group-header.tsx","webpack://_N_E/./charts/table/table-content.tsx","webpack://_N_E/./charts/table/table.tsx","webpack://_N_E/./charts/table/table-state-props.ts","webpack://_N_E/./charts/table/table-state.tsx","webpack://_N_E/./charts/table/chart-table.tsx","webpack://_N_E/./utils/get-text-width.ts"],"sourcesContent":["import { Box } from \"@mui/material\";\nimport { memo, useMemo } from \"react\";\n\nimport { VisuallyHidden } from \"@/components/visually-hidden\";\nimport { Dimension, Measure, Observation } from \"@/domain/data\";\n\nexport const A11yTable = memo(\n  ({\n    title,\n    dimensions,\n    measures,\n    observations,\n  }: {\n    title: string;\n    dimensions: Dimension[];\n    measures: Measure[];\n    observations: Observation[];\n  }) => {\n    const headers = useMemo(() => {\n      const obsKeys = new Set(Object.keys(observations[0]));\n      return [...dimensions, ...measures].filter((d) => obsKeys.has(d.id));\n    }, [dimensions, measures, observations]);\n\n    return (\n      <VisuallyHidden>\n        <table>\n          <caption>{title}</caption>\n          <tbody>\n            <tr>\n              {headers.map(({ id, label }) => {\n                return (\n                  <th key={id} role=\"columnheader\" scope=\"col\">\n                    <Box>{label}</Box>\n                  </th>\n                );\n              })}\n            </tr>\n            {observations.map((obs, i) => {\n              return (\n                <tr key={i}>\n                  {headers.map(({ id }) => (\n                    <td key={id}>{obs[id]}</td>\n                  ))}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </VisuallyHidden>\n    );\n  }\n);\n","import { makeStyles } from \"@mui/styles\";\nimport { AnimatePresence } from \"framer-motion\";\nimport keyBy from \"lodash/keyBy\";\nimport {\n  ComponentProps,\n  createElement,\n  ElementType,\n  useEffect,\n  useMemo,\n} from \"react\";\n\nimport { A11yTable } from \"@/charts/shared/a11y-table\";\nimport { useLoadingState } from \"@/charts/shared/chart-loading-state\";\nimport { ChartProps } from \"@/charts/shared/chart-props\";\nimport { EmbedQueryParams } from \"@/components/embed-params\";\nimport { Flex } from \"@/components/flex\";\nimport {\n  Loading,\n  LoadingDataError,\n  LoadingOverlay,\n  NoDataHint,\n} from \"@/components/hint\";\nimport { ChartConfig, DataSource } from \"@/configurator\";\nimport {\n  useDataCubesComponentsQuery,\n  useDataCubesMetadataQuery,\n  useDataCubesObservationsQuery,\n} from \"@/graphql/hooks\";\nimport { DataCubeObservationFilter } from \"@/graphql/query-hooks\";\nimport { useLocale } from \"@/locales/use-locale\";\n\ntype ElementProps<RE> = RE extends ElementType<infer P> ? P : never;\n\nconst useStyles = makeStyles(() => ({\n  dataWrapper: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n}));\n\n/**\n * Responsible for fetching the data for the chart.\n * - Provides observations, dimensions and measures to the chart Component\n * - Handles loading & error state\n */\nconst ChartDataWrapperInner = <\n  TChartConfig extends ChartConfig,\n  TOtherProps,\n  TChartComponent extends ElementType,\n>({\n  chartConfig,\n  LoadingOverlayComponent = LoadingOverlay,\n  Component,\n  ComponentProps,\n  componentIds,\n  dataSource,\n  embedParams,\n  observationQueryFilters,\n  fetching: fetchingProp = false,\n  error: propError,\n}: {\n  chartConfig: TChartConfig;\n  LoadingOverlayComponent?: ElementType;\n  Component: TChartComponent;\n  ComponentProps?: Omit<\n    ElementProps<TChartComponent>,\n    keyof ChartProps<TChartConfig>\n  >;\n  componentIds?: string[];\n  dataSource: DataSource;\n  embedParams?: EmbedQueryParams;\n  observationQueryFilters: DataCubeObservationFilter[];\n  fetching?: boolean;\n  /* Use this if extra data is loaded and the possible error must be shown by ChartDataWrapper*/\n  error?: Error;\n}) => {\n  const chartLoadingState = useLoadingState();\n  const classes = useStyles();\n\n  const locale = useLocale();\n  const commonQueryVariables = {\n    sourceType: dataSource.type,\n    sourceUrl: dataSource.url,\n    locale,\n  };\n  const [metadataQuery] = useDataCubesMetadataQuery({\n    variables: {\n      ...commonQueryVariables,\n      cubeFilters: chartConfig.cubes.map((cube) => ({ iri: cube.iri })),\n    },\n    keepPreviousData: true,\n  });\n  const [componentsQuery] = useDataCubesComponentsQuery({\n    chartConfig,\n    variables: {\n      ...commonQueryVariables,\n      cubeFilters: chartConfig.cubes.map((cube) => ({\n        iri: cube.iri,\n        componentIds,\n        joinBy: cube.joinBy,\n        loadValues: true,\n      })),\n    },\n    keepPreviousData: true,\n  });\n  const [observationsQuery] = useDataCubesObservationsQuery({\n    chartConfig,\n    variables: {\n      ...commonQueryVariables,\n      cubeFilters: observationQueryFilters,\n    },\n    keepPreviousData: true,\n  });\n\n  const {\n    data: metadataData,\n    fetching: fetchingMetadata,\n    error: metadataError,\n  } = metadataQuery;\n  const {\n    data: componentsData,\n    fetching: fetchingComponents,\n    error: componentsError,\n  } = componentsQuery;\n  const {\n    data: observationsData,\n    fetching: fetchingObservations,\n    error: observationsError,\n  } = observationsQuery;\n\n  const metadata = metadataData?.dataCubesMetadata;\n  const observations = observationsData?.dataCubesObservations?.data;\n  const dimensions = componentsData?.dataCubesComponents.dimensions;\n  const measures = componentsData?.dataCubesComponents.measures;\n\n  const fetching =\n    fetchingProp ||\n    fetchingMetadata ||\n    fetchingComponents ||\n    fetchingObservations;\n  const error =\n    propError || metadataError || componentsError || observationsError;\n\n  useEffect(() => {\n    chartLoadingState.set(\"data\", fetching);\n  }, [chartLoadingState, fetching]);\n\n  const { dimensionsById, measuresById } = useMemo(() => {\n    return {\n      dimensionsById: keyBy(dimensions ?? [], (d) => d.id),\n      measuresById: keyBy(measures ?? [], (d) => d.id),\n    };\n  }, [dimensions, measures]);\n\n  if (error) {\n    return (\n      <Flex sx={{ flexDirection: \"column\", gap: 3 }}>\n        {metadataError && <Error message={metadataError.message} />}\n        {componentsError && <Error message={componentsError.message} />}\n        {observationsError && <Error message={observationsError.message} />}\n        {propError && <Error message={propError.message} />}\n      </Flex>\n    );\n  } else if (\n    fetching &&\n    (!metadata || !dimensions || !measures || !observations)\n  ) {\n    return <Loading />;\n  } else if (metadata && dimensions && measures && observations) {\n    // FIXME: adapt to design\n    const title = metadata.map((d) => d.title).join(\", \");\n\n    return (\n      <div\n        className={classes.dataWrapper}\n        data-chart-loaded={!chartLoadingState.loading}\n      >\n        {observations.length > 0 && (\n          <A11yTable\n            title={title}\n            observations={observations}\n            dimensions={dimensions}\n            measures={measures}\n          />\n        )}\n\n        {createElement(Component, {\n          observations,\n          dimensions,\n          dimensionsById,\n          measures,\n          measuresById,\n          chartConfig,\n          embedParams,\n          ...ComponentProps,\n        } as ChartProps<TChartConfig> & TOtherProps)}\n\n        <AnimatePresence>\n          {chartLoadingState.loading ? (\n            <LoadingOverlayComponent />\n          ) : observations.length === 0 ? (\n            <NoDataHint />\n          ) : null}\n        </AnimatePresence>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\n/**\n * Makes sure the ChartDataWrapper is re-rendered when the cube iris and/or joinBy change.\n * This ensures that data hooks do not keep stale data.\n */\nexport const ChartDataWrapper = (\n  props: ComponentProps<typeof ChartDataWrapperInner>\n) => {\n  const key = useMemo(\n    () =>\n      props.chartConfig.cubes\n        .map((c) => `${c.iri}${c.joinBy ? `:${c.joinBy}` : \"\"}`)\n        .join(\" / \"),\n    [props.chartConfig.cubes]\n  );\n  return <ChartDataWrapperInner key={key} {...props} />;\n};\n\nconst Error = ({ message }: { message: string }) => {\n  return (\n    <Flex flexGrow={1} justifyContent=\"center\" minHeight={300}>\n      <LoadingDataError message={message} />\n    </Flex>\n  );\n};\n","import { useMediaQuery } from \"@mui/material\";\n\nimport { useTheme } from \"../../themes\";\n\nexport const TICK_FONT_SIZE = 12;\nconst AXIS_LABEL_FONT_SIZE_XXS = 12;\nconst AXIS_LABEL_FONT_SIZE_XL = 14;\n\nexport const useChartTheme = () => {\n  const theme = useTheme();\n  const labelColor = theme.palette.text.primary;\n  const domainColor = theme.palette.monochrome[800];\n  const gridColor = theme.palette.cobalt[100];\n  const fontFamily = theme.typography.fontFamily as string;\n  const brushOverlayColor = theme.palette.monochrome[300];\n  const brushSelectionColor = theme.palette.monochrome[500];\n  const brushHandleStrokeColor = theme.palette.monochrome[500];\n  const brushHandleFillColor = theme.palette.background.paper;\n\n  const smallerTexts = useMediaQuery(theme.breakpoints.down(\"xl\"));\n  const axisLabelFontSize = smallerTexts\n    ? AXIS_LABEL_FONT_SIZE_XXS\n    : AXIS_LABEL_FONT_SIZE_XL;\n\n  return {\n    axisLabelFontSize,\n    labelColor,\n    labelFontSize: TICK_FONT_SIZE,\n    domainColor,\n    gridColor,\n    fontFamily,\n    brushOverlayColor,\n    brushSelectionColor,\n    brushHandleStrokeColor,\n    brushHandleFillColor,\n  };\n};\n","export const TABLE_HEIGHT = 600;\nexport const BAR_CELL_PADDING = 12;\nexport const SORTING_ARROW_WIDTH = 24;\n","import { Link, Theme } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { ReactNode } from \"react\";\nimport { Cell } from \"react-table\";\n\nimport { getSlugifiedId } from \"@/charts/shared/chart-helpers\";\nimport { ColumnMeta } from \"@/charts/table/table-state\";\nimport { TableLinks } from \"@/config-types\";\nimport { Observation } from \"@/domain/data\";\nimport { Icon } from \"@/icons\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  link: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    gap: theme.spacing(1),\n    color: \"inherit\",\n    fontWeight: \"inherit\",\n    textDecoration: \"none\",\n\n    \"&:hover\": {\n      textDecoration: \"underline\",\n    },\n  },\n}));\n\nconst getLinkHref = (\n  cell: Cell<Observation>,\n  baseUrl: string,\n  componentId: string\n): string => {\n  const slugifiedId = getSlugifiedId(componentId);\n  const { original } = cell.row;\n  const iriValue = original[getSlugifiedId(`${componentId}/__iri__`)];\n  const rawValue = original[slugifiedId];\n  const value = iriValue\n    ? `${iriValue}`.split(\"/\").pop() || iriValue\n    : rawValue;\n\n  return `${baseUrl}${value}`;\n};\n\nexport const LinkedCellWrapper = ({\n  children,\n  cell,\n  columnMeta,\n  links,\n}: {\n  children: ReactNode;\n  cell: Cell<Observation>;\n  columnMeta: ColumnMeta;\n  links: TableLinks;\n}) => {\n  const classes = useStyles();\n  const isLinkedColumn =\n    links.enabled &&\n    links.baseUrl.trim() !== \"\" &&\n    links.componentId.trim() !== \"\" &&\n    links.targetComponentId.trim() !== \"\" &&\n    getSlugifiedId(links.targetComponentId) === columnMeta.slugifiedId;\n  const href = getLinkHref(cell, links.baseUrl, links.componentId);\n\n  if (!isLinkedColumn || !href) {\n    return <>{children}</>;\n  }\n\n  return (\n    <Link\n      className={classes.link}\n      href={href}\n      target=\"_blank\"\n      title={href}\n      style={{ flex: 1, justifyContent: \"space-between\" }}\n    >\n      {children}\n      <Icon name=\"legacyLinkExternal\" size={16} />\n    </Link>\n  );\n};\n","import { Box } from \"@mui/material\";\nimport { hcl } from \"d3-color\";\nimport { ReactNode } from \"react\";\n\nexport const Tag = ({\n  tagColor,\n  small = false,\n  children,\n}: {\n  tagColor: string;\n  small?: boolean;\n  children: ReactNode;\n}) => (\n  <Box\n    component=\"span\"\n    sx={{\n      backgroundColor: tagColor,\n      color: hcl(tagColor).l < 55 ? \"#fff\" : \"#000\",\n      borderRadius: 8,\n      px: 2,\n      py: small ? \"0.125rem\" : 1,\n      my: small ? 0 : 1,\n    }}\n  >\n    {children}\n  </Box>\n);\n","import { Box, Theme } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { hcl } from \"d3-color\";\nimport { ScaleLinear } from \"d3-scale\";\nimport { Cell } from \"react-table\";\n\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport { BAR_CELL_PADDING } from \"@/charts/table/constants\";\nimport { LinkedCellWrapper } from \"@/charts/table/linked-cell-wrapper\";\nimport { ColumnMeta, TableChartState } from \"@/charts/table/table-state\";\nimport { Tag } from \"@/charts/table/tag\";\nimport { Flex } from \"@/components/flex\";\nimport { Observation } from \"@/domain/data\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  heatmapCell: {\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    textAlign: \"right\",\n    padding: `0 ${theme.spacing(3)}`,\n  },\n  defaultCell: {\n    alignItems: \"center\",\n    paddingLeft: 0,\n    \"&:first-of-type\": {\n      paddingLeft: 0,\n    },\n    \"&:last-of-type\": {\n      paddingRight: 0,\n    },\n  },\n  barBackground: {\n    position: \"absolute\",\n    top: \"-2px\",\n    width: \"1px\",\n    height: 22,\n    backgroundColor: theme.palette.grey[700],\n  },\n  barForeground: {\n    position: \"absolute\",\n    top: 0,\n    height: 18,\n  },\n}));\n\nexport const CellDesktop = ({\n  cell,\n  columnMeta,\n}: {\n  cell: Cell<Observation>;\n  columnMeta: ColumnMeta;\n}) => {\n  const {\n    columnComponentType,\n    textStyle,\n    textColor,\n    columnColor,\n    barColorPositive,\n    barColorNegative,\n    barColorBackground,\n    barShowBackground,\n  } = columnMeta;\n  const classes = useStyles();\n  const { links } = useChartState() as TableChartState;\n\n  switch (columnMeta.type) {\n    case \"text\":\n      return (\n        <Flex\n          sx={{\n            alignItems: \"center\",\n            justifyContent:\n              columnComponentType === \"NumericalMeasure\"\n                ? \"flex-end\"\n                : \"flex-start\",\n            color: textColor,\n            backgroundColor: columnColor,\n            fontWeight: textStyle,\n            px: 3,\n          }}\n          {...cell.getCellProps()}\n        >\n          <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n            {columnMeta.formatter(cell)}\n          </LinkedCellWrapper>\n        </Flex>\n      );\n    case \"category\":\n      const { colorScale: cColorScale } = columnMeta;\n      return (\n        <Flex\n          sx={{ alignItems: \"center\", fontWeight: textStyle, pl: 1, pr: 3 }}\n          {...cell.getCellProps()}\n        >\n          <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n            <Tag tagColor={cColorScale(cell.value)}>\n              {columnMeta.formatter(cell)}\n            </Tag>\n          </LinkedCellWrapper>\n        </Flex>\n      );\n    case \"heatmap\":\n      const { colorScale: hColorScale } = columnMeta;\n      const isNull = cell.value === null;\n      return (\n        <Flex\n          className={classes.heatmapCell}\n          sx={{\n            color: isNull\n              ? textColor\n              : hcl(hColorScale(cell.value)).l < 55\n                ? \"#fff\"\n                : \"#000\",\n            backgroundColor: isNull ? \"grey.100\" : hColorScale(cell.value),\n            fontWeight: textStyle,\n          }}\n          {...cell.getCellProps()}\n        >\n          <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n            {columnMeta.formatter(cell)}\n          </LinkedCellWrapper>\n        </Flex>\n      );\n    case \"bar\":\n      const { widthScale } = columnMeta;\n      return (\n        <Flex\n          sx={{\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            // Padding is a constant accounted for in the\n            // widthScale domain (see table state).\n            px: `${BAR_CELL_PADDING}px`,\n          }}\n          {...cell.getCellProps()}\n        >\n          <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n            <Box>{columnMeta.formatter(cell)}</Box>\n            {cell.value !== null && widthScale && (\n              <Box\n                sx={{\n                  width: widthScale.range()[1],\n                  height: 18,\n                  position: \"relative\",\n                  backgroundColor: barShowBackground\n                    ? barColorBackground\n                    : \"grey.100\",\n                }}\n              >\n                <Box\n                  className={classes.barForeground}\n                  sx={{\n                    left: `${getBarLeftOffset(cell.value, widthScale)}px`,\n                    width: `${getBarWidth(cell.value, widthScale)}px`,\n                    backgroundColor:\n                      cell.value > 0 ? barColorPositive : barColorNegative,\n                  }}\n                />\n                <Box\n                  className={classes.barBackground}\n                  sx={{\n                    left: `${\n                      cell.value < 0\n                        ? widthScale(0)\n                        : getBarLeftOffset(cell.value, widthScale)\n                    }px`,\n                  }}\n                />\n              </Box>\n            )}\n          </LinkedCellWrapper>\n        </Flex>\n      );\n    default:\n      return (\n        <Flex\n          className={classes.defaultCell}\n          sx={{\n            justifyContent:\n              columnComponentType === \"NumericalMeasure\"\n                ? \"flex-end\"\n                : \"flex-start\",\n            textAlign:\n              columnComponentType === \"NumericalMeasure\" ? \"right\" : \"left\",\n            color: textColor,\n            backgroundColor: columnColor,\n            fontWeight: textStyle,\n          }}\n          {...cell.getCellProps()}\n        >\n          <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n            {columnMeta.formatter(cell)}\n          </LinkedCellWrapper>\n        </Flex>\n      );\n  }\n};\n\nexport const getBarLeftOffset = (\n  v: number,\n  scale: ScaleLinear<number, number>\n): number => {\n  if (v >= 0) {\n    return scale(Math.max(scale.domain()[0], 0));\n  } else if (v < 0) {\n    return scale(v);\n  } else {\n    return scale(Math.max(scale.domain()[0], 0));\n  }\n};\n\nexport const getBarWidth = (\n  v: number,\n  scale: ScaleLinear<number, number>\n): number => {\n  if (v >= 0) {\n    return scale(v) - scale(Math.max(scale.domain()[0], 0));\n  } else if (v < 0) {\n    return scale(Math.abs(v)) - scale(0);\n  } else {\n    return scale(v) - scale(0);\n  }\n};\n","import { Box } from \"@mui/material\";\nimport { hcl } from \"d3-color\";\nimport { Cell } from \"react-table\";\n\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport { getBarLeftOffset, getBarWidth } from \"@/charts/table/cell-desktop\";\nimport { LinkedCellWrapper } from \"@/charts/table/linked-cell-wrapper\";\nimport { ColumnMeta, TableChartState } from \"@/charts/table/table-state\";\nimport { Tag } from \"@/charts/table/tag\";\nimport { Flex } from \"@/components/flex\";\nimport { Observation } from \"@/domain/data\";\nimport { useFormatNumber } from \"@/formatters\";\n\nexport const DDContent = ({\n  cell,\n  columnMeta,\n}: {\n  cell: Cell<Observation>;\n  columnMeta: ColumnMeta;\n}) => {\n  const chartState = useChartState() as TableChartState;\n  const { bounds, links } = chartState;\n  const { chartWidth } = bounds;\n\n  const formatNumber = useFormatNumber();\n\n  const {\n    columnComponentType,\n    textColor,\n    textStyle,\n    barShowBackground,\n    barColorBackground,\n    barColorNegative,\n    barColorPositive,\n  } = columnMeta;\n\n  switch (columnMeta.type) {\n    case \"text\": {\n      return (\n        <Box\n          component=\"div\"\n          sx={{\n            width: \"100%\",\n            color: textColor,\n            fontWeight: textStyle,\n          }}\n        >\n          <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n            {columnComponentType === \"NumericalMeasure\"\n              ? formatNumber(cell.value)\n              : cell.render(\"Cell\")}\n          </LinkedCellWrapper>\n        </Box>\n      );\n    }\n    case \"category\": {\n      const { colorScale } = columnMeta;\n      return (\n        <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n          <Tag tagColor={colorScale(cell.value)} small>\n            {cell.render(\"Cell\")}\n          </Tag>\n        </LinkedCellWrapper>\n      );\n    }\n    case \"heatmap\": {\n      const { colorScale } = columnMeta;\n      const isNull = cell.value === null;\n      return (\n        <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n          <Box\n            sx={{\n              width: \"fit-content\",\n              px: 1,\n              borderRadius: \"2px\",\n              backgroundColor: isNull ? \"grey.100\" : colorScale(cell.value),\n              color: isNull\n                ? textColor\n                : hcl(colorScale(cell.value)).l < 55\n                  ? \"#fff\"\n                  : \"#000\",\n              fontWeight: textStyle,\n            }}\n          >\n            {formatNumber(cell.value)}\n          </Box>\n        </LinkedCellWrapper>\n      );\n    }\n    case \"bar\": {\n      const { widthScale } = columnMeta;\n      // Reset width scale range based on current viewport\n      widthScale.range([0, chartWidth / 2]);\n      return (\n        <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n          <Flex\n            sx={{\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              width: chartWidth / 2,\n            }}\n          >\n            <Box sx={{ width: chartWidth / 2 }}>{formatNumber(cell.value)}</Box>\n            {cell.value !== null && (\n              <Box\n                sx={{\n                  position: \"relative\",\n                  width: chartWidth / 2,\n                  height: 14,\n                  backgroundColor: barShowBackground\n                    ? barColorBackground\n                    : \"grey.100\",\n                }}\n              >\n                <Box\n                  sx={{\n                    position: \"absolute\",\n                    top: 0,\n                    left: `${getBarLeftOffset(cell.value, widthScale)}px`,\n                    width: `${getBarWidth(cell.value, widthScale)}px`,\n                    height: 14,\n                    backgroundColor:\n                      cell.value > 0 ? barColorPositive : barColorNegative,\n                  }}\n                />\n                <Box\n                  sx={{\n                    position: \"absolute\",\n                    top: \"-2px\",\n                    left: `${\n                      cell.value < 0\n                        ? widthScale(0)\n                        : getBarLeftOffset(cell.value, widthScale)\n                    }px`,\n                    width: \"1px\",\n                    height: 18,\n                    backgroundColor: \"grey.700\",\n                  }}\n                />\n              </Box>\n            )}\n          </Flex>\n        </LinkedCellWrapper>\n      );\n    }\n    default: {\n      return (\n        <LinkedCellWrapper cell={cell} columnMeta={columnMeta} links={links}>\n          <Box\n            component=\"span\"\n            sx={{ color: textColor, fontWeight: textStyle }}\n          >\n            {columnComponentType === \"NumericalMeasure\"\n              ? formatNumber(cell.value)\n              : cell.render(\"Cell\")}\n          </Box>\n        </LinkedCellWrapper>\n      );\n    }\n  }\n};\n","import { Box } from \"@mui/material\";\nimport { hcl } from \"d3-color\";\nimport * as React from \"react\";\nimport { Fragment } from \"react\";\nimport { Row } from \"react-table\";\n\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport { TableChartState } from \"@/charts/table/table-state\";\nimport { Tag } from \"@/charts/table/tag\";\nimport { Flex } from \"@/components/flex\";\nimport { Observation } from \"@/domain/data\";\nimport { Icon } from \"@/icons\";\n\nexport const GroupHeader = ({\n  row,\n  groupingLevels,\n}: {\n  row: Row<Observation>;\n  groupingLevels: number;\n}) => {\n  const { tableColumnsMeta } = useChartState() as TableChartState;\n  const { depth } = row;\n\n  return (\n    <>\n      {/* Here we use `allCells` so that group headers are shown even if the column is hidden */}\n      {row.allCells.map((cell, i) => {\n        const colMeta = tableColumnsMeta[cell.column.id];\n        const { formatter } = colMeta;\n        const bg = getGroupLevelBackgroundColor(groupingLevels - depth);\n\n        return (\n          <Fragment key={i}>\n            {cell.isGrouped && (\n              <Flex\n                {...row.getToggleRowExpandedProps()}\n                sx={{\n                  minWidth: \"100%\",\n                  alignItems: \"center\",\n                  cursor: \"pointer\",\n                  bg,\n                }}\n              >\n                <Box\n                  component=\"span\"\n                  sx={{ width: 24, mr: 0, color: \"grey.600\" }}\n                >\n                  <Icon\n                    name={row.isExpanded ? \"chevronDown\" : \"chevronRight\"}\n                  />\n                </Box>\n                {colMeta.type === \"category\" ? (\n                  <Tag tagColor={colMeta.colorScale(cell.value)}>\n                    {formatter(cell)}\n                  </Tag>\n                ) : (\n                  <Box\n                    component=\"span\"\n                    sx={{\n                      color: hcl(bg).l < 55 ? \"grey.100\" : \"grey.900\",\n                      fontWeight: \"bold\",\n                      textAlign: \"left\",\n                    }}\n                  >\n                    {formatter(cell)}\n                  </Box>\n                )}\n              </Flex>\n            )}\n          </Fragment>\n        );\n      })}\n    </>\n  );\n};\n\nconst getGroupLevelBackgroundColor = (x: number) => {\n  switch (x) {\n    case 0:\n      return \"grey.100\";\n    case 1:\n      return \"grey.100\";\n    case 2:\n      return \"grey.200\";\n    case 3:\n      return \"grey.300\";\n    case 4:\n      return \"grey.400\";\n    case 5:\n      return \"grey.500\";\n    case 6:\n      return \"grey.600\";\n    default:\n      return \"grey.100\";\n  }\n};\n","import { Box, TableSortLabel, Theme } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport clsx from \"clsx\";\nimport { createContext, ReactNode, useContext, useMemo } from \"react\";\nimport { HeaderGroup } from \"react-table\";\n\nimport { SORTING_ARROW_WIDTH } from \"@/charts/table/constants\";\nimport { ColumnMeta } from \"@/charts/table/table-state\";\nimport { Flex } from \"@/components/flex\";\nimport { OpenMetadataPanelWrapper } from \"@/components/metadata-panel\";\nimport { Observation } from \"@/domain/data\";\n\n/** Workaround because react-window can't pass props to inner element */\ntype TableContentProps = {\n  headerGroups: HeaderGroup<Observation>[];\n  tableColumnsMeta: Record<string, ColumnMeta>;\n  customSortCount: number;\n  totalColumnsWidth: number;\n};\n\nconst TableContentContext = createContext<TableContentProps | undefined>(\n  undefined\n);\n\nexport const TableContentProvider = ({\n  headerGroups,\n  tableColumnsMeta,\n  customSortCount,\n  totalColumnsWidth,\n  children,\n}: TableContentProps & { children: ReactNode }) => {\n  const value = useMemo(() => {\n    return {\n      headerGroups,\n      tableColumnsMeta,\n      customSortCount,\n      totalColumnsWidth,\n    };\n  }, [headerGroups, tableColumnsMeta, customSortCount, totalColumnsWidth]);\n\n  return (\n    <TableContentContext.Provider value={value}>\n      {children}\n    </TableContentContext.Provider>\n  );\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  headerGroup: {\n    margin: 0,\n    padding: `${theme.spacing(2)} ${theme.spacing(3)}`,\n    borderTop: \"1px solid\",\n    borderBottom: \"1px solid\",\n    borderTopColor: theme.palette.monochrome[300],\n    borderBottomColor: theme.palette.monochrome[300],\n    fontWeight: \"bold\",\n    fontSize: \"0.875rem\",\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.grey[700],\n    minHeight: SORTING_ARROW_WIDTH,\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    whiteSpace: \"nowrap\",\n  },\n  headerGroupMeasure: {\n    justifyContent: \"flex-end\",\n  },\n}));\n\nexport const TableContent = ({ children }: { children: ReactNode }) => {\n  const ctx = useContext(TableContentContext);\n  const classes = useStyles();\n\n  if (!ctx) {\n    throw Error(\"Please wrap TableContent in TableContentProvider\");\n  }\n\n  const { headerGroups, tableColumnsMeta, customSortCount, totalColumnsWidth } =\n    ctx;\n\n  return (\n    <>\n      <Box sx={{ position: \"sticky\", top: 0, zIndex: 1 }}>\n        {headerGroups.map((headerGroup) => {\n          return (\n            // getHeaderGroupProps() returns props with key\n            // eslint-disable-next-line react/jsx-key\n            <Box {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => {\n                const { dim, columnComponentType } =\n                  tableColumnsMeta[column.id];\n                // We assume that the customSortCount items are at the beginning of the sorted array, so any item with a lower index must be a custom sorted one\n                const isCustomSorted = column.sortedIndex < customSortCount;\n\n                return (\n                  // eslint-disable-next-line react/jsx-key\n                  <Flex\n                    className={clsx(\n                      classes.headerGroup,\n                      columnComponentType === \"NumericalMeasure\"\n                        ? classes.headerGroupMeasure\n                        : undefined\n                    )}\n                    {...column.getHeaderProps(column.getSortByToggleProps())}\n                  >\n                    <TableSortLabel\n                      active={isCustomSorted}\n                      direction={column.isSortedDesc ? \"desc\" : \"asc\"}\n                      sx={{\n                        \"& svg\": {\n                          opacity: isCustomSorted ? 1 : 0.5,\n                        },\n                      }}\n                    >\n                      <OpenMetadataPanelWrapper component={dim}>\n                        <span style={{ fontWeight: \"bold\" }}>\n                          {column.render(\"Header\")}\n                        </span>\n                      </OpenMetadataPanelWrapper>\n                    </TableSortLabel>\n                  </Flex>\n                );\n              })}\n            </Box>\n          );\n        })}\n      </Box>\n      <Box\n        sx={{\n          position: \"relative\",\n          minWidth: totalColumnsWidth,\n          width: \"100%\",\n        }}\n      >\n        {children}\n      </Box>\n    </>\n  );\n};\n","import { t, Trans } from \"@lingui/macro\";\nimport { Box, Theme, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport FlexSearch from \"flexsearch\";\nimport { forwardRef, useCallback, useMemo, useState } from \"react\";\nimport {\n  useExpanded,\n  useFlexLayout,\n  useGroupBy,\n  useSortBy,\n  useTable,\n} from \"react-table\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport { FixedSizeList, VariableSizeList } from \"react-window\";\n\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport { CellDesktop } from \"@/charts/table/cell-desktop\";\nimport { DDContent } from \"@/charts/table/cell-mobile\";\nimport { GroupHeader } from \"@/charts/table/group-header\";\nimport {\n  TableContent,\n  TableContentProvider,\n} from \"@/charts/table/table-content\";\nimport { TableChartState } from \"@/charts/table/table-state\";\nimport { Flex } from \"@/components/flex\";\nimport { Input, Switch } from \"@/components/form\";\nimport { Observation } from \"@/domain/data\";\nimport { Icon } from \"@/icons\";\nimport { DISABLE_SCREENSHOT_ATTR } from \"@/utils/use-screenshot\";\n\nconst MOBILE_VIEW_THRESHOLD = 384;\n\nconst TableContentWrapper = forwardRef<HTMLDivElement, $FixMe>(\n  ({ children, ...props }, ref) => {\n    return (\n      <Box\n        ref={ref}\n        {...props}\n        style={{\n          ...props.style,\n          height: props.style.height + 42,\n        }}\n      >\n        <TableContent>{children}</TableContent>\n      </Box>\n    );\n  }\n);\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    desktopRow: {\n      borderBottom: \"1px solid\",\n      borderBottomColor: theme.palette.monochrome[300],\n    },\n    mobileRow: {\n      borderBottom: \"1px solid\",\n      borderBottomColor: theme.palette.monochrome[300],\n\n      \"&:first-of-type\": {\n        borderTop: \"1px solid\",\n        borderTopColor: theme.palette.monochrome[300],\n      },\n    },\n  };\n});\n\nconst shouldShowCompactMobileView = (width: number) => {\n  return width < MOBILE_VIEW_THRESHOLD;\n};\n\nexport const TABLE_TIME_RANGE_HEIGHT = 40;\n\n/** Use to make sure we don't cut the table off by having other UI elements enabled */\nexport const getTableUIElementsOffset = ({\n  showSearch,\n  width,\n  showTimeRange,\n}: {\n  showSearch: boolean;\n  width: number;\n  showTimeRange: boolean;\n}) => {\n  return (\n    (showSearch ? 48 : 0) +\n    (shouldShowCompactMobileView(width) ? 48 : 0) +\n    (showTimeRange ? TABLE_TIME_RANGE_HEIGHT : 0) +\n    54\n  );\n};\n\nexport const Table = () => {\n  const {\n    bounds,\n    rowHeight,\n    chartData,\n    showSearch,\n    tableColumns,\n    tableColumnsMeta,\n    groupingIds,\n    hiddenIds,\n    sortingIds,\n  } = useChartState() as TableChartState;\n  const classes = useStyles();\n\n  const [compactMobileViewEnabled, setCompactMobileView] = useState(false);\n\n  const showCompactMobileView = shouldShowCompactMobileView(bounds.width);\n\n  // Search & filter data\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const searchIndex = useMemo(() => {\n    // Don't index measure columns\n    const searchFields = Object.values(tableColumnsMeta).flatMap((m) =>\n      m.columnComponentType === \"NumericalMeasure\" ? [] : [m.slugifiedId]\n    );\n\n    const index = FlexSearch.create({\n      tokenize: \"full\",\n      doc: {\n        id: \"id\",\n        field: searchFields,\n      },\n    });\n\n    index.add(chartData);\n\n    return index;\n  }, [tableColumnsMeta, chartData]);\n\n  const filteredData = useMemo(() => {\n    const result =\n      searchTerm === \"\"\n        ? chartData\n        : searchIndex.search({ query: `${searchTerm}` });\n\n    return result as Observation[];\n  }, [chartData, searchTerm, searchIndex]);\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    totalColumnsWidth,\n    prepareRow,\n    visibleColumns,\n    state: tableState,\n  } = useTable<Observation>(\n    {\n      columns: tableColumns,\n      data: filteredData,\n      autoResetExpanded: false,\n      autoResetSortBy: false,\n      useControlledState: (state) => {\n        return useMemo(\n          () => ({\n            ...state,\n            sortBy: [...state.sortBy, ...sortingIds],\n            groupBy: groupingIds,\n            hiddenColumns: hiddenIds,\n          }),\n          // eslint does not detect correctly the dependencies here due to the\n          // hook not being in the body of the component.\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [state, groupingIds, hiddenIds, sortingIds]\n        );\n      },\n    },\n    useFlexLayout,\n    useGroupBy,\n    useSortBy,\n    useExpanded\n  );\n\n  // If the table has a custom sort, the tableState.sortBy has these items prepended.\n  const customSortCount = tableState.sortBy.length - sortingIds.length;\n\n  // Desktop row\n  const renderDesktopRow = useCallback(\n    ({ index, style }) => {\n      const row = rows[index];\n      prepareRow(row);\n      return (\n        <Box\n          {...row.getRowProps({\n            style: { ...style, minWidth: \"100%\" },\n          })}\n          className={classes.desktopRow}\n        >\n          {row.subRows.length === 0 ? (\n            row.cells.map((cell, i) => {\n              return (\n                <CellDesktop\n                  key={i}\n                  cell={cell}\n                  columnMeta={tableColumnsMeta[cell.column.id]}\n                />\n              );\n            })\n          ) : (\n            <GroupHeader row={row} groupingLevels={groupingIds.length} />\n          )}\n        </Box>\n      );\n    },\n    [classes.desktopRow, groupingIds.length, prepareRow, rows, tableColumnsMeta]\n  );\n\n  // Mobile row\n  const MOBILE_ROW_HEIGHT = 32;\n  const getMobileItemSize = useCallback(\n    (index: number) => {\n      return rows[index].isGrouped\n        ? rowHeight\n        : visibleColumns.length * MOBILE_ROW_HEIGHT;\n    },\n    [rows, rowHeight, visibleColumns.length]\n  );\n\n  const renderMobileRow = useCallback(\n    ({ index, style }) => {\n      const row = rows[index];\n      prepareRow(row);\n\n      return (\n        <>\n          <Box\n            className={classes.mobileRow}\n            {...row.getRowProps({\n              style: {\n                ...style,\n                flexDirection: \"column\",\n                width: \"100%\",\n              },\n            })}\n          >\n            {row.subRows.length === 0 ? (\n              row.cells.map((cell, i) => {\n                return (\n                  <Flex\n                    key={i}\n                    component=\"dl\"\n                    sx={{\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                      color: \"grey.800\",\n                      fontSize: \"0.75rem\",\n                      my: 1,\n                    }}\n                  >\n                    <Box\n                      component=\"dt\"\n                      sx={{\n                        fontWeight: \"bold\",\n                        mr: 2,\n                        whiteSpace: \"nowrap\",\n                      }}\n                    >\n                      {cell.column.Header}\n                    </Box>\n                    <Flex\n                      component=\"dd\"\n                      sx={{\n                        position: \"relative\",\n                        justifyContent: \"flex-end\",\n                        textAlign: \"right\",\n                        ml: 2,\n                      }}\n                    >\n                      <DDContent\n                        cell={cell}\n                        columnMeta={tableColumnsMeta[cell.column.id]}\n                      />\n                    </Flex>\n                  </Flex>\n                );\n              })\n            ) : (\n              // Group\n              <Flex sx={{ height: rowHeight, ml: `${row.depth * 12}px` }}>\n                <GroupHeader row={row} groupingLevels={groupingIds.length} />\n              </Flex>\n            )}\n          </Box>\n        </>\n      );\n    },\n    [\n      classes.mobileRow,\n      groupingIds.length,\n      prepareRow,\n      rowHeight,\n      rows,\n      tableColumnsMeta,\n    ]\n  );\n\n  return (\n    <>\n      {showSearch && (\n        <Box\n          sx={{ mb: 4, width: \"min(100%, 300px)\" }}\n          {...DISABLE_SCREENSHOT_ATTR}\n        >\n          <Input\n            type=\"text\"\n            name=\"search-input\"\n            placeholder={t({\n              id: \"table.search.placeholder\",\n              message: \"Search...\",\n            })}\n            endAdornment={<Icon name=\"search\" />}\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.currentTarget.value)}\n          />\n        </Box>\n      )}\n      <Box\n        sx={{ my: 3 }}\n        style={{\n          display: bounds.width < MOBILE_VIEW_THRESHOLD ? \"block\" : \"none\",\n        }}\n      >\n        <Switch\n          label={\n            <Trans id=\"chart.published.toggle.mobile.view\">Compact view</Trans>\n          }\n          name=\"Compact view\"\n          checked={compactMobileViewEnabled}\n          onChange={() => setCompactMobileView(!compactMobileViewEnabled)}\n        />\n      </Box>\n\n      {showCompactMobileView && compactMobileViewEnabled ? (\n        /* Compact Mobile View */\n        <Box\n          sx={{\n            width: \"100%\",\n            height: \"100%\",\n            position: \"relative\",\n            backgroundColor: \"grey.100\",\n            mb: 4,\n            fontSize: \"0.875rem\",\n          }}\n        >\n          <AutoSizer>\n            {({ width, height }: { width: number; height: number }) => (\n              <VariableSizeList\n                key={rows.length} // Reset when groups are toggled because itemSize remains cached per index\n                height={height}\n                itemCount={rows.length}\n                itemSize={getMobileItemSize}\n                width={width}\n              >\n                {renderMobileRow}\n              </VariableSizeList>\n            )}\n          </AutoSizer>\n        </Box>\n      ) : (\n        /* Regular table view */\n        <Box\n          sx={{ position: \"relative\", mb: 4, fontSize: \"0.875rem\" }}\n          {...getTableProps({ style: { minWidth: \"100%\", height: \"100%\" } })}\n        >\n          <div {...getTableBodyProps()} style={{ height: \"100%\" }}>\n            <TableContentProvider\n              headerGroups={headerGroups}\n              tableColumnsMeta={tableColumnsMeta}\n              customSortCount={customSortCount}\n              totalColumnsWidth={totalColumnsWidth}\n            >\n              <AutoSizer disableWidth>\n                {({ height }: { height: number }) => (\n                  <FixedSizeList\n                    outerElementType={TableContentWrapper}\n                    // row height = header row height\n                    height={height - rowHeight}\n                    itemCount={rows.length}\n                    itemSize={rowHeight} // depends on whether a column has bars (40px or 56px)\n                    width=\"100%\"\n                  >\n                    {renderDesktopRow}\n                  </FixedSizeList>\n                )}\n              </AutoSizer>\n            </TableContentProvider>\n          </div>\n        </Box>\n      )}\n      <Typography\n        variant=\"body3\"\n        sx={{ display: \"flex\", justifyContent: \"flex-end\", mb: 5 }}\n      >\n        <Trans id=\"chart.table.number.of.lines\">Total number of rows:</Trans>{\" \"}\n        {filteredData.length}\n      </Typography>\n    </>\n  );\n};\n","import { usePlottableData } from \"@/charts/shared/chart-helpers\";\nimport {\n  BaseVariables,\n  ChartStateData,\n  TemporalMaybeXVariables,\n  useBaseVariables,\n  useChartData,\n  useTemporalMaybeXVariables,\n} from \"@/charts/shared/chart-state\";\nimport { TableConfig } from \"@/configurator\";\n\nimport { ChartProps } from \"../shared/chart-props\";\n\nexport type TableStateVariables = BaseVariables & TemporalMaybeXVariables;\n\nexport const useTableStateVariables = (\n  props: ChartProps<TableConfig>\n): TableStateVariables => {\n  const { chartConfig, dimensionsById } = props;\n\n  const baseVariables = useBaseVariables(chartConfig);\n\n  const { timeRange } = chartConfig.interactiveFiltersConfig;\n  const timeRangeDimensionId = timeRange.active\n    ? timeRange.componentId\n    : undefined;\n  const temporalMaybeXVariables = useTemporalMaybeXVariables(\n    { componentId: timeRangeDimensionId },\n    { dimensionsById }\n  );\n\n  return { ...baseVariables, ...temporalMaybeXVariables };\n};\n\nexport const useTableStateData = (\n  chartProps: ChartProps<TableConfig>,\n  variables: TableStateVariables\n): ChartStateData => {\n  const { chartConfig, observations } = chartProps;\n  const { xDimension, getX } = variables;\n  const plottableData = usePlottableData(observations, {});\n\n  return useChartData(plottableData, {\n    chartConfig,\n    timeRangeDimensionId: xDimension?.id,\n    axisDimensionId: xDimension?.id,\n    getAxisValueAsDate: getX,\n    getTimeRangeDate: getX,\n  });\n};\n","import { ascending, extent, max, min } from \"d3-array\";\nimport {\n  ScaleDiverging,\n  scaleDiverging,\n  ScaleLinear,\n  scaleLinear,\n  ScaleOrdinal,\n  scaleOrdinal,\n  ScaleSequential,\n  scaleTime,\n  ScaleTime,\n} from \"d3-scale\";\nimport { schemeCategory10 } from \"d3-scale-chromatic\";\nimport mapKeys from \"lodash/mapKeys\";\nimport mapValues from \"lodash/mapValues\";\nimport { PropsWithChildren, useMemo } from \"react\";\nimport { Cell, Column, Row } from \"react-table\";\n\nimport {\n  getLabelWithUnit,\n  getSlugifiedId,\n} from \"@/charts/shared/chart-helpers\";\nimport {\n  ChartContext,\n  ChartStateData,\n  CommonChartState,\n} from \"@/charts/shared/chart-state\";\nimport { useSize } from \"@/charts/shared/use-size\";\nimport { BAR_CELL_PADDING, TABLE_HEIGHT } from \"@/charts/table/constants\";\nimport { getTableUIElementsOffset } from \"@/charts/table/table\";\nimport {\n  TableStateVariables,\n  useTableStateData,\n  useTableStateVariables,\n} from \"@/charts/table/table-state-props\";\nimport {\n  ColumnStyleCategory,\n  ColumnStyleHeatmap,\n  ComponentType,\n  TableConfig,\n  TableLinks,\n} from \"@/configurator\";\nimport {\n  mkNumber,\n  useOrderedTableColumns,\n} from \"@/configurator/components/ui-helpers\";\nimport {\n  Component,\n  Observation,\n  TemporalDimension,\n  TemporalEntityDimension,\n} from \"@/domain/data\";\nimport { useDimensionFormatters, useFormatNumber } from \"@/formatters\";\nimport { getColorInterpolator } from \"@/palettes\";\nimport { getTextWidth } from \"@/utils/get-text-width\";\nimport { makeDimensionValueSorters } from \"@/utils/sorting-values\";\n\nimport { ChartProps } from \"../shared/chart-props\";\n\ntype MKColumnMeta<T> = {\n  dim: Component;\n  id: string;\n  slugifiedId: string;\n  description?: string;\n  columnComponentType: ComponentType;\n  formatter: (cell: Cell<Observation, any>) => string;\n  textStyle?: string;\n  textColor?: string;\n  columnColor?: string;\n  barShowBackground?: boolean;\n  barColorBackground?: string;\n  barColorNegative?: string;\n  barColorPositive?: string;\n} & T;\n\ntype BarColumnMeta = MKColumnMeta<{\n  type: \"bar\";\n  widthScale: ScaleLinear<number, number>;\n}>;\n\ntype HeatmapColumnMeta = MKColumnMeta<{\n  type: \"heatmap\";\n  colorScale:\n    | ScaleSequential<string>\n    | ScaleDiverging<string>\n    | ScaleOrdinal<string, string, never>;\n}>;\n\ntype CategoryColumnMeta = MKColumnMeta<{\n  type: \"category\";\n  colorScale: ScaleOrdinal<string, string, never>;\n}>;\n\ntype TextColumnMeta = MKColumnMeta<{\n  type: \"text\";\n}>;\n\nexport type ColumnMeta =\n  | BarColumnMeta\n  | HeatmapColumnMeta\n  | CategoryColumnMeta\n  | TextColumnMeta\n  | MKColumnMeta<{ type: \"other\" }>;\n\ntype TableInteractiveTimeRangeState = {\n  xDimension?: TemporalDimension | TemporalEntityDimension;\n  getX: (d: Observation) => Date;\n  xScaleTimeRange: ScaleTime<number, number>;\n};\n\nexport type TableChartState = CommonChartState &\n  TableInteractiveTimeRangeState & {\n    chartType: \"table\";\n    rowHeight: number;\n    showSearch: boolean;\n    tableColumns: Column<Observation>[];\n    tableColumnsMeta: Record<string, ColumnMeta>;\n    groupingIds: string[];\n    hiddenIds: string[];\n    sortingIds: { id: string; desc: boolean }[];\n    links: TableLinks;\n  };\n\nconst useTableState = (\n  chartProps: ChartProps<TableConfig>,\n  variables: TableStateVariables,\n  data: ChartStateData\n): TableChartState => {\n  const { chartConfig, dimensions, measures } = chartProps;\n  const { getX } = variables;\n  const { chartData, allData, timeRangeData } = data;\n  const { fields, settings, links, sorting } = chartConfig;\n  const formatNumber = useFormatNumber();\n\n  const hasBar = Object.values(fields).some(\n    (fValue) => fValue.columnStyle.type === \"bar\"\n  );\n  const rowHeight = hasBar ? 56 : 40;\n\n  const { width } = useSize();\n  const margins = {\n    top: 10,\n    right: 10,\n    bottom: 10,\n    left: 10,\n  };\n  const chartWidth = width - margins.left - margins.right;\n  const chartHeight = Math.min(\n    TABLE_HEIGHT,\n    // + 1 for the header row\n    (chartData.length + 1) * rowHeight\n  );\n\n  const height =\n    chartHeight +\n    margins.top +\n    margins.bottom +\n    getTableUIElementsOffset({\n      showSearch: settings.showSearch,\n      width,\n      showTimeRange: chartConfig.interactiveFiltersConfig.timeRange.active,\n    });\n  const bounds = {\n    width,\n    height,\n    aspectRatio: height / width,\n    margins,\n    chartWidth,\n    chartHeight,\n  };\n\n  const orderedTableColumns = useOrderedTableColumns(fields);\n\n  /**\n   * REACT-TABLE CONFIGURATION\n   * React-table is a headless hook, the following code\n   * is used to manage its internal state from the editor.\n   */\n\n  const types = [...dimensions, ...measures].reduce(\n    (obj, c) => ({ ...obj, [getSlugifiedId(c.id)]: c.__typename }),\n    {} as { [x: string]: ComponentType }\n  );\n  // Data used by react-table\n  const memoizedData = useMemo(\n    function replaceKeys() {\n      // Only read keys once\n      const keys = Object.keys(chartData[0] ?? []);\n      const n = keys.length;\n      const slugifiedKeys = keys.map(getSlugifiedId);\n\n      return chartData.map((d, index) => {\n        const o = { id: index } as $IntentionalAny;\n\n        for (let i = 0; i < n; i++) {\n          const slugifiedKey = slugifiedKeys[i];\n          const key = keys[i];\n          const value = d[key];\n          o[slugifiedKey] =\n            types[slugifiedKey] !== \"NumericalMeasure\"\n              ? value\n              : value !== null && value !== undefined\n                ? +value\n                : null;\n        }\n\n        return o;\n      });\n    },\n    [chartData, types]\n  );\n\n  // Columns used by react-table\n  const tableColumns = useMemo(() => {\n    const allComponents = [...dimensions, ...measures];\n\n    const columns = orderedTableColumns.map((c) => {\n      const headerComponent = allComponents.find((d) => d.id === c.componentId);\n\n      if (!headerComponent) {\n        throw Error(`No dimension <${c.componentId}> in cube!`);\n      }\n\n      const sorters = makeDimensionValueSorters(headerComponent, {\n        sorting: { sortingType: \"byTableSortingType\", sortingOrder: \"asc\" },\n      });\n\n      const headerLabel = getLabelWithUnit(headerComponent);\n\n      // The column width depends on the estimated width of the\n      // longest value in the column, with a minimum of 150px.\n      const columnItems = [...new Set(chartData.map((d) => d[c.componentId]))];\n      const columnItemSizes = [\n        ...columnItems.map((item) => {\n          const itemAsString =\n            c.componentType === \"NumericalMeasure\"\n              ? formatNumber(item as number)\n              : item;\n\n          return getTextWidth(`${itemAsString}`, { fontSize: 16 }) + 20;\n        }),\n      ];\n\n      const width = Math.max(\n        50,\n        getTextWidth(headerLabel, { fontSize: 16 }) + 44,\n        ...columnItemSizes\n      );\n\n      return {\n        Header: headerLabel,\n        // Slugify accessor to avoid id's \".\" to be parsed as JS object notation.\n        accessor: getSlugifiedId(c.componentId),\n        width,\n        sortType: (\n          rowA: Row<Observation>,\n          rowB: Row<Observation>,\n          colId: string\n        ) => {\n          for (const d of sorters) {\n            const result = ascending(\n              d(rowA.values[colId]),\n              d(rowB.values[colId])\n            );\n\n            if (result) {\n              return result;\n            }\n          }\n\n          return 0;\n        },\n      };\n    });\n\n    return columns;\n  }, [dimensions, measures, orderedTableColumns, chartData, formatNumber]);\n\n  // Groupings used by react-table\n  const groupingIds = useMemo(\n    () =>\n      orderedTableColumns\n        .filter((c) => c.isGroup)\n        .map((c) => getSlugifiedId(c.componentId)),\n    [orderedTableColumns]\n  );\n\n  // Sorting used by react-table\n  const sortingIds = useMemo(() => {\n    return [\n      // Prioritize the configured sorting\n      ...sorting.map((s) => ({\n        id: getSlugifiedId(s.componentId),\n        desc: s.sortingOrder === \"desc\",\n      })),\n      // Add the remaining table columns to the sorting\n      ...orderedTableColumns.flatMap((c) => {\n        return sorting.some((s) => s.componentId === c.componentId)\n          ? []\n          : [{ id: getSlugifiedId(c.componentId), desc: false }];\n      }),\n    ];\n  }, [sorting, orderedTableColumns]);\n\n  const formatters = useDimensionFormatters([...dimensions, ...measures]);\n\n  const hiddenIds = useMemo(\n    () =>\n      orderedTableColumns\n        .filter((c) => c.isHidden)\n        .map((c) => getSlugifiedId(c.componentId)),\n    [orderedTableColumns]\n  );\n\n  /**\n   * TABLE FORMATTING\n   * tableColumnsMeta contains styles for columns/cell components.\n   * It is not used by react-table, only for custom styling.\n   */\n  const tableColumnsMeta = useMemo<TableChartState[\"tableColumnsMeta\"]>(() => {\n    const allColumnsById = Object.fromEntries(\n      [...dimensions, ...measures].map((x) => [x.id, x])\n    );\n    const meta: Record<string, ColumnMeta> = mapKeys(\n      mapValues(fields, (columnMeta, id) => {\n        const slugifiedId = getSlugifiedId(id);\n        const columnStyle = columnMeta.columnStyle;\n        const columnStyleType = columnStyle.type;\n        const columnComponentType = columnMeta.componentType;\n        const formatter = formatters[id];\n        const cellFormatter = (x: Cell<Observation>) => formatter(x.value);\n        const common = {\n          dim: allColumnsById[id],\n          id,\n          slugifiedId,\n          columnComponentType,\n          description: allColumnsById[id]?.description || undefined,\n          formatter: cellFormatter,\n          ...columnStyle,\n        } as const;\n        if (columnStyleType === \"text\") {\n          return common as TextColumnMeta;\n        } else if (columnStyleType === \"category\") {\n          const { colorMapping } = columnStyle as ColumnStyleCategory;\n          const dimension = allColumnsById[id];\n          const colorScale = scaleOrdinal<string>();\n          const labelsAndColor = Object.keys(colorMapping).map(\n            (colorMappingIri) => {\n              const dvLabel = (\n                dimension.values.find((s) => {\n                  return s.value === colorMappingIri;\n                }) ?? { label: \"unknown\" }\n              ).label;\n\n              return {\n                label: dvLabel,\n                color: colorMapping![colorMappingIri] ?? schemeCategory10[0],\n              };\n            }\n          );\n\n          colorScale.domain(labelsAndColor.map((s) => s.label));\n          colorScale.range(labelsAndColor.map((s) => s.color));\n\n          return {\n            ...common,\n            colorScale,\n          } as CategoryColumnMeta;\n        } else if (columnStyleType === \"heatmap\") {\n          const absMinValue =\n            min(chartData, (d) =>\n              d[id] !== null ? Math.abs(d[id] as number) : 0\n            ) || 0;\n          const absMaxValue =\n            max(chartData, (d) =>\n              d[id] !== null ? Math.abs(d[id] as number) : 1\n            ) || 1;\n          const maxAbsoluteValue = Math.max(absMinValue, absMaxValue);\n          const colorScale = scaleDiverging(\n            getColorInterpolator((columnStyle as ColumnStyleHeatmap).paletteId)\n          ).domain([-maxAbsoluteValue, 0, maxAbsoluteValue]);\n          return {\n            ...common,\n            colorScale,\n          } as HeatmapColumnMeta;\n        } else if (columnStyleType === \"bar\") {\n          // The column width depends on the estimated width of the\n          // longest value in the column, with a minimum of 150px.\n          const columnItems = [\n            ...new Set(\n              chartData.map((d) =>\n                d !== null && d[id] !== null ? mkNumber(d[id]) : NaN\n              )\n            ),\n          ];\n          const columnItemSizes = columnItems.map((item) => {\n            const itemAsString = formatter(item);\n            return getTextWidth(`${itemAsString}`, { fontSize: 16 }) + 80;\n          });\n          const width =\n            Math.max(max(columnItemSizes, (d) => d) || 150, 150) -\n            BAR_CELL_PADDING * 2;\n          const domain = extent(columnItems, (d) => d) as [number, number];\n          const widthScale = scaleLinear().domain(domain).range([0, width]);\n\n          return { ...common, widthScale } as BarColumnMeta;\n        } else {\n          return null as never;\n        }\n      }),\n      (v) => v.slugifiedId\n    );\n\n    return meta;\n  }, [dimensions, measures, fields, formatters, chartData]);\n\n  const xScaleTimeRange = useMemo(() => {\n    const xScaleTimeRangeDomain = extent(timeRangeData, (d) => getX(d)) as [\n      Date,\n      Date,\n    ];\n    return scaleTime().domain(xScaleTimeRangeDomain);\n  }, [getX, timeRangeData]);\n\n  xScaleTimeRange.range([0, chartWidth]);\n\n  return {\n    chartType: \"table\",\n    chartData: memoizedData,\n    allData,\n    bounds,\n    rowHeight,\n    showSearch: settings.showSearch,\n    tableColumns,\n    tableColumnsMeta,\n    groupingIds,\n    hiddenIds,\n    sortingIds,\n    xScaleTimeRange,\n    links,\n    ...variables,\n  };\n};\n\nconst TableChartProvider = (\n  props: PropsWithChildren<ChartProps<TableConfig>>\n) => {\n  const { children, ...chartProps } = props;\n  const variables = useTableStateVariables(chartProps);\n  const data = useTableStateData(chartProps, variables);\n  const state = useTableState(chartProps, variables, data);\n\n  return (\n    <ChartContext.Provider value={state}>{children}</ChartContext.Provider>\n  );\n};\n\nexport const TableChart = (\n  props: PropsWithChildren<ChartProps<TableConfig>>\n) => {\n  return <TableChartProvider {...props} />;\n};\n","import { memo } from \"react\";\n\nimport { ChartDataWrapper } from \"@/charts/chart-data-wrapper\";\nimport { BrushTime, shouldShowBrush } from \"@/charts/shared/brush\";\nimport { ChartContainer } from \"@/charts/shared/containers\";\nimport { Table, TABLE_TIME_RANGE_HEIGHT } from \"@/charts/table/table\";\nimport { TableChart } from \"@/charts/table/table-state\";\nimport { TableConfig } from \"@/configurator\";\nimport { hasChartConfigs, useConfiguratorState } from \"@/configurator\";\n\nimport { ChartProps, VisualizationProps } from \"../shared/chart-props\";\n\nexport const ChartTableVisualization = (\n  props: VisualizationProps<TableConfig>\n) => {\n  const { observationQueryFilters } = props;\n\n  return (\n    <ChartDataWrapper\n      {...props}\n      observationQueryFilters={observationQueryFilters}\n      Component={ChartTable}\n    />\n  );\n};\n\nconst ChartTable = memo(function ChartTable(props: ChartProps<TableConfig>) {\n  const { chartConfig } = props;\n  const { interactiveFiltersConfig } = chartConfig;\n  const [{ dashboardFilters }] = useConfiguratorState(hasChartConfigs);\n  const showTimeBrush = shouldShowBrush(\n    interactiveFiltersConfig,\n    dashboardFilters?.timeRange\n  );\n\n  return (\n    <TableChart {...props}>\n      <ChartContainer>\n        {showTimeBrush && (\n          <svg\n            style={{\n              width: \"100%\",\n              height: TABLE_TIME_RANGE_HEIGHT,\n              minHeight: TABLE_TIME_RANGE_HEIGHT,\n            }}\n          >\n            <BrushTime yOffset={10} />\n          </svg>\n        )}\n        <Table />\n      </ChartContainer>\n    </TableChart>\n  );\n});\n","import { theme } from \"@/themes/theme\";\n\nlet canvas: HTMLCanvasElement;\nlet ctx: CanvasRenderingContext2D;\nconst fontFamily = theme.typography.fontFamily as string;\n\nexport const getTextWidth = (text: string, options: { fontSize: number }) => {\n  if (canvas === undefined && ctx === undefined) {\n    canvas = document.createElement(\"canvas\");\n    ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n  }\n\n  ctx.font = `${options.fontSize}px ${fontFamily}`;\n\n  return ctx.measureText(text).width;\n};\n"],"names":["A11yTable","memo","_ref","title","dimensions","measures","observations","headers","useMemo","obsKeys","Set","Object","keys","filter","d","has","id","_jsx","VisuallyHidden","children","_jsxs","map","_ref2","label","role","scope","Box","obs","i","_ref3","useStyles","makeStyles","dataWrapper","position","width","height","display","flexDirection","ChartDataWrapperInner","chartConfig","LoadingOverlayComponent","LoadingOverlay","Component","ComponentProps","componentIds","dataSource","embedParams","observationQueryFilters","fetching","fetchingProp","error","propError","chartLoadingState","useLoadingState","classes","locale","useLocale","commonQueryVariables","sourceType","type","sourceUrl","url","metadataQuery","useDataCubesMetadataQuery","variables","_objectSpread","cubeFilters","cubes","cube","iri","keepPreviousData","componentsQuery","useDataCubesComponentsQuery","joinBy","loadValues","observationsQuery","useDataCubesObservationsQuery","data","metadataData","fetchingMetadata","metadataError","componentsData","fetchingComponents","componentsError","observationsData","fetchingObservations","observationsError","metadata","dataCubesMetadata","dataCubesObservations","dataCubesComponents","useEffect","set","dimensionsById","measuresById","keyBy","Flex","sx","gap","Error","message","Loading","join","className","loading","length","createElement","AnimatePresence","NoDataHint","ChartDataWrapper","props","key","c","flexGrow","justifyContent","minHeight","LoadingDataError","TICK_FONT_SIZE","useChartTheme","theme","useTheme","labelColor","palette","text","primary","domainColor","monochrome","gridColor","cobalt","fontFamily","typography","brushOverlayColor","brushSelectionColor","brushHandleStrokeColor","brushHandleFillColor","background","paper","axisLabelFontSize","smallerTexts","useMediaQuery","breakpoints","down","labelFontSize","link","alignItems","spacing","color","fontWeight","textDecoration","getLinkHref","cell","baseUrl","componentId","slugifiedId","getSlugifiedId","original","row","iriValue","rawValue","value","split","pop","LinkedCellWrapper","columnMeta","links","isLinkedColumn","enabled","trim","targetComponentId","href","Link","target","style","flex","Icon","name","size","_Fragment","Tag","tagColor","small","component","backgroundColor","hcl","l","borderRadius","px","py","my","heatmapCell","textAlign","padding","defaultCell","paddingLeft","paddingRight","barBackground","top","grey","barForeground","CellDesktop","columnComponentType","textStyle","textColor","columnColor","barColorPositive","barColorNegative","barColorBackground","barShowBackground","useChartState","getCellProps","formatter","colorScale","cColorScale","pl","pr","hColorScale","isNull","widthScale","range","left","getBarLeftOffset","getBarWidth","v","scale","Math","max","domain","abs","DDContent","bounds","chartWidth","formatNumber","useFormatNumber","render","GroupHeader","groupingLevels","tableColumnsMeta","depth","allCells","colMeta","column","bg","getGroupLevelBackgroundColor","Fragment","isGrouped","getToggleRowExpandedProps","minWidth","cursor","mr","isExpanded","x","TableContentContext","createContext","undefined","TableContentProvider","headerGroups","customSortCount","totalColumnsWidth","Provider","headerGroup","margin","borderTop","borderBottom","borderTopColor","borderBottomColor","fontSize","whiteSpace","headerGroupMeasure","TableContent","ctx","useContext","zIndex","getHeaderGroupProps","dim","isCustomSorted","sortedIndex","clsx","getHeaderProps","getSortByToggleProps","TableSortLabel","active","direction","isSortedDesc","opacity","OpenMetadataPanelWrapper","TableContentWrapper","forwardRef","ref","_objectWithoutProperties","_excluded","desktopRow","mobileRow","shouldShowCompactMobileView","getTableUIElementsOffset","showSearch","showTimeRange","Table","rowHeight","chartData","tableColumns","groupingIds","hiddenIds","sortingIds","compactMobileViewEnabled","setCompactMobileView","useState","showCompactMobileView","searchTerm","setSearchTerm","searchIndex","searchFields","values","flatMap","m","index","FlexSearch","tokenize","doc","field","add","filteredData","search","query","getTableProps","getTableBodyProps","rows","prepareRow","visibleColumns","state","tableState","useTable","columns","autoResetExpanded","autoResetSortBy","useControlledState","sortBy","groupBy","hiddenColumns","useFlexLayout","useGroupBy","useSortBy","useExpanded","renderDesktopRow","useCallback","getRowProps","subRows","cells","getMobileItemSize","renderMobileRow","_ref4","Header","ml","mb","DISABLE_SCREENSHOT_ATTR","Input","placeholder","i18n","_","endAdornment","onChange","e","currentTarget","Switch","Trans","checked","AutoSizer","_ref5","VariableSizeList","itemCount","itemSize","disableWidth","_ref6","FixedSizeList","outerElementType","Typography","variant","useTableStateVariables","baseVariables","useBaseVariables","timeRange","interactiveFiltersConfig","timeRangeDimensionId","temporalMaybeXVariables","useTemporalMaybeXVariables","useTableStateData","chartProps","xDimension","getX","plottableData","usePlottableData","useChartData","axisDimensionId","getAxisValueAsDate","getTimeRangeDate","useTableState","allData","timeRangeData","fields","settings","sorting","hasBar","some","fValue","columnStyle","useSize","margins","right","bottom","chartHeight","min","orderedTableColumns","useOrderedTableColumns","types","reduce","obj","__typename","memoizedData","n","slugifiedKeys","o","slugifiedKey","allComponents","headerComponent","find","sorters","makeDimensionValueSorters","sortingType","sortingOrder","headerLabel","getLabelWithUnit","columnItemSizes","columnItems","item","itemAsString","componentType","getTextWidth","accessor","sortType","rowA","rowB","colId","result","ascending","isGroup","s","desc","formatters","useDimensionFormatters","isHidden","allColumnsById","fromEntries","mapKeys","mapValues","columnStyleType","common","description","colorMapping","dimension","scaleOrdinal","labelsAndColor","colorMappingIri","schemeCategory10","maxAbsoluteValue","scaleDiverging","getColorInterpolator","paletteId","mkNumber","NaN","BAR_CELL_PADDING","extent","scaleLinear","xScaleTimeRange","xScaleTimeRangeDomain","scaleTime","chartType","aspectRatio","TableChartProvider","ChartContext","TableChart","ChartTableVisualization","ChartTable","dashboardFilters","useConfiguratorState","hasChartConfigs","showTimeBrush","shouldShowBrush","ChartContainer","BrushTime","yOffset","canvas","options","document","getContext","font","measureText"],"sourceRoot":""}