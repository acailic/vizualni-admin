{"version":3,"file":"static/chunks/87257.236cb5d3f81e7ce5.js","mappings":"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","sources":["webpack://_N_E/../node_modules/@mapbox/mapbox-gl-supported/index.js","webpack://_N_E/../node_modules/@uiw/color-convert/esm/index.js","webpack://_N_E/../node_modules/lodash/_assignMergeValue.js","webpack://_N_E/../node_modules/lodash/_baseMerge.js","webpack://_N_E/../node_modules/lodash/_baseMergeDeep.js","webpack://_N_E/../node_modules/lodash/_createAssigner.js","webpack://_N_E/../node_modules/lodash/_safeGet.js","webpack://_N_E/../node_modules/lodash/isArrayLikeObject.js","webpack://_N_E/../node_modules/lodash/merge.js","webpack://_N_E/../node_modules/lodash/toPlainObject.js","webpack://_N_E/../node_modules/next/dist/client/image-component.js","webpack://_N_E/../node_modules/next/dist/shared/lib/get-img-props.js","webpack://_N_E/../node_modules/next/dist/shared/lib/image-blur-svg.js","webpack://_N_E/../node_modules/next/dist/shared/lib/image-external.js","webpack://_N_E/../node_modules/next/dist/shared/lib/image-loader.js","webpack://_N_E/../node_modules/maplibre-gl/dist/maplibre-gl.css?2356","webpack://_N_E/../node_modules/next/image.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/use-map.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/utils/transform.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/utils/style-utils.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/utils/deep-equal.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/mapbox/mapbox.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/mapbox/create-ref.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/utils/set-globals.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/map.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/utils/apply-react-style.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/marker.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/popup.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/use-control.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/attribution-control.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/fullscreen-control.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/geolocate-control.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/navigation-control.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/scale-control.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/source.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/components/layer.js","webpack://_N_E/../node_modules/react-map-gl/dist/esm/index.js","webpack://_N_E/../node_modules/topojson-client/src/reverse.js","webpack://_N_E/../node_modules/topojson-client/src/identity.js","webpack://_N_E/../node_modules/topojson-client/src/transform.js","webpack://_N_E/../node_modules/topojson-client/src/feature.js","webpack://_N_E/../node_modules/@babel/runtime/helpers/esm/extends.js","webpack://_N_E/../node_modules/@luma.gl/engine/dist/animation/timeline.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/shaderlib/index.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/shaderlib/misc/layer-uniforms.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/resource/resource.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/resource/resource-manager.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/layer-manager.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/view-manager.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/utils/positions.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/views/view.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/controllers/transition-manager.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/transitions/transition-interpolator.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/transitions/linear-interpolator.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/controllers/controller.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/controllers/view-state.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/controllers/map-controller.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/views/map-view.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/effects/lighting/ambient-light.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/effects/lighting/directional-light.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/passes/pass.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/passes/layers-pass.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/passes/shadow-pass.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/shaderlib/shadow/shadow.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/effects/lighting/lighting-effect.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/effect-manager.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/passes/draw-layers-pass.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/passes/pick-layers-pass.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/deck-renderer.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/picking/query-object.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/picking/pick-info.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/deck-picker.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/widget-manager.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/tooltip.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/utils/json-loader.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/init.js","webpack://_N_E/../node_modules/@luma.gl/core/dist/adapter/luma.js","webpack://_N_E/../node_modules/@luma.gl/core/dist/adapter/adapter.js","webpack://_N_E/../node_modules/@luma.gl/webgl/dist/context/polyfills/polyfill-webgl1-extensions.js","webpack://_N_E/../node_modules/@luma.gl/webgl/dist/adapter/webgl-adapter.js","webpack://_N_E/../node_modules/@luma.gl/engine/dist/animation-loop/request-animation-frame.js","webpack://_N_E/../node_modules/@luma.gl/engine/dist/animation-loop/animation-loop.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/lib/deck.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/controllers/globe-controller.js","webpack://_N_E/../node_modules/@deck.gl/core/dist/views/globe-view.js","webpack://_N_E/../node_modules/@deck.gl/mapbox/dist/deck-utils.js","webpack://_N_E/../node_modules/@deck.gl/mapbox/dist/mapbox-layer.js","webpack://_N_E/../node_modules/@deck.gl/mapbox/dist/resolve-layers.js","webpack://_N_E/../node_modules/@deck.gl/mapbox/dist/mapbox-overlay.js","webpack://_N_E/../node_modules/d3-array/src/fsum.js","webpack://_N_E/../node_modules/d3-array/src/range.js","webpack://_N_E/../node_modules/d3-axis/src/identity.js","webpack://_N_E/../node_modules/d3-axis/src/axis.js","webpack://_N_E/../node_modules/d3-color/src/math.js","webpack://_N_E/../node_modules/d3-color/src/lab.js","webpack://_N_E/../node_modules/d3-geo/src/area.js","webpack://_N_E/../node_modules/d3-geo/src/cartesian.js","webpack://_N_E/../node_modules/d3-geo/src/bounds.js","webpack://_N_E/../node_modules/d3-geo/src/centroid.js","webpack://_N_E/../node_modules/d3-geo/src/math.js","webpack://_N_E/../node_modules/d3-geo/src/noop.js","webpack://_N_E/../node_modules/d3-geo/src/stream.js","webpack://_N_E/../node_modules/d3-scale/src/pow.js","webpack://_N_E/../node_modules/d3-array/src/quantile.js","webpack://_N_E/../node_modules/d3-scale/src/quantile.js","webpack://_N_E/../node_modules/d3-scale/src/quantize.js","webpack://_N_E/../node_modules/d3-scale/src/sequential.js","webpack://_N_E/../node_modules/d3-scale/src/threshold.js","webpack://_N_E/../node_modules/simple-statistics/dist/simple-statistics.mjs"],"sourcesContent":["'use strict';\n\nexports.supported = isSupported;\nexports.notSupportedReason = notSupportedReason;\n\n/**\n * Test whether the current browser supports Mapbox GL JS\n * @param {Object} options\n * @param {boolean} [options.failIfMajorPerformanceCaveat=false] Return `false`\n *   if the performance of Mapbox GL JS would be dramatically worse than\n *   expected (i.e. a software renderer is would be used)\n * @return {boolean}\n */\nfunction isSupported(options) {\n    return !notSupportedReason(options);\n}\n\nfunction notSupportedReason(options) {\n    if (!isBrowser()) return 'not a browser';\n    if (!isArraySupported()) return 'insufficent Array support';\n    if (!isFunctionSupported()) return 'insufficient Function support';\n    if (!isObjectSupported()) return 'insufficient Object support';\n    if (!isJSONSupported()) return 'insufficient JSON support';\n    if (!isWorkerSupported()) return 'insufficient worker support';\n    if (!isUint8ClampedArraySupported()) return 'insufficient Uint8ClampedArray support';\n    if (!isArrayBufferSupported()) return 'insufficient ArrayBuffer support';\n    if (!isCanvasGetImageDataSupported()) return 'insufficient Canvas/getImageData support';\n    if (!isWebGLSupportedCached(options && options.failIfMajorPerformanceCaveat)) return 'insufficient WebGL support';\n    if (!isNotIE()) return 'insufficient ECMAScript 6 support';\n}\n\nfunction isBrowser() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\nfunction isArraySupported() {\n    return (\n        Array.prototype &&\n        Array.prototype.every &&\n        Array.prototype.filter &&\n        Array.prototype.forEach &&\n        Array.prototype.indexOf &&\n        Array.prototype.lastIndexOf &&\n        Array.prototype.map &&\n        Array.prototype.some &&\n        Array.prototype.reduce &&\n        Array.prototype.reduceRight &&\n        Array.isArray\n    );\n}\n\nfunction isFunctionSupported() {\n    return Function.prototype && Function.prototype.bind;\n}\n\nfunction isObjectSupported() {\n    return (\n        Object.keys &&\n        Object.create &&\n        Object.getPrototypeOf &&\n        Object.getOwnPropertyNames &&\n        Object.isSealed &&\n        Object.isFrozen &&\n        Object.isExtensible &&\n        Object.getOwnPropertyDescriptor &&\n        Object.defineProperty &&\n        Object.defineProperties &&\n        Object.seal &&\n        Object.freeze &&\n        Object.preventExtensions\n    );\n}\n\nfunction isJSONSupported() {\n    return 'JSON' in window && 'parse' in JSON && 'stringify' in JSON;\n}\n\nfunction isWorkerSupported() {\n    if (!('Worker' in window && 'Blob' in window && 'URL' in window)) {\n        return false;\n    }\n\n    var blob = new Blob([''], { type: 'text/javascript' });\n    var workerURL = URL.createObjectURL(blob);\n    var supported;\n    var worker;\n\n    try {\n        worker = new Worker(workerURL);\n        supported = true;\n    } catch (e) {\n        supported = false;\n    }\n\n    if (worker) {\n        worker.terminate();\n    }\n    URL.revokeObjectURL(workerURL);\n\n    return supported;\n}\n\n// IE11 only supports `Uint8ClampedArray` as of version\n// [KB2929437](https://support.microsoft.com/en-us/kb/2929437)\nfunction isUint8ClampedArraySupported() {\n    return 'Uint8ClampedArray' in window;\n}\n\n// https://github.com/mapbox/mapbox-gl-supported/issues/19\nfunction isArrayBufferSupported() {\n    return ArrayBuffer.isView;\n}\n\n// Some browsers or browser extensions block access to canvas data to prevent fingerprinting.\n// Mapbox GL uses this API to load sprites and images in general.\nfunction isCanvasGetImageDataSupported() {\n    var canvas = document.createElement('canvas');\n    canvas.width = canvas.height = 1;\n    var context = canvas.getContext('2d');\n    if (!context) {\n        return false;\n    }\n    var imageData = context.getImageData(0, 0, 1, 1);\n    return imageData && imageData.width === canvas.width;\n}\n\nvar isWebGLSupportedCache = {};\nfunction isWebGLSupportedCached(failIfMajorPerformanceCaveat) {\n\n    if (isWebGLSupportedCache[failIfMajorPerformanceCaveat] === undefined) {\n        isWebGLSupportedCache[failIfMajorPerformanceCaveat] = isWebGLSupported(failIfMajorPerformanceCaveat);\n    }\n\n    return isWebGLSupportedCache[failIfMajorPerformanceCaveat];\n}\n\nisSupported.webGLContextAttributes = {\n    antialias: false,\n    alpha: true,\n    stencil: true,\n    depth: true\n};\n\nfunction getWebGLContext(failIfMajorPerformanceCaveat) {\n    var canvas = document.createElement('canvas');\n\n    var attributes = Object.create(isSupported.webGLContextAttributes);\n    attributes.failIfMajorPerformanceCaveat = failIfMajorPerformanceCaveat;\n\n    return (\n        canvas.getContext('webgl', attributes) ||\n        canvas.getContext('experimental-webgl', attributes)\n    );\n}\n\nfunction isWebGLSupported(failIfMajorPerformanceCaveat) {\n    var gl = getWebGLContext(failIfMajorPerformanceCaveat);\n    if (!gl) {\n        return false;\n    }\n\n    // Try compiling a shader and get its compile status. Some browsers like Brave block this API\n    // to prevent fingerprinting. Unfortunately, this also means that Mapbox GL won't work.\n    var shader;\n    try {\n        shader = gl.createShader(gl.VERTEX_SHADER);\n    } catch (e) {\n        // some older browsers throw an exception that `createShader` is not defined\n        // so handle this separately from the case where browsers block `createShader`\n        // for security reasons\n        return false;\n    }\n\n    if (!shader || gl.isContextLost()) {\n        return false;\n    }\n    gl.shaderSource(shader, 'void main() {}');\n    gl.compileShader(shader);\n    return gl.getShaderParameter(shader, gl.COMPILE_STATUS) === true;\n}\n\nfunction isNotIE() {\n    return !document.documentMode;\n}\n","import _extends from \"@babel/runtime/helpers/extends\";\nvar RGB_MAX = 255;\nvar HUE_MAX = 360;\nvar SV_MAX = 100;\n/**\n * ```js\n * rgbaToHsva({ r: 255, g: 255, b: 255, a: 1 }) //=> { h: 0, s: 0, v: 100, a: 1 }\n * ```\n */\nexport var rgbaToHsva = _ref => {\n  var {\n    r,\n    g,\n    b,\n    a\n  } = _ref;\n  var max = Math.max(r, g, b);\n  var delta = max - Math.min(r, g, b);\n\n  // prettier-ignore\n  var hh = delta ? max === r ? (g - b) / delta : max === g ? 2 + (b - r) / delta : 4 + (r - g) / delta : 0;\n  return {\n    h: 60 * (hh < 0 ? hh + 6 : hh),\n    s: max ? delta / max * SV_MAX : 0,\n    v: max / RGB_MAX * SV_MAX,\n    a\n  };\n};\nexport var hsvaToHslString = hsva => {\n  var {\n    h,\n    s,\n    l\n  } = hsvaToHsla(hsva);\n  // return `hsl(${h}, ${s}%, ${l}%)`;\n  return \"hsl(\" + h + \", \" + Math.round(s) + \"%, \" + Math.round(l) + \"%)\";\n};\nexport var hsvaToHsvString = _ref2 => {\n  var {\n    h,\n    s,\n    v\n  } = _ref2;\n  return \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\";\n};\nexport var hsvaToHsvaString = _ref3 => {\n  var {\n    h,\n    s,\n    v,\n    a\n  } = _ref3;\n  return \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + a + \")\";\n};\nexport var hsvaToHslaString = hsva => {\n  var {\n    h,\n    s,\n    l,\n    a\n  } = hsvaToHsla(hsva);\n  return \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + a + \")\";\n};\nexport var hslStringToHsla = str => {\n  var [h, s, l, a] = (str.match(/\\d+/g) || []).map(Number);\n  return {\n    h,\n    s,\n    l,\n    a\n  };\n};\nexport var hslaStringToHsva = hslString => {\n  var matcher = /hsla?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  var match = matcher.exec(hslString);\n  if (!match) return {\n    h: 0,\n    s: 0,\n    v: 0,\n    a: 1\n  };\n  return hslaToHsva({\n    h: parseHue(match[1], match[2]),\n    s: Number(match[3]),\n    l: Number(match[4]),\n    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? 100 : 1)\n  });\n};\nexport var hslStringToHsva = hslaStringToHsva;\nexport var hslaToHsva = _ref4 => {\n  var {\n    h,\n    s,\n    l,\n    a\n  } = _ref4;\n  s *= (l < 50 ? l : SV_MAX - l) / SV_MAX;\n  return {\n    h: h,\n    s: s > 0 ? 2 * s / (l + s) * SV_MAX : 0,\n    v: l + s,\n    a\n  };\n};\nexport var hsvaToHsla = _ref5 => {\n  var {\n    h,\n    s,\n    v,\n    a\n  } = _ref5;\n  var hh = (200 - s) * v / SV_MAX;\n  return {\n    h,\n    s: hh > 0 && hh < 200 ? s * v / SV_MAX / (hh <= SV_MAX ? hh : 200 - hh) * SV_MAX : 0,\n    l: hh / 2,\n    a\n  };\n};\nexport var hsvaStringToHsva = hsvString => {\n  var matcher = /hsva?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  var match = matcher.exec(hsvString);\n  if (!match) return {\n    h: 0,\n    s: 0,\n    v: 0,\n    a: 1\n  };\n  return {\n    h: parseHue(match[1], match[2]),\n    s: Number(match[3]),\n    v: Number(match[4]),\n    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? SV_MAX : 1)\n  };\n};\n\n/**\n * Valid CSS <angle> units.\n * https://developer.mozilla.org/en-US/docs/Web/CSS/angle\n */\nvar angleUnits = {\n  grad: HUE_MAX / 400,\n  turn: HUE_MAX,\n  rad: HUE_MAX / (Math.PI * 2)\n};\nexport var parseHue = function parseHue(value, unit) {\n  if (unit === void 0) {\n    unit = 'deg';\n  }\n  return Number(value) * (angleUnits[unit] || 1);\n};\nexport var hsvStringToHsva = hsvaStringToHsva;\nexport var rgbaStringToHsva = rgbaString => {\n  var matcher = /rgba?\\(?\\s*(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  var match = matcher.exec(rgbaString);\n  if (!match) return {\n    h: 0,\n    s: 0,\n    v: 0,\n    a: 1\n  };\n  return rgbaToHsva({\n    r: Number(match[1]) / (match[2] ? SV_MAX / RGB_MAX : 1),\n    g: Number(match[3]) / (match[4] ? SV_MAX / RGB_MAX : 1),\n    b: Number(match[5]) / (match[6] ? SV_MAX / RGB_MAX : 1),\n    a: match[7] === undefined ? 1 : Number(match[7]) / (match[8] ? SV_MAX : 1)\n  });\n};\nexport var rgbStringToHsva = rgbaStringToHsva;\n\n/** Converts an RGBA color plus alpha transparency to hex */\nexport var rgbaToHex = _ref6 => {\n  var {\n    r,\n    g,\n    b\n  } = _ref6;\n  var bin = r << 16 | g << 8 | b;\n  return \"#\" + (h => new Array(7 - h.length).join('0') + h)(bin.toString(16));\n};\nexport var rgbaToHexa = _ref7 => {\n  var {\n    r,\n    g,\n    b,\n    a\n  } = _ref7;\n  var alpha = typeof a === 'number' && (a * 255 | 1 << 8).toString(16).slice(1);\n  return \"\" + rgbaToHex({\n    r,\n    g,\n    b,\n    a\n  }) + (alpha ? alpha : '');\n};\nexport var hexToHsva = hex => rgbaToHsva(hexToRgba(hex));\nexport var hexToRgba = hex => {\n  var htemp = hex.replace('#', '');\n  if (/^#?/.test(hex) && htemp.length === 3) {\n    hex = \"#\" + htemp.charAt(0) + htemp.charAt(0) + htemp.charAt(1) + htemp.charAt(1) + htemp.charAt(2) + htemp.charAt(2);\n  }\n  var reg = new RegExp(\"[A-Za-z0-9]{2}\", 'g');\n  var [r, g, b = 0, a] = hex.match(reg).map(v => parseInt(v, 16));\n  return {\n    r,\n    g,\n    b,\n    a: (a != null ? a : 255) / RGB_MAX\n  };\n};\n\n/**\n * Converts HSVA to RGBA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV\n * @param color HSVA color as an array [0-360, 0-1, 0-1, 0-1]\n */\nexport var hsvaToRgba = _ref8 => {\n  var {\n    h,\n    s,\n    v,\n    a\n  } = _ref8;\n  var _h = h / 60,\n    _s = s / SV_MAX,\n    _v = v / SV_MAX,\n    hi = Math.floor(_h) % 6;\n  var f = _h - Math.floor(_h),\n    _p = RGB_MAX * _v * (1 - _s),\n    _q = RGB_MAX * _v * (1 - _s * f),\n    _t = RGB_MAX * _v * (1 - _s * (1 - f));\n  _v *= RGB_MAX;\n  var rgba = {};\n  switch (hi) {\n    case 0:\n      rgba.r = _v;\n      rgba.g = _t;\n      rgba.b = _p;\n      break;\n    case 1:\n      rgba.r = _q;\n      rgba.g = _v;\n      rgba.b = _p;\n      break;\n    case 2:\n      rgba.r = _p;\n      rgba.g = _v;\n      rgba.b = _t;\n      break;\n    case 3:\n      rgba.r = _p;\n      rgba.g = _q;\n      rgba.b = _v;\n      break;\n    case 4:\n      rgba.r = _t;\n      rgba.g = _p;\n      rgba.b = _v;\n      break;\n    case 5:\n      rgba.r = _v;\n      rgba.g = _p;\n      rgba.b = _q;\n      break;\n  }\n  rgba.r = Math.round(rgba.r);\n  rgba.g = Math.round(rgba.g);\n  rgba.b = Math.round(rgba.b);\n  return _extends({}, rgba, {\n    a\n  });\n};\nexport var hsvaToRgbString = hsva => {\n  var {\n    r,\n    g,\n    b\n  } = hsvaToRgba(hsva);\n  return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n};\nexport var hsvaToRgbaString = hsva => {\n  var {\n    r,\n    g,\n    b,\n    a\n  } = hsvaToRgba(hsva);\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n};\nexport var rgbaToRgb = _ref9 => {\n  var {\n    r,\n    g,\n    b\n  } = _ref9;\n  return {\n    r,\n    g,\n    b\n  };\n};\nexport var hslaToHsl = _ref10 => {\n  var {\n    h,\n    s,\n    l\n  } = _ref10;\n  return {\n    h,\n    s,\n    l\n  };\n};\nexport var hsvaToHex = hsva => rgbaToHex(hsvaToRgba(hsva));\nexport var hsvaToHexa = hsva => rgbaToHexa(hsvaToRgba(hsva));\nexport var hsvaToHsv = _ref11 => {\n  var {\n    h,\n    s,\n    v\n  } = _ref11;\n  return {\n    h,\n    s,\n    v\n  };\n};\nexport var hexToXY = hex => rgbToXY(rgbaToRgb(hexToRgba(hex)));\nexport var xyToHex = xy => rgbaToHex(_extends({}, xyToRgb(xy), {\n  a: 255\n}));\n\n/**\n * Converts XY to RGB. Based on formula from https://developers.meethue.com/develop/application-design-guidance/color-conversion-formulas-rgb-to-xy-and-back/\n * @param color XY color and brightness as an array [0-1, 0-1, 0-1]\n */\nexport var xyToRgb = _ref12 => {\n  var {\n    x,\n    y,\n    bri = 255\n  } = _ref12;\n  var red = x * 3.2406255 + y * -1.537208 + bri * -0.4986286;\n  var green = x * -0.9689307 + y * 1.8757561 + bri * 0.0415175;\n  var blue = x * 0.0557101 + y * -0.2040211 + bri * 1.0569959;\n  var translate = function translate(color) {\n    return color <= 0.0031308 ? 12.92 * color : 1.055 * Math.pow(color, 1 / 2.4) - 0.055;\n  };\n  return {\n    r: Math.round(255 * translate(red)),\n    g: Math.round(255 * translate(green)),\n    b: Math.round(255 * translate(blue))\n  };\n};\n\n/**\n * Converts RGB to XY. Based on formula from https://developers.meethue.com/develop/application-design-guidance/color-conversion-formulas-rgb-to-xy-and-back/\n * @param color RGB color as an array [0-255, 0-255, 0-255]\n */\nexport var rgbToXY = _ref13 => {\n  var {\n    r,\n    g,\n    b\n  } = _ref13;\n  var translateColor = function translateColor(color) {\n    return color <= 0.04045 ? color / 12.92 : Math.pow((color + 0.055) / 1.055, 2.4);\n  };\n  var red = translateColor(r / 255);\n  var green = translateColor(g / 255);\n  var blue = translateColor(b / 255);\n  var xyz = {};\n  xyz.x = red * 0.4124 + green * 0.3576 + blue * 0.1805;\n  xyz.y = red * 0.2126 + green * 0.7152 + blue * 0.0722;\n  xyz.bri = red * 0.0193 + green * 0.1192 + blue * 0.9505;\n  return xyz;\n};\nexport var color = str => {\n  var rgb;\n  var hsl;\n  var hsv;\n  var rgba;\n  var hsla;\n  var hsva;\n  var xy;\n  var hex;\n  var hexa;\n  if (typeof str === 'string' && validHex(str)) {\n    hsva = hexToHsva(str);\n    hex = str;\n  } else if (typeof str !== 'string') {\n    hsva = str;\n  }\n  if (hsva) {\n    hsv = hsvaToHsv(hsva);\n    hsla = hsvaToHsla(hsva);\n    rgba = hsvaToRgba(hsva);\n    hexa = rgbaToHexa(rgba);\n    hex = hsvaToHex(hsva);\n    hsl = hslaToHsl(hsla);\n    rgb = rgbaToRgb(rgba);\n    xy = rgbToXY(rgb);\n  }\n  return {\n    rgb,\n    hsl,\n    hsv,\n    rgba,\n    hsla,\n    hsva,\n    hex,\n    hexa,\n    xy\n  };\n};\nexport var getContrastingColor = str => {\n  if (!str) {\n    return '#ffffff';\n  }\n  var col = color(str);\n  var yiq = (col.rgb.r * 299 + col.rgb.g * 587 + col.rgb.b * 114) / 1000;\n  return yiq >= 128 ? '#000000' : '#ffffff';\n};\nexport var equalColorObjects = (first, second) => {\n  if (first === second) return true;\n  for (var prop in first) {\n    // The following allows for a type-safe calling of this function (first & second have to be HSL, HSV, or RGB)\n    // with type-unsafe iterating over object keys. TS does not allow this without an index (`[key: string]: number`)\n    // on an object to define how iteration is normally done. To ensure extra keys are not allowed on our types,\n    // we must cast our object to unknown (as RGB demands `r` be a key, while `Record<string, x>` does not care if\n    // there is or not), and then as a type TS can iterate over.\n    if (first[prop] !== second[prop]) return false;\n  }\n  return true;\n};\nexport var equalColorString = (first, second) => {\n  return first.replace(/\\s/g, '') === second.replace(/\\s/g, '');\n};\nexport var equalHex = (first, second) => {\n  if (first.toLowerCase() === second.toLowerCase()) return true;\n\n  // To compare colors like `#FFF` and `ffffff` we convert them into RGB objects\n  return equalColorObjects(hexToRgba(first), hexToRgba(second));\n};\nexport var validHex = hex => /^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(hex);","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","\"use client\";\n\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"Image\", {\n    enumerable: true,\n    get: function() {\n        return Image;\n    }\n});\nconst _interop_require_default = require(\"@swc/helpers/_/_interop_require_default\");\nconst _interop_require_wildcard = require(\"@swc/helpers/_/_interop_require_wildcard\");\nconst _jsxruntime = require(\"react/jsx-runtime\");\nconst _react = /*#__PURE__*/ _interop_require_wildcard._(require(\"react\"));\nconst _reactdom = /*#__PURE__*/ _interop_require_default._(require(\"react-dom\"));\nconst _head = /*#__PURE__*/ _interop_require_default._(require(\"../shared/lib/head\"));\nconst _getimgprops = require(\"../shared/lib/get-img-props\");\nconst _imageconfig = require(\"../shared/lib/image-config\");\nconst _imageconfigcontextsharedruntime = require(\"../shared/lib/image-config-context.shared-runtime\");\nconst _warnonce = require(\"../shared/lib/utils/warn-once\");\nconst _routercontextsharedruntime = require(\"../shared/lib/router-context.shared-runtime\");\nconst _imageloader = /*#__PURE__*/ _interop_require_default._(require(\"next/dist/shared/lib/image-loader\"));\n// This is replaced by webpack define plugin\nconst configEnv = process.env.__NEXT_IMAGE_OPTS;\nif (typeof window === \"undefined\") {\n    globalThis.__NEXT_IMAGE_IMPORTED = true;\n}\n// See https://stackoverflow.com/q/39777833/266535 for why we use this ref\n// handler instead of the img's onLoad attribute.\nfunction handleLoading(img, placeholder, onLoadRef, onLoadingCompleteRef, setBlurComplete, unoptimized, sizesInput) {\n    const src = img == null ? void 0 : img.src;\n    if (!img || img[\"data-loaded-src\"] === src) {\n        return;\n    }\n    img[\"data-loaded-src\"] = src;\n    const p = \"decode\" in img ? img.decode() : Promise.resolve();\n    p.catch(()=>{}).then(()=>{\n        if (!img.parentElement || !img.isConnected) {\n            // Exit early in case of race condition:\n            // - onload() is called\n            // - decode() is called but incomplete\n            // - unmount is called\n            // - decode() completes\n            return;\n        }\n        if (placeholder !== \"empty\") {\n            setBlurComplete(true);\n        }\n        if (onLoadRef == null ? void 0 : onLoadRef.current) {\n            // Since we don't have the SyntheticEvent here,\n            // we must create one with the same shape.\n            // See https://reactjs.org/docs/events.html\n            const event = new Event(\"load\");\n            Object.defineProperty(event, \"target\", {\n                writable: false,\n                value: img\n            });\n            let prevented = false;\n            let stopped = false;\n            onLoadRef.current({\n                ...event,\n                nativeEvent: event,\n                currentTarget: img,\n                target: img,\n                isDefaultPrevented: ()=>prevented,\n                isPropagationStopped: ()=>stopped,\n                persist: ()=>{},\n                preventDefault: ()=>{\n                    prevented = true;\n                    event.preventDefault();\n                },\n                stopPropagation: ()=>{\n                    stopped = true;\n                    event.stopPropagation();\n                }\n            });\n        }\n        if (onLoadingCompleteRef == null ? void 0 : onLoadingCompleteRef.current) {\n            onLoadingCompleteRef.current(img);\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n            const origSrc = new URL(src, \"http://n\").searchParams.get(\"url\") || src;\n            if (img.getAttribute(\"data-nimg\") === \"fill\") {\n                if (!unoptimized && (!sizesInput || sizesInput === \"100vw\")) {\n                    let widthViewportRatio = img.getBoundingClientRect().width / window.innerWidth;\n                    if (widthViewportRatio < 0.6) {\n                        if (sizesInput === \"100vw\") {\n                            (0, _warnonce.warnOnce)('Image with src \"' + origSrc + '\" has \"fill\" prop and \"sizes\" prop of \"100vw\", but image is not rendered at full viewport width. Please adjust \"sizes\" to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes');\n                        } else {\n                            (0, _warnonce.warnOnce)('Image with src \"' + origSrc + '\" has \"fill\" but is missing \"sizes\" prop. Please add it to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes');\n                        }\n                    }\n                }\n                if (img.parentElement) {\n                    const { position } = window.getComputedStyle(img.parentElement);\n                    const valid = [\n                        \"absolute\",\n                        \"fixed\",\n                        \"relative\"\n                    ];\n                    if (!valid.includes(position)) {\n                        (0, _warnonce.warnOnce)('Image with src \"' + origSrc + '\" has \"fill\" and parent element with invalid \"position\". Provided \"' + position + '\" should be one of ' + valid.map(String).join(\",\") + \".\");\n                    }\n                }\n                if (img.height === 0) {\n                    (0, _warnonce.warnOnce)('Image with src \"' + origSrc + '\" has \"fill\" and a height value of 0. This is likely because the parent element of the image has not been styled to have a set height.');\n                }\n            }\n            const heightModified = img.height.toString() !== img.getAttribute(\"height\");\n            const widthModified = img.width.toString() !== img.getAttribute(\"width\");\n            if (heightModified && !widthModified || !heightModified && widthModified) {\n                (0, _warnonce.warnOnce)('Image with src \"' + origSrc + '\" has either width or height modified, but not the other. If you use CSS to change the size of your image, also include the styles \\'width: \"auto\"\\' or \\'height: \"auto\"\\' to maintain the aspect ratio.');\n            }\n        }\n    });\n}\nfunction getDynamicProps(fetchPriority) {\n    if (Boolean(_react.use)) {\n        // In React 19.0.0 or newer, we must use camelCase\n        // prop to avoid \"Warning: Invalid DOM property\".\n        // See https://github.com/facebook/react/pull/25927\n        return {\n            fetchPriority\n        };\n    }\n    // In React 18.2.0 or older, we must use lowercase prop\n    // to avoid \"Warning: Invalid DOM property\".\n    return {\n        fetchpriority: fetchPriority\n    };\n}\nconst ImageElement = /*#__PURE__*/ (0, _react.forwardRef)((param, forwardedRef)=>{\n    let { src, srcSet, sizes, height, width, decoding, className, style, fetchPriority, placeholder, loading, unoptimized, fill, onLoadRef, onLoadingCompleteRef, setBlurComplete, setShowAltText, sizesInput, onLoad, onError, ...rest } = param;\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(\"img\", {\n        ...rest,\n        ...getDynamicProps(fetchPriority),\n        // It's intended to keep `loading` before `src` because React updates\n        // props in order which causes Safari/Firefox to not lazy load properly.\n        // See https://github.com/facebook/react/issues/25883\n        loading: loading,\n        width: width,\n        height: height,\n        decoding: decoding,\n        \"data-nimg\": fill ? \"fill\" : \"1\",\n        className: className,\n        style: style,\n        // It's intended to keep `src` the last attribute because React updates\n        // attributes in order. If we keep `src` the first one, Safari will\n        // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n        // updated by React. That causes multiple unnecessary requests if `srcSet`\n        // and `sizes` are defined.\n        // This bug cannot be reproduced in Chrome or Firefox.\n        sizes: sizes,\n        srcSet: srcSet,\n        src: src,\n        ref: (0, _react.useCallback)((img)=>{\n            if (forwardedRef) {\n                if (typeof forwardedRef === \"function\") forwardedRef(img);\n                else if (typeof forwardedRef === \"object\") {\n                    // @ts-ignore - .current is read only it's usually assigned by react internally\n                    forwardedRef.current = img;\n                }\n            }\n            if (!img) {\n                return;\n            }\n            if (onError) {\n                // If the image has an error before react hydrates, then the error is lost.\n                // The workaround is to wait until the image is mounted which is after hydration,\n                // then we set the src again to trigger the error handler (if there was an error).\n                // eslint-disable-next-line no-self-assign\n                img.src = img.src;\n            }\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!src) {\n                    console.error('Image is missing required \"src\" property:', img);\n                }\n                if (img.getAttribute(\"alt\") === null) {\n                    console.error('Image is missing required \"alt\" property. Please add Alternative Text to describe the image for screen readers and search engines.');\n                }\n            }\n            if (img.complete) {\n                handleLoading(img, placeholder, onLoadRef, onLoadingCompleteRef, setBlurComplete, unoptimized, sizesInput);\n            }\n        }, [\n            src,\n            placeholder,\n            onLoadRef,\n            onLoadingCompleteRef,\n            setBlurComplete,\n            onError,\n            unoptimized,\n            sizesInput,\n            forwardedRef\n        ]),\n        onLoad: (event)=>{\n            const img = event.currentTarget;\n            handleLoading(img, placeholder, onLoadRef, onLoadingCompleteRef, setBlurComplete, unoptimized, sizesInput);\n        },\n        onError: (event)=>{\n            // if the real image fails to load, this will ensure \"alt\" is visible\n            setShowAltText(true);\n            if (placeholder !== \"empty\") {\n                // If the real image fails to load, this will still remove the placeholder.\n                setBlurComplete(true);\n            }\n            if (onError) {\n                onError(event);\n            }\n        }\n    });\n});\nfunction ImagePreload(param) {\n    let { isAppRouter, imgAttributes } = param;\n    const opts = {\n        as: \"image\",\n        imageSrcSet: imgAttributes.srcSet,\n        imageSizes: imgAttributes.sizes,\n        crossOrigin: imgAttributes.crossOrigin,\n        referrerPolicy: imgAttributes.referrerPolicy,\n        ...getDynamicProps(imgAttributes.fetchPriority)\n    };\n    if (isAppRouter && _reactdom.default.preload) {\n        // See https://github.com/facebook/react/pull/26940\n        _reactdom.default.preload(imgAttributes.src, // @ts-expect-error TODO: upgrade to `@types/react-dom@18.3.x`\n        opts);\n        return null;\n    }\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_head.default, {\n        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(\"link\", {\n            rel: \"preload\",\n            // Note how we omit the `href` attribute, as it would only be relevant\n            // for browsers that do not support `imagesrcset`, and in those cases\n            // it would cause the incorrect image to be preloaded.\n            //\n            // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\n            href: imgAttributes.srcSet ? undefined : imgAttributes.src,\n            ...opts\n        }, \"__nimg-\" + imgAttributes.src + imgAttributes.srcSet + imgAttributes.sizes)\n    });\n}\nconst Image = /*#__PURE__*/ (0, _react.forwardRef)((props, forwardedRef)=>{\n    const pagesRouter = (0, _react.useContext)(_routercontextsharedruntime.RouterContext);\n    // We're in the app directory if there is no pages router.\n    const isAppRouter = !pagesRouter;\n    const configContext = (0, _react.useContext)(_imageconfigcontextsharedruntime.ImageConfigContext);\n    const config = (0, _react.useMemo)(()=>{\n        var _c_qualities;\n        const c = configEnv || configContext || _imageconfig.imageConfigDefault;\n        const allSizes = [\n            ...c.deviceSizes,\n            ...c.imageSizes\n        ].sort((a, b)=>a - b);\n        const deviceSizes = c.deviceSizes.sort((a, b)=>a - b);\n        const qualities = (_c_qualities = c.qualities) == null ? void 0 : _c_qualities.sort((a, b)=>a - b);\n        return {\n            ...c,\n            allSizes,\n            deviceSizes,\n            qualities\n        };\n    }, [\n        configContext\n    ]);\n    const { onLoad, onLoadingComplete } = props;\n    const onLoadRef = (0, _react.useRef)(onLoad);\n    (0, _react.useEffect)(()=>{\n        onLoadRef.current = onLoad;\n    }, [\n        onLoad\n    ]);\n    const onLoadingCompleteRef = (0, _react.useRef)(onLoadingComplete);\n    (0, _react.useEffect)(()=>{\n        onLoadingCompleteRef.current = onLoadingComplete;\n    }, [\n        onLoadingComplete\n    ]);\n    const [blurComplete, setBlurComplete] = (0, _react.useState)(false);\n    const [showAltText, setShowAltText] = (0, _react.useState)(false);\n    const { props: imgAttributes, meta: imgMeta } = (0, _getimgprops.getImgProps)(props, {\n        defaultLoader: _imageloader.default,\n        imgConf: config,\n        blurComplete,\n        showAltText\n    });\n    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {\n        children: [\n            /*#__PURE__*/ (0, _jsxruntime.jsx)(ImageElement, {\n                ...imgAttributes,\n                unoptimized: imgMeta.unoptimized,\n                placeholder: imgMeta.placeholder,\n                fill: imgMeta.fill,\n                onLoadRef: onLoadRef,\n                onLoadingCompleteRef: onLoadingCompleteRef,\n                setBlurComplete: setBlurComplete,\n                setShowAltText: setShowAltText,\n                sizesInput: props.sizes,\n                ref: forwardedRef\n            }),\n            imgMeta.priority ? /*#__PURE__*/ (0, _jsxruntime.jsx)(ImagePreload, {\n                isAppRouter: isAppRouter,\n                imgAttributes: imgAttributes\n            }) : null\n        ]\n    });\n});\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=image-component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"getImgProps\", {\n    enumerable: true,\n    get: function() {\n        return getImgProps;\n    }\n});\nconst _warnonce = require(\"./utils/warn-once\");\nconst _imageblursvg = require(\"./image-blur-svg\");\nconst _imageconfig = require(\"./image-config\");\nconst VALID_LOADING_VALUES = [\n    \"lazy\",\n    \"eager\",\n    undefined\n];\nfunction isStaticRequire(src) {\n    return src.default !== undefined;\n}\nfunction isStaticImageData(src) {\n    return src.src !== undefined;\n}\nfunction isStaticImport(src) {\n    return typeof src === \"object\" && (isStaticRequire(src) || isStaticImageData(src));\n}\nconst allImgs = new Map();\nlet perfObserver;\nfunction getInt(x) {\n    if (typeof x === \"undefined\") {\n        return x;\n    }\n    if (typeof x === \"number\") {\n        return Number.isFinite(x) ? x : NaN;\n    }\n    if (typeof x === \"string\" && /^[0-9]+$/.test(x)) {\n        return parseInt(x, 10);\n    }\n    return NaN;\n}\nfunction getWidths(param, width, sizes) {\n    let { deviceSizes, allSizes } = param;\n    if (sizes) {\n        // Find all the \"vw\" percent sizes used in the sizes prop\n        const viewportWidthRe = /(^|\\s)(1?\\d?\\d)vw/g;\n        const percentSizes = [];\n        for(let match; match = viewportWidthRe.exec(sizes); match){\n            percentSizes.push(parseInt(match[2]));\n        }\n        if (percentSizes.length) {\n            const smallestRatio = Math.min(...percentSizes) * 0.01;\n            return {\n                widths: allSizes.filter((s)=>s >= deviceSizes[0] * smallestRatio),\n                kind: \"w\"\n            };\n        }\n        return {\n            widths: allSizes,\n            kind: \"w\"\n        };\n    }\n    if (typeof width !== \"number\") {\n        return {\n            widths: deviceSizes,\n            kind: \"w\"\n        };\n    }\n    const widths = [\n        ...new Set(// > This means that most OLED screens that say they are 3x resolution,\n        // > are actually 3x in the green color, but only 1.5x in the red and\n        // > blue colors. Showing a 3x resolution image in the app vs a 2x\n        // > resolution image will be visually the same, though the 3x image\n        // > takes significantly more data. Even true 3x resolution screens are\n        // > wasteful as the human eye cannot see that level of detail without\n        // > something like a magnifying glass.\n        // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\n        [\n            width,\n            width * 2 /*, width * 3*/ \n        ].map((w)=>allSizes.find((p)=>p >= w) || allSizes[allSizes.length - 1]))\n    ];\n    return {\n        widths,\n        kind: \"x\"\n    };\n}\nfunction generateImgAttrs(param) {\n    let { config, src, unoptimized, width, quality, sizes, loader } = param;\n    if (unoptimized) {\n        return {\n            src,\n            srcSet: undefined,\n            sizes: undefined\n        };\n    }\n    const { widths, kind } = getWidths(config, width, sizes);\n    const last = widths.length - 1;\n    return {\n        sizes: !sizes && kind === \"w\" ? \"100vw\" : sizes,\n        srcSet: widths.map((w, i)=>loader({\n                config,\n                src,\n                quality,\n                width: w\n            }) + \" \" + (kind === \"w\" ? w : i + 1) + kind).join(\", \"),\n        // It's intended to keep `src` the last attribute because React updates\n        // attributes in order. If we keep `src` the first one, Safari will\n        // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n        // updated by React. That causes multiple unnecessary requests if `srcSet`\n        // and `sizes` are defined.\n        // This bug cannot be reproduced in Chrome or Firefox.\n        src: loader({\n            config,\n            src,\n            quality,\n            width: widths[last]\n        })\n    };\n}\nfunction getImgProps(param, _state) {\n    let { src, sizes, unoptimized = false, priority = false, loading, className, quality, width, height, fill = false, style, overrideSrc, onLoad, onLoadingComplete, placeholder = \"empty\", blurDataURL, fetchPriority, decoding = \"async\", layout, objectFit, objectPosition, lazyBoundary, lazyRoot, ...rest } = param;\n    const { imgConf, showAltText, blurComplete, defaultLoader } = _state;\n    let config;\n    let c = imgConf || _imageconfig.imageConfigDefault;\n    if (\"allSizes\" in c) {\n        config = c;\n    } else {\n        var _c_qualities;\n        const allSizes = [\n            ...c.deviceSizes,\n            ...c.imageSizes\n        ].sort((a, b)=>a - b);\n        const deviceSizes = c.deviceSizes.sort((a, b)=>a - b);\n        const qualities = (_c_qualities = c.qualities) == null ? void 0 : _c_qualities.sort((a, b)=>a - b);\n        config = {\n            ...c,\n            allSizes,\n            deviceSizes,\n            qualities\n        };\n    }\n    if (typeof defaultLoader === \"undefined\") {\n        throw new Error(\"images.loaderFile detected but the file is missing default export.\\nRead more: https://nextjs.org/docs/messages/invalid-images-config\");\n    }\n    let loader = rest.loader || defaultLoader;\n    // Remove property so it's not spread on <img> element\n    delete rest.loader;\n    delete rest.srcSet;\n    // This special value indicates that the user\n    // didn't define a \"loader\" prop or \"loader\" config.\n    const isDefaultLoader = \"__next_img_default\" in loader;\n    if (isDefaultLoader) {\n        if (config.loader === \"custom\") {\n            throw new Error('Image with src \"' + src + '\" is missing \"loader\" prop.' + \"\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader\");\n        }\n    } else {\n        // The user defined a \"loader\" prop or config.\n        // Since the config object is internal only, we\n        // must not pass it to the user-defined \"loader\".\n        const customImageLoader = loader;\n        loader = (obj)=>{\n            const { config: _, ...opts } = obj;\n            return customImageLoader(opts);\n        };\n    }\n    if (layout) {\n        if (layout === \"fill\") {\n            fill = true;\n        }\n        const layoutToStyle = {\n            intrinsic: {\n                maxWidth: \"100%\",\n                height: \"auto\"\n            },\n            responsive: {\n                width: \"100%\",\n                height: \"auto\"\n            }\n        };\n        const layoutToSizes = {\n            responsive: \"100vw\",\n            fill: \"100vw\"\n        };\n        const layoutStyle = layoutToStyle[layout];\n        if (layoutStyle) {\n            style = {\n                ...style,\n                ...layoutStyle\n            };\n        }\n        const layoutSizes = layoutToSizes[layout];\n        if (layoutSizes && !sizes) {\n            sizes = layoutSizes;\n        }\n    }\n    let staticSrc = \"\";\n    let widthInt = getInt(width);\n    let heightInt = getInt(height);\n    let blurWidth;\n    let blurHeight;\n    if (isStaticImport(src)) {\n        const staticImageData = isStaticRequire(src) ? src.default : src;\n        if (!staticImageData.src) {\n            throw new Error(\"An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received \" + JSON.stringify(staticImageData));\n        }\n        if (!staticImageData.height || !staticImageData.width) {\n            throw new Error(\"An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received \" + JSON.stringify(staticImageData));\n        }\n        blurWidth = staticImageData.blurWidth;\n        blurHeight = staticImageData.blurHeight;\n        blurDataURL = blurDataURL || staticImageData.blurDataURL;\n        staticSrc = staticImageData.src;\n        if (!fill) {\n            if (!widthInt && !heightInt) {\n                widthInt = staticImageData.width;\n                heightInt = staticImageData.height;\n            } else if (widthInt && !heightInt) {\n                const ratio = widthInt / staticImageData.width;\n                heightInt = Math.round(staticImageData.height * ratio);\n            } else if (!widthInt && heightInt) {\n                const ratio = heightInt / staticImageData.height;\n                widthInt = Math.round(staticImageData.width * ratio);\n            }\n        }\n    }\n    src = typeof src === \"string\" ? src : staticSrc;\n    let isLazy = !priority && (loading === \"lazy\" || typeof loading === \"undefined\");\n    if (!src || src.startsWith(\"data:\") || src.startsWith(\"blob:\")) {\n        // https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n        unoptimized = true;\n        isLazy = false;\n    }\n    if (config.unoptimized) {\n        unoptimized = true;\n    }\n    if (isDefaultLoader && src.endsWith(\".svg\") && !config.dangerouslyAllowSVG) {\n        // Special case to make svg serve as-is to avoid proxying\n        // through the built-in Image Optimization API.\n        unoptimized = true;\n    }\n    if (priority) {\n        fetchPriority = \"high\";\n    }\n    const qualityInt = getInt(quality);\n    if (process.env.NODE_ENV !== \"production\") {\n        if (config.output === \"export\" && isDefaultLoader && !unoptimized) {\n            throw new Error(\"Image Optimization using the default loader is not compatible with `{ output: 'export' }`.\\n  Possible solutions:\\n    - Remove `{ output: 'export' }` and run \\\"next start\\\" to run server mode including the Image Optimization API.\\n    - Configure `{ images: { unoptimized: true } }` in `next.config.js` to disable the Image Optimization API.\\n  Read more: https://nextjs.org/docs/messages/export-image-api\");\n        }\n        if (!src) {\n            // React doesn't show the stack trace and there's\n            // no `src` to help identify which image, so we\n            // instead console.error(ref) during mount.\n            unoptimized = true;\n        } else {\n            if (fill) {\n                if (width) {\n                    throw new Error('Image with src \"' + src + '\" has both \"width\" and \"fill\" properties. Only one should be used.');\n                }\n                if (height) {\n                    throw new Error('Image with src \"' + src + '\" has both \"height\" and \"fill\" properties. Only one should be used.');\n                }\n                if ((style == null ? void 0 : style.position) && style.position !== \"absolute\") {\n                    throw new Error('Image with src \"' + src + '\" has both \"fill\" and \"style.position\" properties. Images with \"fill\" always use position absolute - it cannot be modified.');\n                }\n                if ((style == null ? void 0 : style.width) && style.width !== \"100%\") {\n                    throw new Error('Image with src \"' + src + '\" has both \"fill\" and \"style.width\" properties. Images with \"fill\" always use width 100% - it cannot be modified.');\n                }\n                if ((style == null ? void 0 : style.height) && style.height !== \"100%\") {\n                    throw new Error('Image with src \"' + src + '\" has both \"fill\" and \"style.height\" properties. Images with \"fill\" always use height 100% - it cannot be modified.');\n                }\n            } else {\n                if (typeof widthInt === \"undefined\") {\n                    throw new Error('Image with src \"' + src + '\" is missing required \"width\" property.');\n                } else if (isNaN(widthInt)) {\n                    throw new Error('Image with src \"' + src + '\" has invalid \"width\" property. Expected a numeric value in pixels but received \"' + width + '\".');\n                }\n                if (typeof heightInt === \"undefined\") {\n                    throw new Error('Image with src \"' + src + '\" is missing required \"height\" property.');\n                } else if (isNaN(heightInt)) {\n                    throw new Error('Image with src \"' + src + '\" has invalid \"height\" property. Expected a numeric value in pixels but received \"' + height + '\".');\n                }\n            }\n        }\n        if (!VALID_LOADING_VALUES.includes(loading)) {\n            throw new Error('Image with src \"' + src + '\" has invalid \"loading\" property. Provided \"' + loading + '\" should be one of ' + VALID_LOADING_VALUES.map(String).join(\",\") + \".\");\n        }\n        if (priority && loading === \"lazy\") {\n            throw new Error('Image with src \"' + src + '\" has both \"priority\" and \"loading=\\'lazy\\'\" properties. Only one should be used.');\n        }\n        if (placeholder !== \"empty\" && placeholder !== \"blur\" && !placeholder.startsWith(\"data:image/\")) {\n            throw new Error('Image with src \"' + src + '\" has invalid \"placeholder\" property \"' + placeholder + '\".');\n        }\n        if (placeholder !== \"empty\") {\n            if (widthInt && heightInt && widthInt * heightInt < 1600) {\n                (0, _warnonce.warnOnce)('Image with src \"' + src + '\" is smaller than 40x40. Consider removing the \"placeholder\" property to improve performance.');\n            }\n        }\n        if (placeholder === \"blur\" && !blurDataURL) {\n            const VALID_BLUR_EXT = [\n                \"jpeg\",\n                \"png\",\n                \"webp\",\n                \"avif\"\n            ] // should match next-image-loader\n            ;\n            throw new Error('Image with src \"' + src + '\" has \"placeholder=\\'blur\\'\" property but is missing the \"blurDataURL\" property.\\n        Possible solutions:\\n          - Add a \"blurDataURL\" property, the contents should be a small Data URL to represent the image\\n          - Change the \"src\" property to a static import with one of the supported file types: ' + VALID_BLUR_EXT.join(\",\") + ' (animated images not supported)\\n          - Remove the \"placeholder\" property, effectively no blur effect\\n        Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url');\n        }\n        if (\"ref\" in rest) {\n            (0, _warnonce.warnOnce)('Image with src \"' + src + '\" is using unsupported \"ref\" property. Consider using the \"onLoad\" property instead.');\n        }\n        if (!unoptimized && !isDefaultLoader) {\n            const urlStr = loader({\n                config,\n                src,\n                width: widthInt || 400,\n                quality: qualityInt || 75\n            });\n            let url;\n            try {\n                url = new URL(urlStr);\n            } catch (err) {}\n            if (urlStr === src || url && url.pathname === src && !url.search) {\n                (0, _warnonce.warnOnce)('Image with src \"' + src + '\" has a \"loader\" property that does not implement width. Please implement it or use the \"unoptimized\" property instead.' + \"\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width\");\n            }\n        }\n        if (onLoadingComplete) {\n            (0, _warnonce.warnOnce)('Image with src \"' + src + '\" is using deprecated \"onLoadingComplete\" property. Please use the \"onLoad\" property instead.');\n        }\n        for (const [legacyKey, legacyValue] of Object.entries({\n            layout,\n            objectFit,\n            objectPosition,\n            lazyBoundary,\n            lazyRoot\n        })){\n            if (legacyValue) {\n                (0, _warnonce.warnOnce)('Image with src \"' + src + '\" has legacy prop \"' + legacyKey + '\". Did you forget to run the codemod?' + \"\\nRead more: https://nextjs.org/docs/messages/next-image-upgrade-to-13\");\n            }\n        }\n        if (typeof window !== \"undefined\" && !perfObserver && window.PerformanceObserver) {\n            perfObserver = new PerformanceObserver((entryList)=>{\n                for (const entry of entryList.getEntries()){\n                    var _entry_element;\n                    // @ts-ignore - missing \"LargestContentfulPaint\" class with \"element\" prop\n                    const imgSrc = (entry == null ? void 0 : (_entry_element = entry.element) == null ? void 0 : _entry_element.src) || \"\";\n                    const lcpImage = allImgs.get(imgSrc);\n                    if (lcpImage && !lcpImage.priority && lcpImage.placeholder === \"empty\" && !lcpImage.src.startsWith(\"data:\") && !lcpImage.src.startsWith(\"blob:\")) {\n                        // https://web.dev/lcp/#measure-lcp-in-javascript\n                        (0, _warnonce.warnOnce)('Image with src \"' + lcpImage.src + '\" was detected as the Largest Contentful Paint (LCP). Please add the \"priority\" property if this image is above the fold.' + \"\\nRead more: https://nextjs.org/docs/api-reference/next/image#priority\");\n                    }\n                }\n            });\n            try {\n                perfObserver.observe({\n                    type: \"largest-contentful-paint\",\n                    buffered: true\n                });\n            } catch (err) {\n                // Log error but don't crash the app\n                console.error(err);\n            }\n        }\n    }\n    const imgStyle = Object.assign(fill ? {\n        position: \"absolute\",\n        height: \"100%\",\n        width: \"100%\",\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        objectFit,\n        objectPosition\n    } : {}, showAltText ? {} : {\n        color: \"transparent\"\n    }, style);\n    const backgroundImage = !blurComplete && placeholder !== \"empty\" ? placeholder === \"blur\" ? 'url(\"data:image/svg+xml;charset=utf-8,' + (0, _imageblursvg.getImageBlurSvg)({\n        widthInt,\n        heightInt,\n        blurWidth,\n        blurHeight,\n        blurDataURL: blurDataURL || \"\",\n        objectFit: imgStyle.objectFit\n    }) + '\")' : 'url(\"' + placeholder + '\")' // assume `data:image/`\n     : null;\n    let placeholderStyle = backgroundImage ? {\n        backgroundSize: imgStyle.objectFit || \"cover\",\n        backgroundPosition: imgStyle.objectPosition || \"50% 50%\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundImage\n    } : {};\n    if (process.env.NODE_ENV === \"development\") {\n        if (placeholderStyle.backgroundImage && placeholder === \"blur\" && (blurDataURL == null ? void 0 : blurDataURL.startsWith(\"/\"))) {\n            // During `next dev`, we don't want to generate blur placeholders with webpack\n            // because it can delay starting the dev server. Instead, `next-image-loader.js`\n            // will inline a special url to lazily generate the blur placeholder at request time.\n            placeholderStyle.backgroundImage = 'url(\"' + blurDataURL + '\")';\n        }\n    }\n    const imgAttributes = generateImgAttrs({\n        config,\n        src,\n        unoptimized,\n        width: widthInt,\n        quality: qualityInt,\n        sizes,\n        loader\n    });\n    if (process.env.NODE_ENV !== \"production\") {\n        if (typeof window !== \"undefined\") {\n            let fullUrl;\n            try {\n                fullUrl = new URL(imgAttributes.src);\n            } catch (e) {\n                fullUrl = new URL(imgAttributes.src, window.location.href);\n            }\n            allImgs.set(fullUrl.href, {\n                src,\n                priority,\n                placeholder\n            });\n        }\n    }\n    const props = {\n        ...rest,\n        loading: isLazy ? \"lazy\" : loading,\n        fetchPriority,\n        width: widthInt,\n        height: heightInt,\n        decoding,\n        className,\n        style: {\n            ...imgStyle,\n            ...placeholderStyle\n        },\n        sizes: imgAttributes.sizes,\n        srcSet: imgAttributes.srcSet,\n        src: overrideSrc || imgAttributes.src\n    };\n    const meta = {\n        unoptimized,\n        priority,\n        placeholder,\n        fill\n    };\n    return {\n        props,\n        meta\n    };\n}\n\n//# sourceMappingURL=get-img-props.js.map","/**\n * A shared function, used on both client and server, to generate a SVG blur placeholder.\n */ \"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"getImageBlurSvg\", {\n    enumerable: true,\n    get: function() {\n        return getImageBlurSvg;\n    }\n});\nfunction getImageBlurSvg(param) {\n    let { widthInt, heightInt, blurWidth, blurHeight, blurDataURL, objectFit } = param;\n    const std = 20;\n    const svgWidth = blurWidth ? blurWidth * 40 : widthInt;\n    const svgHeight = blurHeight ? blurHeight * 40 : heightInt;\n    const viewBox = svgWidth && svgHeight ? \"viewBox='0 0 \" + svgWidth + \" \" + svgHeight + \"'\" : \"\";\n    const preserveAspectRatio = viewBox ? \"none\" : objectFit === \"contain\" ? \"xMidYMid\" : objectFit === \"cover\" ? \"xMidYMid slice\" : \"none\";\n    return \"%3Csvg xmlns='http://www.w3.org/2000/svg' \" + viewBox + \"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='\" + std + \"'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='\" + std + \"'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='\" + preserveAspectRatio + \"' style='filter: url(%23b);' href='\" + blurDataURL + \"'/%3E%3C/svg%3E\";\n}\n\n//# sourceMappingURL=image-blur-svg.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    default: null,\n    getImageProps: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    default: function() {\n        return _default;\n    },\n    getImageProps: function() {\n        return getImageProps;\n    }\n});\nconst _interop_require_default = require(\"@swc/helpers/_/_interop_require_default\");\nconst _getimgprops = require(\"./get-img-props\");\nconst _imagecomponent = require(\"../../client/image-component\");\nconst _imageloader = /*#__PURE__*/ _interop_require_default._(require(\"next/dist/shared/lib/image-loader\"));\nfunction getImageProps(imgProps) {\n    const { props } = (0, _getimgprops.getImgProps)(imgProps, {\n        defaultLoader: _imageloader.default,\n        // This is replaced by webpack define plugin\n        imgConf: process.env.__NEXT_IMAGE_OPTS\n    });\n    // Normally we don't care about undefined props because we pass to JSX,\n    // but this exported function could be used by the end user for anything\n    // so we delete undefined props to clean it up a little.\n    for (const [key, value] of Object.entries(props)){\n        if (value === undefined) {\n            delete props[key];\n        }\n    }\n    return {\n        props\n    };\n}\nconst _default = _imagecomponent.Image;\n\n//# sourceMappingURL=image-external.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nconst DEFAULT_Q = 75;\nfunction defaultLoader(param) {\n    let { config, src, width, quality } = param;\n    var _config_qualities;\n    if (process.env.NODE_ENV !== \"production\") {\n        const missingValues = [];\n        // these should always be provided but make sure they are\n        if (!src) missingValues.push(\"src\");\n        if (!width) missingValues.push(\"width\");\n        if (missingValues.length > 0) {\n            throw new Error(\"Next Image Optimization requires \" + missingValues.join(\", \") + \" to be provided. Make sure you pass them as props to the `next/image` component. Received: \" + JSON.stringify({\n                src,\n                width,\n                quality\n            }));\n        }\n        if (src.startsWith(\"//\")) {\n            throw new Error('Failed to parse src \"' + src + '\" on `next/image`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)');\n        }\n        if (src.startsWith(\"/\") && config.localPatterns) {\n            if (process.env.NODE_ENV !== \"test\" && // micromatch isn't compatible with edge runtime\n            process.env.NEXT_RUNTIME !== \"edge\") {\n                // We use dynamic require because this should only error in development\n                const { hasLocalMatch } = require(\"./match-local-pattern\");\n                if (!hasLocalMatch(config.localPatterns, src)) {\n                    throw new Error(\"Invalid src prop (\" + src + \") on `next/image` does not match `images.localPatterns` configured in your `next.config.js`\\n\" + \"See more info: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns\");\n                }\n            }\n        }\n        if (!src.startsWith(\"/\") && (config.domains || config.remotePatterns)) {\n            let parsedSrc;\n            try {\n                parsedSrc = new URL(src);\n            } catch (err) {\n                console.error(err);\n                throw new Error('Failed to parse src \"' + src + '\" on `next/image`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)');\n            }\n            if (process.env.NODE_ENV !== \"test\" && // micromatch isn't compatible with edge runtime\n            process.env.NEXT_RUNTIME !== \"edge\") {\n                // We use dynamic require because this should only error in development\n                const { hasRemoteMatch } = require(\"./match-remote-pattern\");\n                if (!hasRemoteMatch(config.domains, config.remotePatterns, parsedSrc)) {\n                    throw new Error(\"Invalid src prop (\" + src + ') on `next/image`, hostname \"' + parsedSrc.hostname + '\" is not configured under images in your `next.config.js`\\n' + \"See more info: https://nextjs.org/docs/messages/next-image-unconfigured-host\");\n                }\n            }\n        }\n        if (quality && config.qualities && !config.qualities.includes(quality)) {\n            throw new Error(\"Invalid quality prop (\" + quality + \") on `next/image` does not match `images.qualities` configured in your `next.config.js`\\n\" + \"See more info: https://nextjs.org/docs/messages/next-image-unconfigured-qualities\");\n        }\n    }\n    const q = quality || ((_config_qualities = config.qualities) == null ? void 0 : _config_qualities.reduce((prev, cur)=>Math.abs(cur - DEFAULT_Q) < Math.abs(prev - DEFAULT_Q) ? cur : prev)) || DEFAULT_Q;\n    return config.path + \"?url=\" + encodeURIComponent(src) + \"&w=\" + width + \"&q=\" + q + (process.env.NEXT_DEPLOYMENT_ID ? \"&dpl=\" + process.env.NEXT_DEPLOYMENT_ID : \"\");\n}\n// We use this to determine if the import is the default loader\n// or a custom loader defined by the user in next.config.js\ndefaultLoader.__next_img_default = true;\nconst _default = defaultLoader;\n\n//# sourceMappingURL=image-loader.js.map","// extracted by mini-css-extract-plugin","module.exports = require('./dist/shared/lib/image-external')\n","import * as React from 'react';\nimport { useState, useCallback, useMemo, useContext } from 'react';\nimport { MapContext } from './map';\nexport const MountedMapsContext = React.createContext(null);\nexport const MapProvider = props => {\n    const [maps, setMaps] = useState({});\n    const onMapMount = useCallback((map, id = 'default') => {\n        setMaps(currMaps => {\n            if (id === 'current') {\n                throw new Error(\"'current' cannot be used as map id\");\n            }\n            if (currMaps[id]) {\n                throw new Error(`Multiple maps with the same id: ${id}`);\n            }\n            return { ...currMaps, [id]: map };\n        });\n    }, []);\n    const onMapUnmount = useCallback((id = 'default') => {\n        setMaps(currMaps => {\n            if (currMaps[id]) {\n                const nextMaps = { ...currMaps };\n                delete nextMaps[id];\n                return nextMaps;\n            }\n            return currMaps;\n        });\n    }, []);\n    return (React.createElement(MountedMapsContext.Provider, { value: {\n            maps,\n            onMapMount,\n            onMapUnmount\n        } }, props.children));\n};\nexport function useMap() {\n    const maps = useContext(MountedMapsContext)?.maps;\n    const currentMap = useContext(MapContext);\n    const mapsWithCurrent = useMemo(() => {\n        return { ...maps, current: currentMap?.map };\n    }, [maps, currentMap]);\n    return mapsWithCurrent;\n}\n//# sourceMappingURL=use-map.js.map","/**\n * Capture a transform's current state\n * @param transform\n * @returns descriptor of the view state\n */\nexport function transformToViewState(tr) {\n    return {\n        longitude: tr.center.lng,\n        latitude: tr.center.lat,\n        zoom: tr.zoom,\n        pitch: tr.pitch,\n        bearing: tr.bearing,\n        padding: tr.padding\n    };\n}\n/* eslint-disable complexity */\n/**\n * Mutate a transform to match the given view state\n * @param transform\n * @param viewState\n * @returns true if the transform has changed\n */\nexport function applyViewStateToTransform(tr, props) {\n    const v = props.viewState || props;\n    let changed = false;\n    if ('longitude' in v && 'latitude' in v) {\n        const center = tr.center;\n        // @ts-ignore\n        tr.center = new center.constructor(v.longitude, v.latitude);\n        changed = changed || center !== tr.center;\n    }\n    if ('zoom' in v) {\n        const zoom = tr.zoom;\n        tr.zoom = v.zoom;\n        changed = changed || zoom !== tr.zoom;\n    }\n    if ('bearing' in v) {\n        const bearing = tr.bearing;\n        tr.bearing = v.bearing;\n        changed = changed || bearing !== tr.bearing;\n    }\n    if ('pitch' in v) {\n        const pitch = tr.pitch;\n        tr.pitch = v.pitch;\n        changed = changed || pitch !== tr.pitch;\n    }\n    if (v.padding && !tr.isPaddingEqual(v.padding)) {\n        changed = true;\n        tr.padding = v.padding;\n    }\n    return changed;\n}\n//# sourceMappingURL=transform.js.map","const refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\n// Prepare a map style object for diffing\n// If immutable - convert to plain object\n// Work around some issues in older styles that would fail Mapbox's diffing\nexport function normalizeStyle(style) {\n    if (!style) {\n        return null;\n    }\n    if (typeof style === 'string') {\n        return style;\n    }\n    if ('toJS' in style) {\n        style = style.toJS();\n    }\n    if (!style.layers) {\n        return style;\n    }\n    const layerIndex = {};\n    for (const layer of style.layers) {\n        layerIndex[layer.id] = layer;\n    }\n    const layers = style.layers.map(layer => {\n        // @ts-expect-error\n        const layerRef = layerIndex[layer.ref];\n        let normalizedLayer = null;\n        if ('interactive' in layer) {\n            normalizedLayer = { ...layer };\n            // Breaks style diffing :(\n            delete normalizedLayer.interactive;\n        }\n        // Style diffing doesn't work with refs so expand them out manually before diffing.\n        if (layerRef) {\n            normalizedLayer = normalizedLayer || { ...layer };\n            delete normalizedLayer.ref;\n            // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/deref.js\n            for (const propName of refProps) {\n                if (propName in layerRef) {\n                    normalizedLayer[propName] = layerRef[propName];\n                }\n            }\n        }\n        return normalizedLayer || layer;\n    });\n    // Do not mutate the style object provided by the user\n    return { ...style, layers };\n}\n//# sourceMappingURL=style-utils.js.map","/**\n * Compare two points\n * @param a\n * @param b\n * @returns true if the points are equal\n */\nexport function arePointsEqual(a, b) {\n    const ax = Array.isArray(a) ? a[0] : a ? a.x : 0;\n    const ay = Array.isArray(a) ? a[1] : a ? a.y : 0;\n    const bx = Array.isArray(b) ? b[0] : b ? b.x : 0;\n    const by = Array.isArray(b) ? b[1] : b ? b.y : 0;\n    return ax === bx && ay === by;\n}\n/* eslint-disable complexity */\n/**\n * Compare any two objects\n * @param a\n * @param b\n * @returns true if the objects are deep equal\n */\nexport function deepEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (!a || !b) {\n        return false;\n    }\n    if (Array.isArray(a)) {\n        if (!Array.isArray(b) || a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (!deepEqual(a[i], b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    else if (Array.isArray(b)) {\n        return false;\n    }\n    if (typeof a === 'object' && typeof b === 'object') {\n        const aKeys = Object.keys(a);\n        const bKeys = Object.keys(b);\n        if (aKeys.length !== bKeys.length) {\n            return false;\n        }\n        for (const key of aKeys) {\n            if (!b.hasOwnProperty(key)) {\n                return false;\n            }\n            if (!deepEqual(a[key], b[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=deep-equal.js.map","import { transformToViewState, applyViewStateToTransform } from '../utils/transform';\nimport { normalizeStyle } from '../utils/style-utils';\nimport { deepEqual } from '../utils/deep-equal';\nconst pointerEvents = {\n    mousedown: 'onMouseDown',\n    mouseup: 'onMouseUp',\n    mouseover: 'onMouseOver',\n    mousemove: 'onMouseMove',\n    click: 'onClick',\n    dblclick: 'onDblClick',\n    mouseenter: 'onMouseEnter',\n    mouseleave: 'onMouseLeave',\n    mouseout: 'onMouseOut',\n    contextmenu: 'onContextMenu',\n    touchstart: 'onTouchStart',\n    touchend: 'onTouchEnd',\n    touchmove: 'onTouchMove',\n    touchcancel: 'onTouchCancel'\n};\nconst cameraEvents = {\n    movestart: 'onMoveStart',\n    move: 'onMove',\n    moveend: 'onMoveEnd',\n    dragstart: 'onDragStart',\n    drag: 'onDrag',\n    dragend: 'onDragEnd',\n    zoomstart: 'onZoomStart',\n    zoom: 'onZoom',\n    zoomend: 'onZoomEnd',\n    rotatestart: 'onRotateStart',\n    rotate: 'onRotate',\n    rotateend: 'onRotateEnd',\n    pitchstart: 'onPitchStart',\n    pitch: 'onPitch',\n    pitchend: 'onPitchEnd'\n};\nconst otherEvents = {\n    wheel: 'onWheel',\n    boxzoomstart: 'onBoxZoomStart',\n    boxzoomend: 'onBoxZoomEnd',\n    boxzoomcancel: 'onBoxZoomCancel',\n    resize: 'onResize',\n    load: 'onLoad',\n    render: 'onRender',\n    idle: 'onIdle',\n    remove: 'onRemove',\n    data: 'onData',\n    styledata: 'onStyleData',\n    sourcedata: 'onSourceData',\n    error: 'onError'\n};\nconst settingNames = [\n    'minZoom',\n    'maxZoom',\n    'minPitch',\n    'maxPitch',\n    'maxBounds',\n    'projection',\n    'renderWorldCopies'\n];\nconst handlerNames = [\n    'scrollZoom',\n    'boxZoom',\n    'dragRotate',\n    'dragPan',\n    'keyboard',\n    'doubleClickZoom',\n    'touchZoomRotate',\n    'touchPitch'\n];\n/**\n * A wrapper for mapbox-gl's Map class\n */\nexport default class Mapbox {\n    constructor(MapClass, props, container) {\n        // mapboxgl.Map instance. Not using type here because we are accessing\n        // private members and methods\n        this._map = null;\n        // Internal states\n        this._internalUpdate = false;\n        this._inRender = false;\n        this._hoveredFeatures = null;\n        this._deferredEvents = {\n            move: false,\n            zoom: false,\n            pitch: false,\n            rotate: false\n        };\n        this._onEvent = (e) => {\n            // @ts-ignore\n            const cb = this.props[otherEvents[e.type]];\n            if (cb) {\n                cb(e);\n            }\n        };\n        this._onPointerEvent = (e) => {\n            if (e.type === 'mousemove' || e.type === 'mouseout') {\n                this._updateHover(e);\n            }\n            // @ts-ignore\n            const cb = this.props[pointerEvents[e.type]];\n            if (cb) {\n                if (this.props.interactiveLayerIds && e.type !== 'mouseover' && e.type !== 'mouseout') {\n                    const features = this._hoveredFeatures ||\n                        this._map.queryRenderedFeatures(e.point, {\n                            layers: this.props.interactiveLayerIds\n                        });\n                    if (!features.length) {\n                        return;\n                    }\n                    e.features = features;\n                }\n                cb(e);\n                delete e.features;\n            }\n        };\n        this._onCameraEvent = (e) => {\n            if (!this._internalUpdate) {\n                // @ts-ignore\n                const cb = this.props[cameraEvents[e.type]];\n                if (cb) {\n                    cb(e);\n                }\n            }\n            if (e.type in this._deferredEvents) {\n                this._deferredEvents[e.type] = false;\n            }\n        };\n        this._MapClass = MapClass;\n        this.props = props;\n        this._initialize(container);\n    }\n    get map() {\n        return this._map;\n    }\n    get transform() {\n        return this._renderTransform;\n    }\n    setProps(props) {\n        const oldProps = this.props;\n        this.props = props;\n        const settingsChanged = this._updateSettings(props, oldProps);\n        if (settingsChanged) {\n            this._renderTransform = this._map.transform.clone();\n        }\n        const sizeChanged = this._updateSize(props);\n        const viewStateChanged = this._updateViewState(props, true);\n        this._updateStyle(props, oldProps);\n        this._updateStyleComponents(props, oldProps);\n        this._updateHandlers(props, oldProps);\n        // If 1) view state has changed to match props and\n        //    2) the props change is not triggered by map events,\n        // it's driven by an external state change. Redraw immediately\n        if (settingsChanged || sizeChanged || (viewStateChanged && !this._map.isMoving())) {\n            this.redraw();\n        }\n    }\n    static reuse(props, container) {\n        const that = Mapbox.savedMaps.pop();\n        if (!that) {\n            return null;\n        }\n        const map = that.map;\n        // When reusing the saved map, we need to reparent the map(canvas) and other child nodes\n        // intoto the new container from the props.\n        // Step1: reparenting child nodes from old container to new container\n        const oldContainer = map.getContainer();\n        container.className = oldContainer.className;\n        while (oldContainer.childNodes.length > 0) {\n            container.appendChild(oldContainer.childNodes[0]);\n        }\n        // Step2: replace the internal container with new container from the react component\n        // @ts-ignore\n        map._container = container;\n        // Step 3: apply new props\n        if (props.initialViewState) {\n            that._updateViewState(props.initialViewState, false);\n        }\n        map.resize();\n        that.setProps({ ...props, styleDiffing: false });\n        // Simulate load event\n        if (map.isStyleLoaded()) {\n            map.fire('load');\n        }\n        else {\n            map.once('styledata', () => map.fire('load'));\n        }\n        return that;\n    }\n    /* eslint-disable complexity,max-statements */\n    _initialize(container) {\n        const { props } = this;\n        const mapOptions = {\n            ...props,\n            ...props.initialViewState,\n            accessToken: props.mapboxAccessToken || getAccessTokenFromEnv() || null,\n            container,\n            style: normalizeStyle(props.mapStyle)\n        };\n        const viewState = mapOptions.initialViewState || mapOptions.viewState || mapOptions;\n        Object.assign(mapOptions, {\n            center: [viewState.longitude || 0, viewState.latitude || 0],\n            zoom: viewState.zoom || 0,\n            pitch: viewState.pitch || 0,\n            bearing: viewState.bearing || 0\n        });\n        if (props.gl) {\n            // eslint-disable-next-line\n            const getContext = HTMLCanvasElement.prototype.getContext;\n            // Hijack canvas.getContext to return our own WebGLContext\n            // This will be called inside the mapboxgl.Map constructor\n            // @ts-expect-error\n            HTMLCanvasElement.prototype.getContext = () => {\n                // Unhijack immediately\n                HTMLCanvasElement.prototype.getContext = getContext;\n                return props.gl;\n            };\n        }\n        const map = new this._MapClass(mapOptions);\n        // Props that are not part of constructor options\n        if (viewState.padding) {\n            map.setPadding(viewState.padding);\n        }\n        if (props.cursor) {\n            map.getCanvas().style.cursor = props.cursor;\n        }\n        this._renderTransform = map.transform.clone();\n        // Hack\n        // Insert code into map's render cycle\n        const renderMap = map._render;\n        map._render = (arg) => {\n            this._inRender = true;\n            renderMap.call(map, arg);\n            this._inRender = false;\n        };\n        const runRenderTaskQueue = map._renderTaskQueue.run;\n        map._renderTaskQueue.run = (arg) => {\n            runRenderTaskQueue.call(map._renderTaskQueue, arg);\n            this._onBeforeRepaint();\n        };\n        map.on('render', () => this._onAfterRepaint());\n        // Insert code into map's event pipeline\n        const fireEvent = map.fire;\n        map.fire = this._fireEvent.bind(this, fireEvent);\n        // add listeners\n        map.on('resize', () => {\n            this._renderTransform.resize(map.transform.width, map.transform.height);\n        });\n        map.on('styledata', () => this._updateStyleComponents(this.props, {}));\n        map.on('sourcedata', () => this._updateStyleComponents(this.props, {}));\n        for (const eventName in pointerEvents) {\n            map.on(eventName, this._onPointerEvent);\n        }\n        for (const eventName in cameraEvents) {\n            map.on(eventName, this._onCameraEvent);\n        }\n        for (const eventName in otherEvents) {\n            map.on(eventName, this._onEvent);\n        }\n        this._map = map;\n    }\n    /* eslint-enable complexity,max-statements */\n    recycle() {\n        Mapbox.savedMaps.push(this);\n    }\n    destroy() {\n        this._map.remove();\n    }\n    // Force redraw the map now. Typically resize() and jumpTo() is reflected in the next\n    // render cycle, which is managed by Mapbox's animation loop.\n    // This removes the synchronization issue caused by requestAnimationFrame.\n    redraw() {\n        const map = this._map;\n        // map._render will throw error if style does not exist\n        // https://github.com/mapbox/mapbox-gl-js/blob/fb9fc316da14e99ff4368f3e4faa3888fb43c513\n        //   /src/ui/map.js#L1834\n        if (!this._inRender && map.style) {\n            // cancel the scheduled update\n            if (map._frame) {\n                map._frame.cancel();\n                map._frame = null;\n            }\n            // the order is important - render() may schedule another update\n            map._render();\n        }\n    }\n    /* Trigger map resize if size is controlled\n       @param {object} nextProps\n       @returns {bool} true if size has changed\n     */\n    _updateSize(nextProps) {\n        // Check if size is controlled\n        const { viewState } = nextProps;\n        if (viewState) {\n            const map = this._map;\n            if (viewState.width !== map.transform.width || viewState.height !== map.transform.height) {\n                map.resize();\n                return true;\n            }\n        }\n        return false;\n    }\n    // Adapted from map.jumpTo\n    /* Update camera to match props\n       @param {object} nextProps\n       @param {bool} triggerEvents - should fire camera events\n       @returns {bool} true if anything is changed\n     */\n    _updateViewState(nextProps, triggerEvents) {\n        if (this._internalUpdate) {\n            return false;\n        }\n        const map = this._map;\n        const tr = this._renderTransform;\n        // Take a snapshot of the transform before mutation\n        const { zoom, pitch, bearing } = tr;\n        const changed = applyViewStateToTransform(tr, {\n            ...transformToViewState(map.transform),\n            ...nextProps\n        });\n        if (changed && triggerEvents) {\n            const deferredEvents = this._deferredEvents;\n            // Delay DOM control updates to the next render cycle\n            deferredEvents.move = true;\n            deferredEvents.zoom || (deferredEvents.zoom = zoom !== tr.zoom);\n            deferredEvents.rotate || (deferredEvents.rotate = bearing !== tr.bearing);\n            deferredEvents.pitch || (deferredEvents.pitch = pitch !== tr.pitch);\n        }\n        // Avoid manipulating the real transform when interaction/animation is ongoing\n        // as it would interfere with Mapbox's handlers\n        if (!map.isMoving()) {\n            applyViewStateToTransform(map.transform, nextProps);\n        }\n        return changed;\n    }\n    /* Update camera constraints and projection settings to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateSettings(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        for (const propName of settingNames) {\n            if (propName in nextProps && !deepEqual(nextProps[propName], currProps[propName])) {\n                changed = true;\n                map[`set${propName[0].toUpperCase()}${propName.slice(1)}`](nextProps[propName]);\n            }\n        }\n        return changed;\n    }\n    /* Update map style to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if style is changed\n     */\n    _updateStyle(nextProps, currProps) {\n        if (nextProps.cursor !== currProps.cursor) {\n            this._map.getCanvas().style.cursor = nextProps.cursor;\n        }\n        if (nextProps.mapStyle !== currProps.mapStyle) {\n            const options = {\n                diff: nextProps.styleDiffing\n            };\n            if ('localIdeographFontFamily' in nextProps) {\n                options.localIdeographFontFamily = nextProps.localIdeographFontFamily;\n            }\n            this._map.setStyle(normalizeStyle(nextProps.mapStyle), options);\n            return true;\n        }\n        return false;\n    }\n    /* Update fog, light and terrain to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateStyleComponents(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        if (map.style.loaded()) {\n            if ('light' in nextProps && !deepEqual(nextProps.light, currProps.light)) {\n                changed = true;\n                map.setLight(nextProps.light);\n            }\n            if ('fog' in nextProps && !deepEqual(nextProps.fog, currProps.fog)) {\n                changed = true;\n                map.setFog(nextProps.fog);\n            }\n            if ('terrain' in nextProps && !deepEqual(nextProps.terrain, currProps.terrain)) {\n                if (!nextProps.terrain || map.getSource(nextProps.terrain.source)) {\n                    changed = true;\n                    map.setTerrain(nextProps.terrain);\n                    // Copy changes to the transform\n                    // @ts-ignore\n                    this._renderTransform.elevation = map.transform.elevation;\n                }\n            }\n        }\n        return changed;\n    }\n    /* Update interaction handlers to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateHandlers(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        for (const propName of handlerNames) {\n            const newValue = nextProps[propName];\n            if (!deepEqual(newValue, currProps[propName])) {\n                changed = true;\n                if (newValue) {\n                    map[propName].enable(newValue);\n                }\n                else {\n                    map[propName].disable();\n                }\n            }\n        }\n        return changed;\n    }\n    _updateHover(e) {\n        const { props } = this;\n        const shouldTrackHoveredFeatures = props.interactiveLayerIds && (props.onMouseMove || props.onMouseEnter || props.onMouseLeave);\n        if (shouldTrackHoveredFeatures) {\n            const eventType = e.type;\n            const wasHovering = this._hoveredFeatures?.length > 0;\n            let features;\n            if (eventType === 'mousemove') {\n                try {\n                    features = this._map.queryRenderedFeatures(e.point, {\n                        layers: props.interactiveLayerIds\n                    });\n                }\n                catch {\n                    features = [];\n                }\n            }\n            else {\n                features = [];\n            }\n            const isHovering = features.length > 0;\n            if (!isHovering && wasHovering) {\n                e.type = 'mouseleave';\n                this._onPointerEvent(e);\n            }\n            this._hoveredFeatures = features;\n            if (isHovering && !wasHovering) {\n                e.type = 'mouseenter';\n                this._onPointerEvent(e);\n            }\n            e.type = eventType;\n        }\n        else {\n            this._hoveredFeatures = null;\n        }\n    }\n    _fireEvent(baseFire, event, properties) {\n        const map = this._map;\n        const tr = map.transform;\n        const eventType = typeof event === 'string' ? event : event.type;\n        if (eventType === 'move') {\n            this._updateViewState(this.props, false);\n        }\n        if (eventType in cameraEvents) {\n            if (typeof event === 'object') {\n                event.viewState = transformToViewState(tr);\n            }\n            if (this._map.isMoving()) {\n                // Replace map.transform with ours during the callbacks\n                map.transform = this._renderTransform;\n                baseFire.call(map, event, properties);\n                map.transform = tr;\n                return map;\n            }\n        }\n        baseFire.call(map, event, properties);\n        return map;\n    }\n    // All camera manipulations are complete, ready to repaint\n    _onBeforeRepaint() {\n        const map = this._map;\n        // If there are camera changes driven by props, invoke camera events so that DOM controls are synced\n        this._internalUpdate = true;\n        for (const eventType in this._deferredEvents) {\n            if (this._deferredEvents[eventType]) {\n                map.fire(eventType);\n            }\n        }\n        this._internalUpdate = false;\n        const tr = this._map.transform;\n        // Make sure camera matches the current props\n        this._map.transform = this._renderTransform;\n        this._onAfterRepaint = () => {\n            // Restores camera state before render/load events are fired\n            this._map.transform = tr;\n        };\n    }\n}\nMapbox.savedMaps = [];\n/**\n * Access token can be provided via one of:\n *   mapboxAccessToken prop\n *   access_token query parameter\n *   MapboxAccessToken environment variable\n *   REACT_APP_MAPBOX_ACCESS_TOKEN environment variable\n * @returns access token\n */\nfunction getAccessTokenFromEnv() {\n    let accessToken = null;\n    /* global location, process */\n    if (typeof location !== 'undefined') {\n        const match = /access_token=([^&\\/]*)/.exec(location.search);\n        accessToken = match && match[1];\n    }\n    // Note: This depends on bundler plugins (e.g. webpack) importing environment correctly\n    try {\n        accessToken = accessToken || process.env.MapboxAccessToken;\n    }\n    catch {\n        // ignore\n    }\n    try {\n        accessToken = accessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n    }\n    catch {\n        // ignore\n    }\n    return accessToken;\n}\n//# sourceMappingURL=mapbox.js.map","/** These methods may break the react binding if called directly */\nconst skipMethods = [\n    'setMaxBounds',\n    'setMinZoom',\n    'setMaxZoom',\n    'setMinPitch',\n    'setMaxPitch',\n    'setRenderWorldCopies',\n    'setProjection',\n    'setStyle',\n    'addSource',\n    'removeSource',\n    'addLayer',\n    'removeLayer',\n    'setLayerZoomRange',\n    'setFilter',\n    'setPaintProperty',\n    'setLayoutProperty',\n    'setLight',\n    'setTerrain',\n    'setFog',\n    'remove'\n];\nexport default function createRef(mapInstance, mapLib) {\n    if (!mapInstance) {\n        return null;\n    }\n    const map = mapInstance.map;\n    const result = {\n        getMap: () => map,\n        // Overwrite getters to use our shadow transform\n        getCenter: () => mapInstance.transform.center,\n        getZoom: () => mapInstance.transform.zoom,\n        getBearing: () => mapInstance.transform.bearing,\n        getPitch: () => mapInstance.transform.pitch,\n        getPadding: () => mapInstance.transform.padding,\n        getBounds: () => mapInstance.transform.getBounds(),\n        project: (lnglat) => {\n            return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));\n        },\n        unproject: (point) => {\n            return mapInstance.transform.pointLocation(mapLib.Point.convert(point));\n        }\n    };\n    for (const key of getMethodNames(map)) {\n        // @ts-expect-error\n        if (!(key in result) && !skipMethods.includes(key)) {\n            result[key] = map[key].bind(map);\n        }\n    }\n    return result;\n}\nfunction getMethodNames(obj) {\n    const result = new Set();\n    let proto = obj;\n    while (proto) {\n        for (const key of Object.getOwnPropertyNames(proto)) {\n            if (key[0] !== '_' &&\n                typeof obj[key] === 'function' &&\n                key !== 'fire' &&\n                key !== 'setEventedParent') {\n                result.add(key);\n            }\n        }\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Array.from(result);\n}\n//# sourceMappingURL=create-ref.js.map","// From https://github.com/streamich/react-use/blob/master/src/useIsomorphicLayoutEffect.ts\n// useLayoutEffect but does not trigger warning in server-side rendering\nimport { useEffect, useLayoutEffect } from 'react';\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n//# sourceMappingURL=use-isomorphic-layout-effect.js.map","const globalSettings = [\n    'baseApiUrl',\n    'maxParallelImageRequests',\n    'workerClass',\n    'workerCount',\n    'workerUrl'\n];\nexport default function setGlobals(mapLib, props) {\n    for (const key of globalSettings) {\n        if (key in props) {\n            mapLib[key] = props[key];\n        }\n    }\n    if (props.RTLTextPlugin &&\n        mapLib.getRTLTextPluginStatus &&\n        mapLib.getRTLTextPluginStatus() === 'unavailable') {\n        mapLib.setRTLTextPlugin(props.RTLTextPlugin, (error) => {\n            if (error) {\n                // eslint-disable-next-line\n                console.error(error);\n            }\n        }, false);\n    }\n}\n//# sourceMappingURL=set-globals.js.map","import * as React from 'react';\nimport { useState, useRef, useEffect, useContext, useMemo, forwardRef, useImperativeHandle } from 'react';\nimport { MountedMapsContext } from './use-map';\nimport Mapbox from '../mapbox/mapbox';\nimport createRef from '../mapbox/create-ref';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport setGlobals from '../utils/set-globals';\nexport const MapContext = React.createContext(null);\nconst defaultProps = {\n    // Constraints\n    minZoom: 0,\n    maxZoom: 22,\n    minPitch: 0,\n    maxPitch: 60,\n    // Interaction handlers\n    scrollZoom: true,\n    boxZoom: true,\n    dragRotate: true,\n    dragPan: true,\n    keyboard: true,\n    doubleClickZoom: true,\n    touchZoomRotate: true,\n    touchPitch: true,\n    // Style\n    mapStyle: { version: 8, sources: {}, layers: [] },\n    styleDiffing: true,\n    projection: 'mercator',\n    renderWorldCopies: true,\n    // Callbacks\n    onError: e => console.error(e.error),\n    // Globals\n    RTLTextPlugin: 'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js'\n};\nconst Map = forwardRef((props, ref) => {\n    const mountedMapsContext = useContext(MountedMapsContext);\n    const [mapInstance, setMapInstance] = useState(null);\n    const containerRef = useRef();\n    const { current: contextValue } = useRef({ mapLib: null, map: null });\n    useEffect(() => {\n        const mapLib = props.mapLib;\n        let isMounted = true;\n        let mapbox;\n        Promise.resolve(mapLib || import('mapbox-gl'))\n            .then(mapboxgl => {\n            if (!isMounted) {\n                return;\n            }\n            if (!mapboxgl.Map) {\n                // commonjs style\n                mapboxgl = mapboxgl.default;\n            }\n            if (!mapboxgl || !mapboxgl.Map) {\n                throw new Error('Invalid mapLib');\n            }\n            if (mapboxgl.supported(props)) {\n                setGlobals(mapboxgl, props);\n                if (props.reuseMaps) {\n                    mapbox = Mapbox.reuse(props, containerRef.current);\n                }\n                if (!mapbox) {\n                    mapbox = new Mapbox(mapboxgl.Map, props, containerRef.current);\n                }\n                contextValue.map = createRef(mapbox, mapboxgl);\n                contextValue.mapLib = mapboxgl;\n                setMapInstance(mapbox);\n                mountedMapsContext?.onMapMount(contextValue.map, props.id);\n            }\n            else {\n                throw new Error('Map is not supported by this browser');\n            }\n        })\n            .catch(error => {\n            props.onError({\n                type: 'error',\n                target: null,\n                originalEvent: null,\n                error\n            });\n        });\n        return () => {\n            isMounted = false;\n            if (mapbox) {\n                mountedMapsContext?.onMapUnmount(props.id);\n                if (props.reuseMaps) {\n                    mapbox.recycle();\n                }\n                else {\n                    mapbox.destroy();\n                }\n            }\n        };\n    }, []);\n    useIsomorphicLayoutEffect(() => {\n        if (mapInstance) {\n            mapInstance.setProps(props);\n        }\n    });\n    useImperativeHandle(ref, () => contextValue.map, [mapInstance]);\n    const style = useMemo(() => ({\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        ...props.style\n    }), [props.style]);\n    return (React.createElement(\"div\", { id: props.id, ref: containerRef, style: style }, mapInstance && (React.createElement(MapContext.Provider, { value: contextValue }, props.children))));\n});\nMap.displayName = 'Map';\nMap.defaultProps = defaultProps;\nexport default Map;\n//# sourceMappingURL=map.js.map","// This is a simplified version of\n// https://github.com/facebook/react/blob/4131af3e4bf52f3a003537ec95a1655147c81270/src/renderers/dom/shared/CSSPropertyOperations.js#L62\nconst unitlessNumber = /box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;\nexport function applyReactStyle(element, styles) {\n    if (!element || !styles) {\n        return;\n    }\n    const style = element.style;\n    for (const key in styles) {\n        const value = styles[key];\n        if (Number.isFinite(value) && !unitlessNumber.test(key)) {\n            style[key] = `${value}px`;\n        }\n        else {\n            style[key] = value;\n        }\n    }\n}\n//# sourceMappingURL=apply-react-style.js.map","/* global document */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useEffect, useMemo, useRef, useContext } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport { MapContext } from './map';\nimport { arePointsEqual } from '../utils/deep-equal';\nconst defaultProps = {\n    draggable: false,\n    popup: null,\n    rotation: 0,\n    rotationAlignment: 'auto',\n    pitchAlignment: 'auto'\n};\n/* eslint-disable complexity,max-statements */\nfunction Marker(props) {\n    const { map, mapLib } = useContext(MapContext);\n    const thisRef = useRef({ props });\n    thisRef.current.props = props;\n    const marker = useMemo(() => {\n        let hasChildren = false;\n        React.Children.forEach(props.children, el => {\n            if (el) {\n                hasChildren = true;\n            }\n        });\n        const options = {\n            ...props,\n            element: hasChildren ? document.createElement('div') : null\n        };\n        const mk = new mapLib.Marker(options).setLngLat([props.longitude, props.latitude]);\n        mk.getElement().addEventListener('click', (e) => {\n            thisRef.current.props.onClick?.({\n                type: 'click',\n                target: mk,\n                originalEvent: e\n            });\n        });\n        mk.on('dragstart', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDragStart?.(evt);\n        });\n        mk.on('drag', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDrag?.(evt);\n        });\n        mk.on('dragend', e => {\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            thisRef.current.props.onDragEnd?.(evt);\n        });\n        return mk;\n    }, []);\n    useEffect(() => {\n        marker.addTo(map.getMap());\n        return () => {\n            marker.remove();\n        };\n    }, []);\n    useEffect(() => {\n        applyReactStyle(marker.getElement(), props.style);\n    }, [props.style]);\n    if (marker.getLngLat().lng !== props.longitude || marker.getLngLat().lat !== props.latitude) {\n        marker.setLngLat([props.longitude, props.latitude]);\n    }\n    if (props.offset && !arePointsEqual(marker.getOffset(), props.offset)) {\n        marker.setOffset(props.offset);\n    }\n    if (marker.isDraggable() !== props.draggable) {\n        marker.setDraggable(props.draggable);\n    }\n    if (marker.getRotation() !== props.rotation) {\n        marker.setRotation(props.rotation);\n    }\n    if (marker.getRotationAlignment() !== props.rotationAlignment) {\n        marker.setRotationAlignment(props.rotationAlignment);\n    }\n    if (marker.getPitchAlignment() !== props.pitchAlignment) {\n        marker.setPitchAlignment(props.pitchAlignment);\n    }\n    if (marker.getPopup() !== props.popup) {\n        marker.setPopup(props.popup);\n    }\n    return createPortal(props.children, marker.getElement());\n}\nMarker.defaultProps = defaultProps;\n// @ts-ignore\nexport default React.memo(Marker);\n//# sourceMappingURL=marker.js.map","/* global document */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useEffect, useMemo, useRef, useContext } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport { MapContext } from './map';\nimport { deepEqual } from '../utils/deep-equal';\n// Adapted from https://github.com/mapbox/mapbox-gl-js/blob/v1.13.0/src/ui/popup.js\nfunction getClassList(className) {\n    return new Set(className ? className.trim().split(/\\s+/) : []);\n}\n/* eslint-disable complexity,max-statements */\nfunction Popup(props) {\n    const { map, mapLib } = useContext(MapContext);\n    const container = useMemo(() => {\n        return document.createElement('div');\n    }, []);\n    const thisRef = useRef({ props });\n    thisRef.current.props = props;\n    const popup = useMemo(() => {\n        const options = { ...props };\n        const pp = new mapLib.Popup(options).setLngLat([props.longitude, props.latitude]);\n        pp.on('open', e => {\n            thisRef.current.props.onOpen?.(e);\n        });\n        pp.on('close', e => {\n            thisRef.current.props.onClose?.(e);\n        });\n        return pp;\n    }, []);\n    useEffect(() => {\n        popup.setDOMContent(container).addTo(map.getMap());\n        return () => {\n            if (popup.isOpen()) {\n                popup.remove();\n            }\n        };\n    }, []);\n    useEffect(() => {\n        applyReactStyle(popup.getElement(), props.style);\n    }, [props.style]);\n    if (popup.isOpen()) {\n        if (popup.getLngLat().lng !== props.longitude || popup.getLngLat().lat !== props.latitude) {\n            popup.setLngLat([props.longitude, props.latitude]);\n        }\n        // @ts-ignore\n        if (props.offset && !deepEqual(popup.options.offset, props.offset)) {\n            popup.setOffset(props.offset);\n        }\n        // @ts-ignore\n        if (popup.options.anchor !== props.anchor || popup.options.maxWidth !== props.maxWidth) {\n            // @ts-ignore\n            popup.options.anchor = props.anchor;\n            popup.setMaxWidth(props.maxWidth);\n        }\n        // @ts-ignore\n        if (popup.options.className !== props.className) {\n            // @ts-ignore\n            const prevClassList = getClassList(popup.options.className);\n            const nextClassList = getClassList(props.className);\n            for (const c of prevClassList) {\n                if (!nextClassList.has(c)) {\n                    popup.removeClassName(c);\n                }\n            }\n            for (const c of nextClassList) {\n                if (!prevClassList.has(c)) {\n                    popup.addClassName(c);\n                }\n            }\n            // @ts-ignore\n            popup.options.className = props.className;\n        }\n    }\n    return createPortal(props.children, container);\n}\n// @ts-ignore\nexport default React.memo(Popup);\n//# sourceMappingURL=popup.js.map","import { useContext, useMemo, useEffect } from 'react';\nimport { MapContext } from './map';\nexport default function useControl(onCreate, onRemove, opts) {\n    const context = useContext(MapContext);\n    const ctrl = useMemo(() => onCreate(context), []);\n    useEffect(() => {\n        const { map } = context;\n        if (!map.hasControl(ctrl)) {\n            map.addControl(ctrl, (opts || onRemove)?.position);\n        }\n        return () => {\n            if (typeof onRemove === 'function') {\n                onRemove(context);\n            }\n            // Map might have been removed (parent effects are destroyed before child ones)\n            if (map.hasControl(ctrl)) {\n                map.removeControl(ctrl);\n            }\n        };\n    }, []);\n    return ctrl;\n}\n//# sourceMappingURL=use-control.js.map","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction AttributionControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.AttributionControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        // @ts-ignore\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport default React.memo(AttributionControl);\n//# sourceMappingURL=attribution-control.js.map","/* global document */\nimport * as React from 'react';\nimport { useEffect } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction FullscreenControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.FullscreenControl({\n        container: props.containerId && document.getElementById(props.containerId)\n    }), { position: props.position });\n    useEffect(() => {\n        // @ts-ignore\n        applyReactStyle(ctrl._controlContainer, props.style);\n    }, [props.style]);\n    return null;\n}\nexport default React.memo(FullscreenControl);\n//# sourceMappingURL=fullscreen-control.js.map","import * as React from 'react';\nimport { forwardRef, useImperativeHandle, useRef, useEffect } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nconst GeolocateControl = forwardRef((props, ref) => {\n    const thisRef = useRef({ props });\n    const ctrl = useControl(({ mapLib }) => {\n        const gc = new mapLib.GeolocateControl(props);\n        gc.on('geolocate', e => {\n            thisRef.current.props.onGeolocate?.(e);\n        });\n        gc.on('error', e => {\n            thisRef.current.props.onError?.(e);\n        });\n        gc.on('outofmaxbounds', e => {\n            thisRef.current.props.onOutOfMaxBounds?.(e);\n        });\n        gc.on('trackuserlocationstart', e => {\n            thisRef.current.props.onTrackUserLocationStart?.(e);\n        });\n        gc.on('trackuserlocationend', e => {\n            thisRef.current.props.onTrackUserLocationEnd?.(e);\n        });\n        return gc;\n    }, { position: props.position });\n    thisRef.current.props = props;\n    useImperativeHandle(ref, () => ({\n        trigger: () => ctrl.trigger()\n    }), []);\n    useEffect(() => {\n        // @ts-ignore\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n});\nGeolocateControl.displayName = 'GeolocateControl';\nexport default React.memo(GeolocateControl);\n//# sourceMappingURL=geolocate-control.js.map","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction NavigationControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.NavigationControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        // @ts-ignore\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport default React.memo(NavigationControl);\n//# sourceMappingURL=navigation-control.js.map","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nconst defaultProps = {\n    unit: 'metric',\n    maxWidth: 100\n};\nfunction ScaleControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.ScaleControl(props), {\n        position: props.position\n    });\n    // @ts-ignore\n    if (ctrl.options.unit !== props.unit || ctrl.options.maxWidth !== props.maxWidth) {\n        // @ts-ignore\n        ctrl.options.maxWidth = props.maxWidth;\n        // This method will trigger an update\n        ctrl.setUnit(props.unit);\n    }\n    useEffect(() => {\n        // @ts-ignore\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nScaleControl.defaultProps = defaultProps;\nexport default React.memo(ScaleControl);\n//# sourceMappingURL=scale-control.js.map","import * as React from 'react';\nimport { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { cloneElement } from 'react';\nimport { MapContext } from './map';\nimport assert from '../utils/assert';\nimport { deepEqual } from '../utils/deep-equal';\nlet sourceCounter = 0;\nfunction createSource(map, id, props) {\n    // @ts-ignore\n    if (map.style && map.style._loaded) {\n        const options = { ...props };\n        delete options.id;\n        delete options.children;\n        // @ts-ignore\n        map.addSource(id, options);\n        return map.getSource(id);\n    }\n    return null;\n}\n/* eslint-disable complexity */\nfunction updateSource(source, props, prevProps) {\n    assert(props.id === prevProps.id, 'source id changed');\n    assert(props.type === prevProps.type, 'source type changed');\n    let changedKey = '';\n    let changedKeyCount = 0;\n    for (const key in props) {\n        if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n            changedKey = key;\n            changedKeyCount++;\n        }\n    }\n    if (!changedKeyCount) {\n        return;\n    }\n    const type = props.type;\n    if (type === 'geojson') {\n        source.setData(props.data);\n    }\n    else if (type === 'image') {\n        source.updateImage({ url: props.url, coordinates: props.coordinates });\n    }\n    else if ((type === 'canvas' || type === 'video') &&\n        changedKeyCount === 1 &&\n        changedKey === 'coordinates') {\n        source.setCoordinates(props.coordinates);\n    }\n    else if (type === 'vector' && 'setUrl' in source) {\n        // Added in 1.12.0:\n        // vectorTileSource.setTiles\n        // vectorTileSource.setUrl\n        switch (changedKey) {\n            case 'url':\n                source.setUrl(props.url);\n                break;\n            case 'tiles':\n                source.setTiles(props.tiles);\n                break;\n            default:\n        }\n    }\n    else {\n        // eslint-disable-next-line\n        console.warn(`Unable to update <Source> prop: ${changedKey}`);\n    }\n}\n/* eslint-enable complexity */\nfunction Source(props) {\n    const map = useContext(MapContext).map.getMap();\n    const propsRef = useRef(props);\n    const [, setStyleLoaded] = useState(0);\n    const id = useMemo(() => props.id || `jsx-source-${sourceCounter++}`, []);\n    useEffect(() => {\n        if (map) {\n            const forceUpdate = () => setStyleLoaded(version => version + 1);\n            map.on('styledata', forceUpdate);\n            forceUpdate();\n            return () => {\n                map.off('styledata', forceUpdate);\n                // Parent effects are destroyed before child ones, see\n                // https://github.com/facebook/react/issues/16728\n                // Source can only be removed after all child layers are removed\n                /* global setTimeout */\n                setTimeout(() => {\n                    // @ts-ignore\n                    if (map.style && map.style._loaded && map.getSource(id)) {\n                        map.removeSource(id);\n                    }\n                }, 0);\n            };\n        }\n        return undefined;\n    }, [map]);\n    // @ts-ignore\n    let source = map && map.style && map.getSource(id);\n    if (source) {\n        updateSource(source, props, propsRef.current);\n    }\n    else {\n        source = createSource(map, id, props);\n    }\n    propsRef.current = props;\n    return ((source &&\n        React.Children.map(props.children, child => child &&\n            cloneElement(child, {\n                source: id\n            }))) ||\n        null);\n}\nexport default Source;\n//# sourceMappingURL=source.js.map","import { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { MapContext } from './map';\nimport assert from '../utils/assert';\nimport { deepEqual } from '../utils/deep-equal';\n/* eslint-disable complexity, max-statements */\nfunction updateLayer(map, id, props, prevProps) {\n    assert(props.id === prevProps.id, 'layer id changed');\n    assert(props.type === prevProps.type, 'layer type changed');\n    if (props.type === 'custom' || prevProps.type === 'custom') {\n        return;\n    }\n    const { layout = {}, paint = {}, filter, minzoom, maxzoom, beforeId } = props;\n    if (beforeId !== prevProps.beforeId) {\n        map.moveLayer(id, beforeId);\n    }\n    if (layout !== prevProps.layout) {\n        const prevLayout = prevProps.layout || {};\n        for (const key in layout) {\n            if (!deepEqual(layout[key], prevLayout[key])) {\n                map.setLayoutProperty(id, key, layout[key]);\n            }\n        }\n        for (const key in prevLayout) {\n            if (!layout.hasOwnProperty(key)) {\n                map.setLayoutProperty(id, key, undefined);\n            }\n        }\n    }\n    if (paint !== prevProps.paint) {\n        const prevPaint = prevProps.paint || {};\n        for (const key in paint) {\n            if (!deepEqual(paint[key], prevPaint[key])) {\n                map.setPaintProperty(id, key, paint[key]);\n            }\n        }\n        for (const key in prevPaint) {\n            if (!paint.hasOwnProperty(key)) {\n                map.setPaintProperty(id, key, undefined);\n            }\n        }\n    }\n    if (!deepEqual(filter, prevProps.filter)) {\n        map.setFilter(id, filter);\n    }\n    if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n        map.setLayerZoomRange(id, minzoom, maxzoom);\n    }\n}\nfunction createLayer(map, id, props) {\n    // @ts-ignore\n    if (map.style && map.style._loaded && map.getSource(props.source)) {\n        const options = { ...props, id };\n        delete options.beforeId;\n        // @ts-ignore\n        map.addLayer(options, props.beforeId);\n    }\n}\n/* eslint-enable complexity, max-statements */\nlet layerCounter = 0;\nfunction Layer(props) {\n    const map = useContext(MapContext).map.getMap();\n    const propsRef = useRef(props);\n    const [, setStyleLoaded] = useState(0);\n    const id = useMemo(() => props.id || `jsx-layer-${layerCounter++}`, []);\n    useEffect(() => {\n        if (map) {\n            const forceUpdate = () => setStyleLoaded(version => version + 1);\n            map.on('styledata', forceUpdate);\n            forceUpdate();\n            return () => {\n                map.off('styledata', forceUpdate);\n                // @ts-ignore\n                if (map.style && map.style._loaded) {\n                    map.removeLayer(id);\n                }\n            };\n        }\n        return undefined;\n    }, [map]);\n    // @ts-ignore\n    const layer = map && map.style && map.getLayer(id);\n    if (layer) {\n        try {\n            updateLayer(map, id, props, propsRef.current);\n        }\n        catch (error) {\n            console.warn(error); // eslint-disable-line\n        }\n    }\n    else {\n        createLayer(map, id, props);\n    }\n    // Store last rendered props\n    propsRef.current = props;\n    return null;\n}\nexport default Layer;\n//# sourceMappingURL=layer.js.map","export { default } from './components/map';\nexport { default as Map } from './components/map';\nexport { default as Marker } from './components/marker';\nexport { default as Popup } from './components/popup';\nexport { default as AttributionControl } from './components/attribution-control';\nexport { default as FullscreenControl } from './components/fullscreen-control';\nexport { default as GeolocateControl } from './components/geolocate-control';\nexport { default as NavigationControl } from './components/navigation-control';\nexport { default as ScaleControl } from './components/scale-control';\nexport { default as Source } from './components/source';\nexport { default as Layer } from './components/layer';\nexport { default as useControl } from './components/use-control';\nexport { MapProvider, useMap } from './components/use-map';\n// Types\nexport * from './types/external';\n//# sourceMappingURL=index.js.map","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nlet channelHandles = 1;\nlet animationHandles = 1;\nexport class Timeline {\n    time = 0;\n    channels = new Map();\n    animations = new Map();\n    playing = false;\n    lastEngineTime = -1;\n    constructor() { }\n    addChannel(props) {\n        const { delay = 0, duration = Number.POSITIVE_INFINITY, rate = 1, repeat = 1 } = props;\n        const channelId = channelHandles++;\n        const channel = {\n            time: 0,\n            delay,\n            duration,\n            rate,\n            repeat\n        };\n        this._setChannelTime(channel, this.time);\n        this.channels.set(channelId, channel);\n        return channelId;\n    }\n    removeChannel(channelId) {\n        this.channels.delete(channelId);\n        for (const [animationHandle, animation] of this.animations) {\n            if (animation.channel === channelId) {\n                this.detachAnimation(animationHandle);\n            }\n        }\n    }\n    isFinished(channelId) {\n        const channel = this.channels.get(channelId);\n        if (channel === undefined) {\n            return false;\n        }\n        return this.time >= channel.delay + channel.duration * channel.repeat;\n    }\n    getTime(channelId) {\n        if (channelId === undefined) {\n            return this.time;\n        }\n        const channel = this.channels.get(channelId);\n        if (channel === undefined) {\n            return -1;\n        }\n        return channel.time;\n    }\n    setTime(time) {\n        this.time = Math.max(0, time);\n        const channels = this.channels.values();\n        for (const channel of channels) {\n            this._setChannelTime(channel, this.time);\n        }\n        const animations = this.animations.values();\n        for (const animationData of animations) {\n            const { animation, channel } = animationData;\n            animation.setTime(this.getTime(channel));\n        }\n    }\n    play() {\n        this.playing = true;\n    }\n    pause() {\n        this.playing = false;\n        this.lastEngineTime = -1;\n    }\n    reset() {\n        this.setTime(0);\n    }\n    attachAnimation(animation, channelHandle) {\n        const animationHandle = animationHandles++;\n        this.animations.set(animationHandle, {\n            animation,\n            channel: channelHandle\n        });\n        animation.setTime(this.getTime(channelHandle));\n        return animationHandle;\n    }\n    detachAnimation(channelId) {\n        this.animations.delete(channelId);\n    }\n    update(engineTime) {\n        if (this.playing) {\n            if (this.lastEngineTime === -1) {\n                this.lastEngineTime = engineTime;\n            }\n            this.setTime(this.time + (engineTime - this.lastEngineTime));\n            this.lastEngineTime = engineTime;\n        }\n    }\n    _setChannelTime(channel, time) {\n        const offsetTime = time - channel.delay;\n        const totalDuration = channel.duration * channel.repeat;\n        // Note(Tarek): Don't loop on final repeat.\n        if (offsetTime >= totalDuration) {\n            channel.time = channel.duration * channel.rate;\n        }\n        else {\n            channel.time = Math.max(0, offsetTime) % channel.duration;\n            channel.time *= channel.rate;\n        }\n    }\n}\n//# sourceMappingURL=timeline.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { ShaderAssembler } from '@luma.gl/shadertools';\nimport { gouraudLighting, phongLighting } from '@luma.gl/shadertools';\nimport { layerUniforms } from \"./misc/layer-uniforms.js\";\nimport geometry from \"./misc/geometry.js\";\nimport project from \"./project/project.js\";\nimport project32 from \"./project32/project32.js\";\nimport shadow from \"./shadow/shadow.js\";\nimport picking from \"./picking/picking.js\";\nconst DEFAULT_MODULES = [geometry];\nconst SHADER_HOOKS = [\n    'vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)',\n    'vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)',\n    'vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)',\n    'fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)'\n];\nexport function getShaderAssembler() {\n    const shaderAssembler = ShaderAssembler.getDefaultShaderAssembler();\n    for (const shaderModule of DEFAULT_MODULES) {\n        shaderAssembler.addDefaultModule(shaderModule);\n    }\n    for (const shaderHook of SHADER_HOOKS) {\n        shaderAssembler.addShaderHook(shaderHook);\n    }\n    return shaderAssembler;\n}\nexport { layerUniforms, picking, project, project32, gouraudLighting, phongLighting, shadow };\n//# sourceMappingURL=index.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nconst uniformBlock = `\\\nuniform layerUniforms {\n  uniform float opacity;\n} layer;\n`;\nexport const layerUniforms = {\n    name: 'layer',\n    vs: uniformBlock,\n    fs: uniformBlock,\n    getUniforms: (props) => {\n        return {\n            // apply gamma to opacity to make it visually \"linear\"\n            // TODO - v10: use raw opacity?\n            opacity: Math.pow(props.opacity, 1 / 2.2)\n        };\n    },\n    uniformTypes: {\n        opacity: 'f32'\n    }\n};\n//# sourceMappingURL=layer-uniforms.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { load } from '@loaders.gl/core';\nexport default class Resource {\n    constructor(id, data, context) {\n        this._loadCount = 0;\n        this._subscribers = new Set();\n        this.id = id;\n        this.context = context;\n        this.setData(data);\n    }\n    // consumer: {onChange: Function}\n    subscribe(consumer) {\n        this._subscribers.add(consumer);\n    }\n    unsubscribe(consumer) {\n        this._subscribers.delete(consumer);\n    }\n    inUse() {\n        return this._subscribers.size > 0;\n    }\n    delete() {\n        // Remove any resources created\n    }\n    getData() {\n        return this.isLoaded\n            ? this._error\n                ? Promise.reject(this._error)\n                : this._content\n            : this._loader.then(() => this.getData());\n    }\n    setData(data, forceUpdate) {\n        if (data === this._data && !forceUpdate) {\n            return;\n        }\n        this._data = data;\n        const loadCount = ++this._loadCount;\n        let loader = data;\n        if (typeof data === 'string') {\n            loader = load(data);\n        }\n        if (loader instanceof Promise) {\n            this.isLoaded = false;\n            this._loader = loader\n                .then(result => {\n                // check if source has changed\n                if (this._loadCount === loadCount) {\n                    this.isLoaded = true;\n                    this._error = undefined;\n                    this._content = result;\n                }\n            })\n                .catch(error => {\n                if (this._loadCount === loadCount) {\n                    this.isLoaded = true;\n                    this._error = error || true;\n                }\n            });\n        }\n        else {\n            this.isLoaded = true;\n            this._error = undefined;\n            this._content = data;\n        }\n        for (const subscriber of this._subscribers) {\n            subscriber.onChange(this.getData());\n        }\n    }\n}\n//# sourceMappingURL=resource.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport Resource from \"./resource.js\";\nexport default class ResourceManager {\n    constructor(props) {\n        this.protocol = props.protocol || 'resource://';\n        this._context = {\n            device: props.device,\n            // @ts-expect-error\n            gl: props.device?.gl,\n            resourceManager: this\n        };\n        this._resources = {};\n        this._consumers = {};\n        this._pruneRequest = null;\n    }\n    contains(resourceId) {\n        if (resourceId.startsWith(this.protocol)) {\n            return true;\n        }\n        return resourceId in this._resources;\n    }\n    add({ resourceId, data, forceUpdate = false, persistent = true }) {\n        let res = this._resources[resourceId];\n        if (res) {\n            res.setData(data, forceUpdate);\n        }\n        else {\n            res = new Resource(resourceId, data, this._context);\n            this._resources[resourceId] = res;\n        }\n        // persistent resources can only be removed by calling `remove`\n        // non-persistent resources may be released when there are no more consumers\n        res.persistent = persistent;\n    }\n    remove(resourceId) {\n        const res = this._resources[resourceId];\n        if (res) {\n            res.delete();\n            delete this._resources[resourceId];\n        }\n    }\n    unsubscribe({ consumerId }) {\n        const consumer = this._consumers[consumerId];\n        if (consumer) {\n            for (const requestId in consumer) {\n                const request = consumer[requestId];\n                const resource = this._resources[request.resourceId];\n                if (resource) {\n                    resource.unsubscribe(request);\n                }\n            }\n            delete this._consumers[consumerId];\n            this.prune();\n        }\n    }\n    subscribe({ resourceId, onChange, consumerId, requestId = 'default' }) {\n        const { _resources: resources, protocol } = this;\n        if (resourceId.startsWith(protocol)) {\n            resourceId = resourceId.replace(protocol, '');\n            if (!resources[resourceId]) {\n                // Add placeholder. When this resource becomes available, the consumer will be notified.\n                this.add({ resourceId, data: null, persistent: false });\n            }\n        }\n        const res = resources[resourceId];\n        this._track(consumerId, requestId, res, onChange);\n        if (res) {\n            return res.getData();\n        }\n        return undefined;\n    }\n    prune() {\n        if (!this._pruneRequest) {\n            // prune() may be called multiple times in the same animation frame.\n            // Batch multiple requests together\n            // @ts-ignore setTimeout returns NodeJS.Timeout in node\n            this._pruneRequest = setTimeout(() => this._prune(), 0);\n        }\n    }\n    finalize() {\n        for (const key in this._resources) {\n            this._resources[key].delete();\n        }\n    }\n    _track(consumerId, requestId, resource, onChange) {\n        const consumers = this._consumers;\n        const consumer = (consumers[consumerId] = consumers[consumerId] || {});\n        let request = consumer[requestId];\n        const oldResource = request && request.resourceId && this._resources[request.resourceId];\n        if (oldResource) {\n            oldResource.unsubscribe(request);\n            this.prune();\n        }\n        if (resource) {\n            if (request) {\n                request.onChange = onChange;\n                request.resourceId = resource.id;\n            }\n            else {\n                request = {\n                    onChange,\n                    resourceId: resource.id\n                };\n            }\n            consumer[requestId] = request;\n            resource.subscribe(request);\n        }\n    }\n    _prune() {\n        this._pruneRequest = null;\n        for (const key of Object.keys(this._resources)) {\n            const res = this._resources[key];\n            if (!res.persistent && !res.inUse()) {\n                res.delete();\n                delete this._resources[key];\n            }\n        }\n    }\n}\n//# sourceMappingURL=resource-manager.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { Timeline } from '@luma.gl/engine';\nimport { getShaderAssembler, layerUniforms } from \"../shaderlib/index.js\";\nimport { LIFECYCLE } from \"../lifecycle/constants.js\";\nimport log from \"../utils/log.js\";\nimport debug from \"../debug/index.js\";\nimport { flatten } from \"../utils/flatten.js\";\nimport { Stats } from '@probe.gl/stats';\nimport ResourceManager from \"./resource/resource-manager.js\";\nimport Viewport from \"../viewports/viewport.js\";\nconst TRACE_SET_LAYERS = 'layerManager.setLayers';\nconst TRACE_ACTIVATE_VIEWPORT = 'layerManager.activateViewport';\nexport default class LayerManager {\n    /**\n     * @param device\n     * @param param1\n     */\n    // eslint-disable-next-line\n    constructor(device, props) {\n        this._lastRenderedLayers = [];\n        this._needsRedraw = false;\n        this._needsUpdate = false;\n        this._nextLayers = null;\n        this._debug = false;\n        // This flag is separate from _needsUpdate because it can be set during an update and should trigger another full update\n        this._defaultShaderModulesChanged = false;\n        //\n        // INTERNAL METHODS\n        //\n        /** Make a viewport \"current\" in layer context, updating viewportChanged flags */\n        this.activateViewport = (viewport) => {\n            debug(TRACE_ACTIVATE_VIEWPORT, this, viewport);\n            if (viewport) {\n                this.context.viewport = viewport;\n            }\n        };\n        const { deck, stats, viewport, timeline } = props || {};\n        // Currently deck.gl expects the DeckGL.layers array to be different\n        // whenever React rerenders. If the same layers array is used, the\n        // LayerManager's diffing algorithm will generate a fatal error and\n        // break the rendering.\n        // `this._lastRenderedLayers` stores the UNFILTERED layers sent\n        // down to LayerManager, so that `layers` reference can be compared.\n        // If it's the same across two React render calls, the diffing logic\n        // will be skipped.\n        this.layers = [];\n        this.resourceManager = new ResourceManager({ device, protocol: 'deck://' });\n        this.context = {\n            mousePosition: null,\n            userData: {},\n            layerManager: this,\n            device,\n            // @ts-expect-error\n            gl: device?.gl,\n            deck,\n            shaderAssembler: getShaderAssembler(),\n            defaultShaderModules: [layerUniforms],\n            renderPass: undefined,\n            stats: stats || new Stats({ id: 'deck.gl' }),\n            // Make sure context.viewport is not empty on the first layer initialization\n            viewport: viewport || new Viewport({ id: 'DEFAULT-INITIAL-VIEWPORT' }), // Current viewport, exposed to layers for project* function\n            timeline: timeline || new Timeline(),\n            resourceManager: this.resourceManager,\n            onError: undefined\n        };\n        Object.seal(this);\n    }\n    /** Method to call when the layer manager is not needed anymore. */\n    finalize() {\n        this.resourceManager.finalize();\n        // Finalize all layers\n        for (const layer of this.layers) {\n            this._finalizeLayer(layer);\n        }\n    }\n    /** Check if a redraw is needed */\n    needsRedraw(opts = { clearRedrawFlags: false }) {\n        let redraw = this._needsRedraw;\n        if (opts.clearRedrawFlags) {\n            this._needsRedraw = false;\n        }\n        // This layers list doesn't include sublayers, relying on composite layers\n        for (const layer of this.layers) {\n            // Call every layer to clear their flags\n            const layerNeedsRedraw = layer.getNeedsRedraw(opts);\n            redraw = redraw || layerNeedsRedraw;\n        }\n        return redraw;\n    }\n    /** Check if a deep update of all layers is needed */\n    needsUpdate() {\n        if (this._nextLayers && this._nextLayers !== this._lastRenderedLayers) {\n            // New layers array may be the same as the old one if `setProps` is called by React\n            return 'layers changed';\n        }\n        if (this._defaultShaderModulesChanged) {\n            return 'shader modules changed';\n        }\n        return this._needsUpdate;\n    }\n    /** Layers will be redrawn (in next animation frame) */\n    setNeedsRedraw(reason) {\n        this._needsRedraw = this._needsRedraw || reason;\n    }\n    /** Layers will be updated deeply (in next animation frame)\n      Potentially regenerating attributes and sub layers */\n    setNeedsUpdate(reason) {\n        this._needsUpdate = this._needsUpdate || reason;\n    }\n    /** Gets a list of currently rendered layers. Optionally filter by id. */\n    getLayers({ layerIds } = {}) {\n        // Filtering by layerId compares beginning of strings, so that sublayers will be included\n        // Dependes on the convention of adding suffixes to the parent's layer name\n        return layerIds\n            ? this.layers.filter(layer => layerIds.find(layerId => layer.id.indexOf(layerId) === 0))\n            : this.layers;\n    }\n    /** Set props needed for layer rendering and picking. */\n    setProps(props) {\n        if ('debug' in props) {\n            this._debug = props.debug;\n        }\n        // A way for apps to add data to context that can be accessed in layers\n        if ('userData' in props) {\n            this.context.userData = props.userData;\n        }\n        // New layers will be processed in `updateLayers` in the next update cycle\n        if ('layers' in props) {\n            this._nextLayers = props.layers;\n        }\n        if ('onError' in props) {\n            this.context.onError = props.onError;\n        }\n    }\n    /** Supply a new layer list, initiating sublayer generation and layer matching */\n    setLayers(newLayers, reason) {\n        debug(TRACE_SET_LAYERS, this, reason, newLayers);\n        this._lastRenderedLayers = newLayers;\n        const flatLayers = flatten(newLayers, Boolean);\n        for (const layer of flatLayers) {\n            layer.context = this.context;\n        }\n        this._updateLayers(this.layers, flatLayers);\n    }\n    /** Update layers from last cycle if `setNeedsUpdate()` has been called */\n    updateLayers() {\n        // NOTE: For now, even if only some layer has changed, we update all layers\n        // to ensure that layer id maps etc remain consistent even if different\n        // sublayers are rendered\n        const reason = this.needsUpdate();\n        if (reason) {\n            this.setNeedsRedraw(`updating layers: ${reason}`);\n            // Force a full update\n            this.setLayers(this._nextLayers || this._lastRenderedLayers, reason);\n        }\n        // Updated, clear the backlog\n        this._nextLayers = null;\n    }\n    /** Register a default shader module */\n    addDefaultShaderModule(module) {\n        const { defaultShaderModules } = this.context;\n        if (!defaultShaderModules.find(m => m.name === module.name)) {\n            defaultShaderModules.push(module);\n            this._defaultShaderModulesChanged = true;\n        }\n    }\n    /** Deregister a default shader module */\n    removeDefaultShaderModule(module) {\n        const { defaultShaderModules } = this.context;\n        const i = defaultShaderModules.findIndex(m => m.name === module.name);\n        if (i >= 0) {\n            defaultShaderModules.splice(i, 1);\n            this._defaultShaderModulesChanged = true;\n        }\n    }\n    _handleError(stage, error, layer) {\n        layer.raiseError(error, `${stage} of ${layer}`);\n    }\n    // TODO - mark layers with exceptions as bad and remove from rendering cycle?\n    /** Match all layers, checking for caught errors\n      to avoid having an exception in one layer disrupt other layers */\n    _updateLayers(oldLayers, newLayers) {\n        // Create old layer map\n        const oldLayerMap = {};\n        for (const oldLayer of oldLayers) {\n            if (oldLayerMap[oldLayer.id]) {\n                log.warn(`Multiple old layers with same id ${oldLayer.id}`)();\n            }\n            else {\n                oldLayerMap[oldLayer.id] = oldLayer;\n            }\n        }\n        if (this._defaultShaderModulesChanged) {\n            for (const layer of oldLayers) {\n                layer.setNeedsUpdate();\n                layer.setChangeFlags({ extensionsChanged: true });\n            }\n            this._defaultShaderModulesChanged = false;\n        }\n        // Allocate array for generated layers\n        const generatedLayers = [];\n        // Match sublayers\n        this._updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers);\n        // Finalize unmatched layers\n        this._finalizeOldLayers(oldLayerMap);\n        let needsUpdate = false;\n        for (const layer of generatedLayers) {\n            if (layer.hasUniformTransition()) {\n                needsUpdate = `Uniform transition in ${layer}`;\n                break;\n            }\n        }\n        this._needsUpdate = needsUpdate;\n        this.layers = generatedLayers;\n    }\n    /* eslint-disable complexity,max-statements */\n    // Note: adds generated layers to `generatedLayers` array parameter\n    _updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers) {\n        for (const newLayer of newLayers) {\n            newLayer.context = this.context;\n            // Given a new coming layer, find its matching old layer (if any)\n            const oldLayer = oldLayerMap[newLayer.id];\n            if (oldLayer === null) {\n                // null, rather than undefined, means this id was originally there\n                log.warn(`Multiple new layers with same id ${newLayer.id}`)();\n            }\n            // Remove the old layer from candidates, as it has been matched with this layer\n            oldLayerMap[newLayer.id] = null;\n            let sublayers = null;\n            // We must not generate exceptions until after layer matching is complete\n            try {\n                if (this._debug && oldLayer !== newLayer) {\n                    newLayer.validateProps();\n                }\n                if (!oldLayer) {\n                    this._initializeLayer(newLayer);\n                }\n                else {\n                    this._transferLayerState(oldLayer, newLayer);\n                    this._updateLayer(newLayer);\n                }\n                generatedLayers.push(newLayer);\n                // Call layer lifecycle method: render sublayers\n                sublayers = newLayer.isComposite ? newLayer.getSubLayers() : null;\n                // End layer lifecycle method: render sublayers\n            }\n            catch (err) {\n                this._handleError('matching', err, newLayer); // Record first exception\n            }\n            if (sublayers) {\n                this._updateSublayersRecursively(sublayers, oldLayerMap, generatedLayers);\n            }\n        }\n    }\n    /* eslint-enable complexity,max-statements */\n    // Finalize any old layers that were not matched\n    _finalizeOldLayers(oldLayerMap) {\n        for (const layerId in oldLayerMap) {\n            const layer = oldLayerMap[layerId];\n            if (layer) {\n                this._finalizeLayer(layer);\n            }\n        }\n    }\n    // / EXCEPTION SAFE LAYER ACCESS\n    /** Safely initializes a single layer, calling layer methods */\n    _initializeLayer(layer) {\n        try {\n            layer._initialize();\n            layer.lifecycle = LIFECYCLE.INITIALIZED;\n        }\n        catch (err) {\n            this._handleError('initialization', err, layer);\n            // TODO - what should the lifecycle state be here? LIFECYCLE.INITIALIZATION_FAILED?\n        }\n    }\n    /** Transfer state from one layer to a newer version */\n    _transferLayerState(oldLayer, newLayer) {\n        newLayer._transferState(oldLayer);\n        newLayer.lifecycle = LIFECYCLE.MATCHED;\n        if (newLayer !== oldLayer) {\n            oldLayer.lifecycle = LIFECYCLE.AWAITING_GC;\n        }\n    }\n    /** Safely updates a single layer, cleaning all flags */\n    _updateLayer(layer) {\n        try {\n            layer._update();\n        }\n        catch (err) {\n            this._handleError('update', err, layer);\n        }\n    }\n    /** Safely finalizes a single layer, removing all resources */\n    _finalizeLayer(layer) {\n        this._needsRedraw = this._needsRedraw || `finalized ${layer}`;\n        layer.lifecycle = LIFECYCLE.AWAITING_FINALIZATION;\n        try {\n            layer._finalize();\n            layer.lifecycle = LIFECYCLE.FINALIZED;\n        }\n        catch (err) {\n            this._handleError('finalization', err, layer);\n        }\n    }\n}\n//# sourceMappingURL=layer-manager.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { deepEqual } from \"../utils/deep-equal.js\";\nimport log from \"../utils/log.js\";\nimport { flatten } from \"../utils/flatten.js\";\nexport default class ViewManager {\n    constructor(props) {\n        // List of view descriptors, gets re-evaluated when width/height changes\n        this.views = [];\n        this.width = 100;\n        this.height = 100;\n        this.viewState = {};\n        this.controllers = {};\n        this.timeline = props.timeline;\n        this._viewports = []; // Generated viewports\n        this._viewportMap = {};\n        this._isUpdating = false;\n        this._needsRedraw = 'First render';\n        this._needsUpdate = 'Initialize';\n        this._eventManager = props.eventManager;\n        this._eventCallbacks = {\n            onViewStateChange: props.onViewStateChange,\n            onInteractionStateChange: props.onInteractionStateChange\n        };\n        Object.seal(this);\n        // Init with default map viewport\n        this.setProps(props);\n    }\n    /** Remove all resources and event listeners */\n    finalize() {\n        for (const key in this.controllers) {\n            const controller = this.controllers[key];\n            if (controller) {\n                controller.finalize();\n            }\n        }\n        this.controllers = {};\n    }\n    /** Check if a redraw is needed */\n    needsRedraw(opts = { clearRedrawFlags: false }) {\n        const redraw = this._needsRedraw;\n        if (opts.clearRedrawFlags) {\n            this._needsRedraw = false;\n        }\n        return redraw;\n    }\n    /** Mark the manager as dirty. Will rebuild all viewports and update controllers. */\n    setNeedsUpdate(reason) {\n        this._needsUpdate = this._needsUpdate || reason;\n        this._needsRedraw = this._needsRedraw || reason;\n    }\n    /** Checks each viewport for transition updates */\n    updateViewStates() {\n        for (const viewId in this.controllers) {\n            const controller = this.controllers[viewId];\n            if (controller) {\n                controller.updateTransition();\n            }\n        }\n    }\n    /** Get a set of viewports for a given width and height\n     * TODO - Intention is for deck.gl to autodeduce width and height and drop the need for props\n     * @param rect (object, optional) - filter the viewports\n     *   + not provided - return all viewports\n     *   + {x, y} - only return viewports that contain this pixel\n     *   + {x, y, width, height} - only return viewports that overlap with this rectangle\n     */\n    getViewports(rect) {\n        if (rect) {\n            return this._viewports.filter(viewport => viewport.containsPixel(rect));\n        }\n        return this._viewports;\n    }\n    /** Get a map of all views */\n    getViews() {\n        const viewMap = {};\n        this.views.forEach(view => {\n            viewMap[view.id] = view;\n        });\n        return viewMap;\n    }\n    /** Resolves a viewId string to a View */\n    getView(viewId) {\n        return this.views.find(view => view.id === viewId);\n    }\n    /** Returns the viewState for a specific viewId. Matches the viewState by\n      1. view.viewStateId\n      2. view.id\n      3. root viewState\n      then applies the view's filter if any */\n    getViewState(viewOrViewId) {\n        const view = typeof viewOrViewId === 'string' ? this.getView(viewOrViewId) : viewOrViewId;\n        // Backward compatibility: view state for single view\n        const viewState = (view && this.viewState[view.getViewStateId()]) || this.viewState;\n        return view ? view.filterViewState(viewState) : viewState;\n    }\n    getViewport(viewId) {\n        return this._viewportMap[viewId];\n    }\n    /**\n     * Unproject pixel coordinates on screen onto world coordinates,\n     * (possibly [lon, lat]) on map.\n     * - [x, y] => [lng, lat]\n     * - [x, y, z] => [lng, lat, Z]\n     * @param {Array} xyz -\n     * @param {Object} opts - options\n     * @param {Object} opts.topLeft=true - Whether origin is top left\n     * @return {Array|null} - [lng, lat, Z] or [X, Y, Z]\n     */\n    unproject(xyz, opts) {\n        const viewports = this.getViewports();\n        const pixel = { x: xyz[0], y: xyz[1] };\n        for (let i = viewports.length - 1; i >= 0; --i) {\n            const viewport = viewports[i];\n            if (viewport.containsPixel(pixel)) {\n                const p = xyz.slice();\n                p[0] -= viewport.x;\n                p[1] -= viewport.y;\n                return viewport.unproject(p, opts);\n            }\n        }\n        return null;\n    }\n    /** Update the manager with new Deck props */\n    setProps(props) {\n        if (props.views) {\n            this._setViews(props.views);\n        }\n        if (props.viewState) {\n            this._setViewState(props.viewState);\n        }\n        if ('width' in props || 'height' in props) {\n            this._setSize(props.width, props.height);\n        }\n        // Important: avoid invoking _update() inside itself\n        // Nested updates result in unexpected side effects inside _rebuildViewports()\n        // when using auto control in pure-js\n        if (!this._isUpdating) {\n            this._update();\n        }\n    }\n    //\n    // PRIVATE METHODS\n    //\n    _update() {\n        this._isUpdating = true;\n        // Only rebuild viewports if the update flag is set\n        if (this._needsUpdate) {\n            this._needsUpdate = false;\n            this._rebuildViewports();\n        }\n        // If viewport transition(s) are triggered during viewports update, controller(s)\n        // will immediately call `onViewStateChange` which calls `viewManager.setProps` again.\n        if (this._needsUpdate) {\n            this._needsUpdate = false;\n            this._rebuildViewports();\n        }\n        this._isUpdating = false;\n    }\n    _setSize(width, height) {\n        if (width !== this.width || height !== this.height) {\n            this.width = width;\n            this.height = height;\n            this.setNeedsUpdate('Size changed');\n        }\n    }\n    // Update the view descriptor list and set change flag if needed\n    // Does not actually rebuild the `Viewport`s until `getViewports` is called\n    _setViews(views) {\n        views = flatten(views, Boolean);\n        const viewsChanged = this._diffViews(views, this.views);\n        if (viewsChanged) {\n            this.setNeedsUpdate('views changed');\n        }\n        this.views = views;\n    }\n    _setViewState(viewState) {\n        if (viewState) {\n            // depth = 3 when comparing viewStates: viewId.position.0\n            const viewStateChanged = !deepEqual(viewState, this.viewState, 3);\n            if (viewStateChanged) {\n                this.setNeedsUpdate('viewState changed');\n            }\n            this.viewState = viewState;\n        }\n        else {\n            log.warn('missing `viewState` or `initialViewState`')();\n        }\n    }\n    _createController(view, props) {\n        const Controller = props.type;\n        const controller = new Controller({\n            timeline: this.timeline,\n            eventManager: this._eventManager,\n            // Set an internal callback that calls the prop callback if provided\n            onViewStateChange: this._eventCallbacks.onViewStateChange,\n            onStateChange: this._eventCallbacks.onInteractionStateChange,\n            makeViewport: viewState => this.getView(view.id)?.makeViewport({\n                viewState,\n                width: this.width,\n                height: this.height\n            })\n        });\n        return controller;\n    }\n    _updateController(view, viewState, viewport, controller) {\n        const controllerProps = view.controller;\n        if (controllerProps && viewport) {\n            const resolvedProps = {\n                ...viewState,\n                ...controllerProps,\n                id: view.id,\n                x: viewport.x,\n                y: viewport.y,\n                width: viewport.width,\n                height: viewport.height\n            };\n            // Create controller if not already existing or if the type of the\n            // controller has changed.\n            if (!controller || controller.constructor !== controllerProps.type) {\n                controller = this._createController(view, resolvedProps);\n            }\n            if (controller) {\n                controller.setProps(resolvedProps);\n            }\n            return controller;\n        }\n        return null;\n    }\n    // Rebuilds viewports from descriptors towards a certain window size\n    _rebuildViewports() {\n        const { views } = this;\n        const oldControllers = this.controllers;\n        this._viewports = [];\n        this.controllers = {};\n        let invalidateControllers = false;\n        // Create controllers in reverse order, so that views on top receive events first\n        for (let i = views.length; i--;) {\n            const view = views[i];\n            const viewState = this.getViewState(view);\n            const viewport = view.makeViewport({ viewState, width: this.width, height: this.height });\n            let oldController = oldControllers[view.id];\n            const hasController = Boolean(view.controller);\n            if (hasController && !oldController) {\n                // When a new controller is added, invalidate all controllers below it so that\n                // events are registered in the correct order\n                invalidateControllers = true;\n            }\n            if ((invalidateControllers || !hasController) && oldController) {\n                // Remove and reattach invalidated controller\n                oldController.finalize();\n                oldController = null;\n            }\n            // Update the controller\n            this.controllers[view.id] = this._updateController(view, viewState, viewport, oldController);\n            if (viewport) {\n                this._viewports.unshift(viewport);\n            }\n        }\n        // Remove unused controllers\n        for (const id in oldControllers) {\n            const oldController = oldControllers[id];\n            if (oldController && !this.controllers[id]) {\n                oldController.finalize();\n            }\n        }\n        this._buildViewportMap();\n    }\n    _buildViewportMap() {\n        // Build a view id to view index\n        this._viewportMap = {};\n        this._viewports.forEach(viewport => {\n            if (viewport.id) {\n                // TODO - issue warning if multiple viewports use same id\n                this._viewportMap[viewport.id] = this._viewportMap[viewport.id] || viewport;\n            }\n        });\n    }\n    // Check if viewport array has changed, returns true if any change\n    // Note that descriptors can be the same\n    _diffViews(newViews, oldViews) {\n        if (newViews.length !== oldViews.length) {\n            return true;\n        }\n        return newViews.some((_, i) => !newViews[i].equals(oldViews[i]));\n    }\n}\n//# sourceMappingURL=view-manager.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nconst PERCENT_OR_PIXELS_REGEX = /([0-9]+\\.?[0-9]*)(%|px)/;\n// Takes a number or a string of formats `50%`, `33.3%` or `200px`\nexport function parsePosition(value) {\n    switch (typeof value) {\n        case 'number':\n            return {\n                position: value,\n                relative: false\n            };\n        case 'string':\n            const match = PERCENT_OR_PIXELS_REGEX.exec(value);\n            if (match && match.length >= 3) {\n                const relative = match[2] === '%';\n                const position = parseFloat(match[1]);\n                return {\n                    position: relative ? position / 100 : position,\n                    relative\n                };\n            }\n        // fallthrough\n        default:\n            // eslint-disable-line\n            throw new Error(`Could not parse position string ${value}`);\n    }\n}\nexport function getPosition(position, extent) {\n    return position.relative ? Math.round(position.position * extent) : position.position;\n}\n//# sourceMappingURL=positions.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { parsePosition, getPosition } from \"../utils/positions.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nexport default class View {\n    constructor(props) {\n        const { id, x = 0, y = 0, width = '100%', height = '100%', padding = null } = props;\n        // @ts-ignore\n        this.id = id || this.constructor.displayName || 'view';\n        this.props = { ...props, id: this.id };\n        // Extents\n        this._x = parsePosition(x);\n        this._y = parsePosition(y);\n        this._width = parsePosition(width);\n        this._height = parsePosition(height);\n        this._padding = padding && {\n            left: parsePosition(padding.left || 0),\n            right: parsePosition(padding.right || 0),\n            top: parsePosition(padding.top || 0),\n            bottom: parsePosition(padding.bottom || 0)\n        };\n        // Bind methods for easy access\n        this.equals = this.equals.bind(this);\n        Object.seal(this);\n    }\n    equals(view) {\n        if (this === view) {\n            return true;\n        }\n        // To correctly compare padding use depth=2\n        return this.constructor === view.constructor && deepEqual(this.props, view.props, 2);\n    }\n    /** Make viewport from canvas dimensions and view state */\n    makeViewport({ width, height, viewState }) {\n        viewState = this.filterViewState(viewState);\n        // Resolve relative viewport dimensions\n        const viewportDimensions = this.getDimensions({ width, height });\n        if (!viewportDimensions.height || !viewportDimensions.width) {\n            return null;\n        }\n        const ViewportType = this.getViewportType(viewState);\n        return new ViewportType({ ...viewState, ...this.props, ...viewportDimensions });\n    }\n    getViewStateId() {\n        const { viewState } = this.props;\n        if (typeof viewState === 'string') {\n            // if View.viewState is a string, return it\n            return viewState;\n        }\n        return viewState?.id || this.id;\n    }\n    // Allows view to override (or completely define) viewState\n    filterViewState(viewState) {\n        if (this.props.viewState && typeof this.props.viewState === 'object') {\n            // If we have specified an id, then intent is to override,\n            // If not, completely specify the view state\n            if (!this.props.viewState.id) {\n                return this.props.viewState;\n            }\n            // Merge in all props from View's viewState, except id\n            const newViewState = { ...viewState };\n            for (const key in this.props.viewState) {\n                if (key !== 'id') {\n                    newViewState[key] = this.props.viewState[key];\n                }\n            }\n            return newViewState;\n        }\n        return viewState;\n    }\n    /** Resolve the dimensions of the view from overall canvas dimensions */\n    getDimensions({ width, height }) {\n        const dimensions = {\n            x: getPosition(this._x, width),\n            y: getPosition(this._y, height),\n            width: getPosition(this._width, width),\n            height: getPosition(this._height, height)\n        };\n        if (this._padding) {\n            dimensions.padding = {\n                left: getPosition(this._padding.left, width),\n                top: getPosition(this._padding.top, height),\n                right: getPosition(this._padding.right, width),\n                bottom: getPosition(this._padding.bottom, height)\n            };\n        }\n        return dimensions;\n    }\n    // Used by sub classes to resolve controller props\n    get controller() {\n        const opts = this.props.controller;\n        if (!opts) {\n            return null;\n        }\n        if (opts === true) {\n            return { type: this.ControllerType };\n        }\n        if (typeof opts === 'function') {\n            return { type: opts };\n        }\n        return { type: this.ControllerType, ...opts };\n    }\n}\n//# sourceMappingURL=view.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport Transition from \"../transitions/transition.js\";\nconst noop = () => { };\n// Enums cannot be directly exported as they are not transpiled correctly into ES5, see https://github.com/visgl/deck.gl/issues/7130\nexport const TRANSITION_EVENTS = {\n    BREAK: 1,\n    SNAP_TO_END: 2,\n    IGNORE: 3\n};\nconst DEFAULT_EASING = t => t;\nconst DEFAULT_INTERRUPTION = TRANSITION_EVENTS.BREAK;\nexport default class TransitionManager {\n    constructor(opts) {\n        this._onTransitionUpdate = transition => {\n            // NOTE: Be cautious re-ordering statements in this function.\n            const { time, settings: { interpolator, startProps, endProps, duration, easing } } = transition;\n            const t = easing(time / duration);\n            const viewport = interpolator.interpolateProps(startProps, endProps, t);\n            // This gurantees all props (e.g. bearing, longitude) are normalized\n            // So when viewports are compared they are in same range.\n            this.propsInTransition = this.getControllerState({\n                ...this.props,\n                ...viewport\n            }).getViewportProps();\n            this.onViewStateChange({\n                viewState: this.propsInTransition,\n                oldViewState: this.props\n            });\n        };\n        this.getControllerState = opts.getControllerState;\n        this.propsInTransition = null;\n        this.transition = new Transition(opts.timeline);\n        this.onViewStateChange = opts.onViewStateChange || noop;\n        this.onStateChange = opts.onStateChange || noop;\n    }\n    finalize() {\n        this.transition.cancel();\n    }\n    // Returns current transitioned viewport.\n    getViewportInTransition() {\n        return this.propsInTransition;\n    }\n    // Process the vewiport change, either ignore or trigger a new transition.\n    // Return true if a new transition is triggered, false otherwise.\n    processViewStateChange(nextProps) {\n        let transitionTriggered = false;\n        const currentProps = this.props;\n        // Set this.props here as '_triggerTransition' calls '_updateViewport' that uses this.props.\n        this.props = nextProps;\n        // NOTE: Be cautious re-ordering statements in this function.\n        if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n            return false;\n        }\n        if (this._isTransitionEnabled(nextProps)) {\n            let startProps = currentProps;\n            if (this.transition.inProgress) {\n                // @ts-expect-error\n                const { interruption, endProps } = this.transition.settings;\n                startProps = {\n                    ...currentProps,\n                    ...(interruption === TRANSITION_EVENTS.SNAP_TO_END\n                        ? endProps\n                        : this.propsInTransition || currentProps)\n                };\n            }\n            this._triggerTransition(startProps, nextProps);\n            transitionTriggered = true;\n        }\n        else {\n            this.transition.cancel();\n        }\n        return transitionTriggered;\n    }\n    updateTransition() {\n        this.transition.update();\n    }\n    // Helper methods\n    _isTransitionEnabled(props) {\n        const { transitionDuration, transitionInterpolator } = props;\n        return ((transitionDuration > 0 || transitionDuration === 'auto') &&\n            Boolean(transitionInterpolator));\n    }\n    _isUpdateDueToCurrentTransition(props) {\n        if (this.transition.inProgress && this.propsInTransition) {\n            // @ts-expect-error\n            return this.transition.settings.interpolator.arePropsEqual(props, this.propsInTransition);\n        }\n        return false;\n    }\n    _shouldIgnoreViewportChange(currentProps, nextProps) {\n        if (this.transition.inProgress) {\n            // @ts-expect-error\n            const transitionSettings = this.transition.settings;\n            // Ignore update if it is requested to be ignored\n            return (transitionSettings.interruption === TRANSITION_EVENTS.IGNORE ||\n                // Ignore update if it is due to current active transition.\n                this._isUpdateDueToCurrentTransition(nextProps));\n        }\n        if (this._isTransitionEnabled(nextProps)) {\n            // Ignore if none of the viewport props changed.\n            return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n        }\n        return true;\n    }\n    _triggerTransition(startProps, endProps) {\n        const startViewstate = this.getControllerState(startProps);\n        const endViewStateProps = this.getControllerState(endProps).shortestPathFrom(startViewstate);\n        // update transitionDuration for 'auto' mode\n        const transitionInterpolator = endProps.transitionInterpolator;\n        const duration = transitionInterpolator.getDuration\n            ? transitionInterpolator.getDuration(startProps, endProps)\n            : endProps.transitionDuration;\n        if (duration === 0) {\n            return;\n        }\n        const initialProps = transitionInterpolator.initializeProps(startProps, endViewStateProps);\n        this.propsInTransition = {};\n        const transitionSettings = {\n            duration,\n            easing: endProps.transitionEasing || DEFAULT_EASING,\n            interpolator: transitionInterpolator,\n            interruption: endProps.transitionInterruption || DEFAULT_INTERRUPTION,\n            startProps: initialProps.start,\n            endProps: initialProps.end,\n            onStart: endProps.onTransitionStart,\n            onUpdate: this._onTransitionUpdate,\n            onInterrupt: this._onTransitionEnd(endProps.onTransitionInterrupt),\n            onEnd: this._onTransitionEnd(endProps.onTransitionEnd)\n        };\n        this.transition.start(transitionSettings);\n        this.onStateChange({ inTransition: true });\n        this.updateTransition();\n    }\n    _onTransitionEnd(callback) {\n        return transition => {\n            this.propsInTransition = null;\n            this.onStateChange({\n                inTransition: false,\n                isZooming: false,\n                isPanning: false,\n                isRotating: false\n            });\n            callback?.(transition);\n        };\n    }\n}\n//# sourceMappingURL=transition-manager.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { equals } from '@math.gl/core';\nimport assert from \"../utils/assert.js\";\nexport default class TransitionInterpolator {\n    /**\n     * @param opts {array|object}\n     * @param opts.compare {array} - prop names used in equality check\n     * @param opts.extract {array} - prop names needed for interpolation\n     * @param opts.required {array} - prop names that must be supplied\n     * alternatively, supply one list of prop names as `opts` if all of the above are the same.\n     */\n    constructor(opts) {\n        const { compare, extract, required } = opts;\n        this._propsToCompare = compare;\n        this._propsToExtract = extract || compare;\n        this._requiredProps = required;\n    }\n    /**\n     * Checks if two sets of props need transition in between\n     * @param currentProps {object} - a list of viewport props\n     * @param nextProps {object} - a list of viewport props\n     * @returns {bool} - true if two props are equivalent\n     */\n    arePropsEqual(currentProps, nextProps) {\n        for (const key of this._propsToCompare) {\n            if (!(key in currentProps) ||\n                !(key in nextProps) ||\n                !equals(currentProps[key], nextProps[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Called before transition starts to validate/pre-process start and end props\n     * @param startProps {object} - a list of starting viewport props\n     * @param endProps {object} - a list of target viewport props\n     * @returns {Object} {start, end} - start and end props to be passed\n     *   to `interpolateProps`\n     */\n    initializeProps(startProps, endProps) {\n        const startViewStateProps = {};\n        const endViewStateProps = {};\n        for (const key of this._propsToExtract) {\n            if (key in startProps || key in endProps) {\n                startViewStateProps[key] = startProps[key];\n                endViewStateProps[key] = endProps[key];\n            }\n        }\n        this._checkRequiredProps(startViewStateProps);\n        this._checkRequiredProps(endViewStateProps);\n        return { start: startViewStateProps, end: endViewStateProps };\n    }\n    /**\n     * Returns transition duration\n     * @param startProps {object} - a list of starting viewport props\n     * @param endProps {object} - a list of target viewport props\n     * @returns {Number} - transition duration in milliseconds\n     */\n    getDuration(startProps, endProps) {\n        return endProps.transitionDuration;\n    }\n    _checkRequiredProps(props) {\n        if (!this._requiredProps) {\n            return;\n        }\n        this._requiredProps.forEach(propName => {\n            const value = props[propName];\n            assert(Number.isFinite(value) || Array.isArray(value), `${propName} is required for transition`);\n        });\n    }\n}\n//# sourceMappingURL=transition-interpolator.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport TransitionInterpolator from \"./transition-interpolator.js\";\nimport { lerp } from '@math.gl/core';\nconst DEFAULT_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nconst DEFAULT_REQUIRED_PROPS = ['longitude', 'latitude', 'zoom'];\n/**\n * Performs linear interpolation of two view states.\n */\nexport default class LinearInterpolator extends TransitionInterpolator {\n    /**\n     * @param {Object} opts\n     * @param {Array} opts.transitionProps - list of props to apply linear transition to.\n     * @param {Array} opts.around - a screen point to zoom/rotate around.\n     * @param {Function} opts.makeViewport - construct a viewport instance with given props.\n     */\n    constructor(opts = {}) {\n        // Backward compatibility\n        const transitionProps = Array.isArray(opts) ? opts : opts.transitionProps;\n        const normalizedOpts = Array.isArray(opts) ? {} : opts;\n        normalizedOpts.transitionProps = Array.isArray(transitionProps)\n            ? {\n                compare: transitionProps,\n                required: transitionProps\n            }\n            : transitionProps || {\n                compare: DEFAULT_PROPS,\n                required: DEFAULT_REQUIRED_PROPS\n            };\n        super(normalizedOpts.transitionProps);\n        this.opts = normalizedOpts;\n    }\n    initializeProps(startProps, endProps) {\n        const result = super.initializeProps(startProps, endProps);\n        const { makeViewport, around } = this.opts;\n        if (makeViewport && around) {\n            const startViewport = makeViewport(startProps);\n            const endViewport = makeViewport(endProps);\n            const aroundPosition = startViewport.unproject(around);\n            result.start.around = around;\n            Object.assign(result.end, {\n                around: endViewport.project(aroundPosition),\n                aroundPosition,\n                width: endProps.width,\n                height: endProps.height\n            });\n        }\n        return result;\n    }\n    interpolateProps(startProps, endProps, t) {\n        const propsInTransition = {};\n        for (const key of this._propsToExtract) {\n            propsInTransition[key] = lerp(startProps[key] || 0, endProps[key] || 0, t);\n        }\n        if (endProps.aroundPosition && this.opts.makeViewport) {\n            // Linear transition should be performed in common space\n            const viewport = this.opts.makeViewport({ ...endProps, ...propsInTransition });\n            Object.assign(propsInTransition, viewport.panByPosition(endProps.aroundPosition, \n            // anchor point in current screen coordinates\n            lerp(startProps.around, endProps.around, t)));\n        }\n        return propsInTransition;\n    }\n}\n//# sourceMappingURL=linear-interpolator.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/* eslint-disable max-statements, complexity */\nimport TransitionManager from \"./transition-manager.js\";\nimport LinearInterpolator from \"../transitions/linear-interpolator.js\";\nconst NO_TRANSITION_PROPS = {\n    transitionDuration: 0\n};\nconst DEFAULT_INERTIA = 300;\nconst INERTIA_EASING = t => 1 - (1 - t) * (1 - t);\nconst EVENT_TYPES = {\n    WHEEL: ['wheel'],\n    PAN: ['panstart', 'panmove', 'panend'],\n    PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n    MULTI_PAN: ['multipanstart', 'multipanmove', 'multipanend'],\n    DOUBLE_CLICK: ['dblclick'],\n    KEYBOARD: ['keydown']\n};\nconst pinchEventWorkaround = {};\nexport default class Controller {\n    constructor(opts) {\n        this.state = {};\n        this._events = {};\n        this._interactionState = {\n            isDragging: false\n        };\n        this._customEvents = [];\n        this._eventStartBlocked = null;\n        this._panMove = false;\n        this.invertPan = false;\n        this.dragMode = 'rotate';\n        this.inertia = 0;\n        this.scrollZoom = true;\n        this.dragPan = true;\n        this.dragRotate = true;\n        this.doubleClickZoom = true;\n        this.touchZoom = true;\n        this.touchRotate = false;\n        this.keyboard = true;\n        this.transitionManager = new TransitionManager({\n            ...opts,\n            getControllerState: props => new this.ControllerState(props),\n            onViewStateChange: this._onTransition.bind(this),\n            onStateChange: this._setInteractionState.bind(this)\n        });\n        this.handleEvent = this.handleEvent.bind(this);\n        this.eventManager = opts.eventManager;\n        this.onViewStateChange = opts.onViewStateChange || (() => { });\n        this.onStateChange = opts.onStateChange || (() => { });\n        this.makeViewport = opts.makeViewport;\n    }\n    set events(customEvents) {\n        this.toggleEvents(this._customEvents, false);\n        this.toggleEvents(customEvents, true);\n        this._customEvents = customEvents;\n        // Make sure default events are not overwritten\n        if (this.props) {\n            this.setProps(this.props);\n        }\n    }\n    finalize() {\n        for (const eventName in this._events) {\n            if (this._events[eventName]) {\n                // @ts-ignore (2345) event type string cannot be assifned to enum\n                // eslint-disable-next-line @typescript-eslint/unbound-method\n                this.eventManager?.off(eventName, this.handleEvent);\n            }\n        }\n        this.transitionManager.finalize();\n    }\n    /**\n     * Callback for events\n     */\n    handleEvent(event) {\n        // Force recalculate controller state\n        this._controllerState = undefined;\n        const eventStartBlocked = this._eventStartBlocked;\n        switch (event.type) {\n            case 'panstart':\n                return eventStartBlocked ? false : this._onPanStart(event);\n            case 'panmove':\n                return this._onPan(event);\n            case 'panend':\n                return this._onPanEnd(event);\n            case 'pinchstart':\n                return eventStartBlocked ? false : this._onPinchStart(event);\n            case 'pinchmove':\n                return this._onPinch(event);\n            case 'pinchend':\n                return this._onPinchEnd(event);\n            case 'multipanstart':\n                return eventStartBlocked ? false : this._onMultiPanStart(event);\n            case 'multipanmove':\n                return this._onMultiPan(event);\n            case 'multipanend':\n                return this._onMultiPanEnd(event);\n            case 'dblclick':\n                return this._onDoubleClick(event);\n            case 'wheel':\n                return this._onWheel(event);\n            case 'keydown':\n                return this._onKeyDown(event);\n            default:\n                return false;\n        }\n    }\n    /* Event utils */\n    // Event object: http://hammerjs.github.io/api/#event-object\n    get controllerState() {\n        this._controllerState = this._controllerState || new this.ControllerState({\n            makeViewport: this.makeViewport,\n            ...this.props,\n            ...this.state\n        });\n        return this._controllerState;\n    }\n    getCenter(event) {\n        const { x, y } = this.props;\n        const { offsetCenter } = event;\n        return [offsetCenter.x - x, offsetCenter.y - y];\n    }\n    isPointInBounds(pos, event) {\n        const { width, height } = this.props;\n        if (event && event.handled) {\n            return false;\n        }\n        const inside = pos[0] >= 0 && pos[0] <= width && pos[1] >= 0 && pos[1] <= height;\n        if (inside && event) {\n            event.stopPropagation();\n        }\n        return inside;\n    }\n    isFunctionKeyPressed(event) {\n        const { srcEvent } = event;\n        return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n    isDragging() {\n        return this._interactionState.isDragging || false;\n    }\n    // When a multi-touch event ends, e.g. pinch, not all pointers are lifted at the same time.\n    // This triggers a brief `pan` event.\n    // Calling this method will temporarily disable *start events to avoid conflicting transitions.\n    blockEvents(timeout) {\n        /* global setTimeout */\n        const timer = setTimeout(() => {\n            if (this._eventStartBlocked === timer) {\n                this._eventStartBlocked = null;\n            }\n        }, timeout);\n        this._eventStartBlocked = timer;\n    }\n    /**\n     * Extract interactivity options\n     */\n    setProps(props) {\n        if (props.dragMode) {\n            this.dragMode = props.dragMode;\n        }\n        this.props = props;\n        if (!('transitionInterpolator' in props)) {\n            // Add default transition interpolator\n            props.transitionInterpolator = this._getTransitionProps().transitionInterpolator;\n        }\n        this.transitionManager.processViewStateChange(props);\n        const { inertia } = props;\n        this.inertia = Number.isFinite(inertia) ? inertia : (inertia === true ? DEFAULT_INERTIA : 0);\n        // TODO - make sure these are not reset on every setProps\n        const { scrollZoom = true, dragPan = true, dragRotate = true, doubleClickZoom = true, touchZoom = true, touchRotate = false, keyboard = true } = props;\n        // Register/unregister events\n        const isInteractive = Boolean(this.onViewStateChange);\n        this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && scrollZoom);\n        // We always need the pan events to set the correct isDragging state, even if dragPan & dragRotate are both false\n        this.toggleEvents(EVENT_TYPES.PAN, isInteractive);\n        this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && (touchZoom || touchRotate));\n        this.toggleEvents(EVENT_TYPES.MULTI_PAN, isInteractive && touchRotate);\n        this.toggleEvents(EVENT_TYPES.DOUBLE_CLICK, isInteractive && doubleClickZoom);\n        this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && keyboard);\n        // Interaction toggles\n        this.scrollZoom = scrollZoom;\n        this.dragPan = dragPan;\n        this.dragRotate = dragRotate;\n        this.doubleClickZoom = doubleClickZoom;\n        this.touchZoom = touchZoom;\n        this.touchRotate = touchRotate;\n        this.keyboard = keyboard;\n    }\n    updateTransition() {\n        this.transitionManager.updateTransition();\n    }\n    toggleEvents(eventNames, enabled) {\n        if (this.eventManager) {\n            eventNames.forEach(eventName => {\n                if (this._events[eventName] !== enabled) {\n                    this._events[eventName] = enabled;\n                    if (enabled) {\n                        // eslint-disable-next-line @typescript-eslint/unbound-method\n                        this.eventManager.on(eventName, this.handleEvent);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/unbound-method\n                        this.eventManager.off(eventName, this.handleEvent);\n                    }\n                }\n            });\n        }\n    }\n    // Private Methods\n    /* Callback util */\n    // formats map state and invokes callback function\n    updateViewport(newControllerState, extraProps = null, interactionState = {}) {\n        const viewState = { ...newControllerState.getViewportProps(), ...extraProps };\n        // TODO - to restore diffing, we need to include interactionState\n        const changed = this.controllerState !== newControllerState;\n        // const oldViewState = this.controllerState.getViewportProps();\n        // const changed = Object.keys(viewState).some(key => oldViewState[key] !== viewState[key]);\n        this.state = newControllerState.getState();\n        this._setInteractionState(interactionState);\n        if (changed) {\n            const oldViewState = this.controllerState && this.controllerState.getViewportProps();\n            if (this.onViewStateChange) {\n                this.onViewStateChange({ viewState, interactionState: this._interactionState, oldViewState, viewId: this.props.id });\n            }\n        }\n    }\n    _onTransition(params) {\n        this.onViewStateChange({ ...params, interactionState: this._interactionState, viewId: this.props.id });\n    }\n    _setInteractionState(newStates) {\n        Object.assign(this._interactionState, newStates);\n        this.onStateChange(this._interactionState);\n    }\n    /* Event handlers */\n    // Default handler for the `panstart` event.\n    _onPanStart(event) {\n        const pos = this.getCenter(event);\n        if (!this.isPointInBounds(pos, event)) {\n            return false;\n        }\n        let alternateMode = this.isFunctionKeyPressed(event) || event.rightButton || false;\n        if (this.invertPan || this.dragMode === 'pan') {\n            // invertPan is replaced by props.dragMode, keeping for backward compatibility\n            alternateMode = !alternateMode;\n        }\n        const newControllerState = this.controllerState[alternateMode ? 'panStart' : 'rotateStart']({\n            pos\n        });\n        this._panMove = alternateMode;\n        this.updateViewport(newControllerState, NO_TRANSITION_PROPS, { isDragging: true });\n        return true;\n    }\n    // Default handler for the `panmove` and `panend` event.\n    _onPan(event) {\n        if (!this.isDragging()) {\n            return false;\n        }\n        return this._panMove ? this._onPanMove(event) : this._onPanRotate(event);\n    }\n    _onPanEnd(event) {\n        if (!this.isDragging()) {\n            return false;\n        }\n        return this._panMove ? this._onPanMoveEnd(event) : this._onPanRotateEnd(event);\n    }\n    // Default handler for panning to move.\n    // Called by `_onPan` when panning without function key pressed.\n    _onPanMove(event) {\n        if (!this.dragPan) {\n            return false;\n        }\n        const pos = this.getCenter(event);\n        const newControllerState = this.controllerState.pan({ pos });\n        this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n            isDragging: true,\n            isPanning: true\n        });\n        return true;\n    }\n    _onPanMoveEnd(event) {\n        const { inertia } = this;\n        if (this.dragPan && inertia && event.velocity) {\n            const pos = this.getCenter(event);\n            const endPos = [\n                pos[0] + (event.velocityX * inertia) / 2,\n                pos[1] + (event.velocityY * inertia) / 2\n            ];\n            const newControllerState = this.controllerState.pan({ pos: endPos }).panEnd();\n            this.updateViewport(newControllerState, {\n                ...this._getTransitionProps(),\n                transitionDuration: inertia,\n                transitionEasing: INERTIA_EASING\n            }, {\n                isDragging: false,\n                isPanning: true\n            });\n        }\n        else {\n            const newControllerState = this.controllerState.panEnd();\n            this.updateViewport(newControllerState, null, {\n                isDragging: false,\n                isPanning: false\n            });\n        }\n        return true;\n    }\n    // Default handler for panning to rotate.\n    // Called by `_onPan` when panning with function key pressed.\n    _onPanRotate(event) {\n        if (!this.dragRotate) {\n            return false;\n        }\n        const pos = this.getCenter(event);\n        const newControllerState = this.controllerState.rotate({ pos });\n        this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n            isDragging: true,\n            isRotating: true\n        });\n        return true;\n    }\n    _onPanRotateEnd(event) {\n        const { inertia } = this;\n        if (this.dragRotate && inertia && event.velocity) {\n            const pos = this.getCenter(event);\n            const endPos = [\n                pos[0] + (event.velocityX * inertia) / 2,\n                pos[1] + (event.velocityY * inertia) / 2\n            ];\n            const newControllerState = this.controllerState.rotate({ pos: endPos }).rotateEnd();\n            this.updateViewport(newControllerState, {\n                ...this._getTransitionProps(),\n                transitionDuration: inertia,\n                transitionEasing: INERTIA_EASING\n            }, {\n                isDragging: false,\n                isRotating: true\n            });\n        }\n        else {\n            const newControllerState = this.controllerState.rotateEnd();\n            this.updateViewport(newControllerState, null, {\n                isDragging: false,\n                isRotating: false\n            });\n        }\n        return true;\n    }\n    // Default handler for the `wheel` event.\n    _onWheel(event) {\n        if (!this.scrollZoom) {\n            return false;\n        }\n        const pos = this.getCenter(event);\n        if (!this.isPointInBounds(pos, event)) {\n            return false;\n        }\n        event.srcEvent.preventDefault();\n        const { speed = 0.01, smooth = false } = this.scrollZoom === true ? {} : this.scrollZoom;\n        const { delta } = event;\n        // Map wheel delta to relative scale\n        let scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n        if (delta < 0 && scale !== 0) {\n            scale = 1 / scale;\n        }\n        const newControllerState = this.controllerState.zoom({ pos, scale });\n        this.updateViewport(newControllerState, { ...this._getTransitionProps({ around: pos }), transitionDuration: smooth ? 250 : 1 }, {\n            isZooming: true,\n            isPanning: true\n        });\n        return true;\n    }\n    _onMultiPanStart(event) {\n        const pos = this.getCenter(event);\n        if (!this.isPointInBounds(pos, event)) {\n            return false;\n        }\n        const newControllerState = this.controllerState.rotateStart({ pos });\n        this.updateViewport(newControllerState, NO_TRANSITION_PROPS, { isDragging: true });\n        return true;\n    }\n    _onMultiPan(event) {\n        if (!this.touchRotate) {\n            return false;\n        }\n        if (!this.isDragging()) {\n            return false;\n        }\n        const pos = this.getCenter(event);\n        pos[0] -= event.deltaX;\n        const newControllerState = this.controllerState.rotate({ pos });\n        this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n            isDragging: true,\n            isRotating: true\n        });\n        return true;\n    }\n    _onMultiPanEnd(event) {\n        if (!this.isDragging()) {\n            return false;\n        }\n        const { inertia } = this;\n        if (this.touchRotate && inertia && event.velocityY) {\n            const pos = this.getCenter(event);\n            const endPos = [pos[0], (pos[1] += (event.velocityY * inertia) / 2)];\n            const newControllerState = this.controllerState.rotate({ pos: endPos });\n            this.updateViewport(newControllerState, {\n                ...this._getTransitionProps(),\n                transitionDuration: inertia,\n                transitionEasing: INERTIA_EASING\n            }, {\n                isDragging: false,\n                isRotating: true\n            });\n            this.blockEvents(inertia);\n        }\n        else {\n            const newControllerState = this.controllerState.rotateEnd();\n            this.updateViewport(newControllerState, null, {\n                isDragging: false,\n                isRotating: false\n            });\n        }\n        return true;\n    }\n    // Default handler for the `pinchstart` event.\n    _onPinchStart(event) {\n        const pos = this.getCenter(event);\n        if (!this.isPointInBounds(pos, event)) {\n            return false;\n        }\n        const newControllerState = this.controllerState.zoomStart({ pos }).rotateStart({ pos });\n        // hack - hammer's `rotation` field doesn't seem to produce the correct angle\n        pinchEventWorkaround._startPinchRotation = event.rotation;\n        pinchEventWorkaround._lastPinchEvent = event;\n        this.updateViewport(newControllerState, NO_TRANSITION_PROPS, { isDragging: true });\n        return true;\n    }\n    // Default handler for the `pinchmove` and `pinchend` events.\n    _onPinch(event) {\n        if (!this.touchZoom && !this.touchRotate) {\n            return false;\n        }\n        if (!this.isDragging()) {\n            return false;\n        }\n        let newControllerState = this.controllerState;\n        if (this.touchZoom) {\n            const { scale } = event;\n            const pos = this.getCenter(event);\n            newControllerState = newControllerState.zoom({ pos, scale });\n        }\n        if (this.touchRotate) {\n            const { rotation } = event;\n            newControllerState = newControllerState.rotate({\n                deltaAngleX: pinchEventWorkaround._startPinchRotation - rotation\n            });\n        }\n        this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n            isDragging: true,\n            isPanning: this.touchZoom,\n            isZooming: this.touchZoom,\n            isRotating: this.touchRotate\n        });\n        pinchEventWorkaround._lastPinchEvent = event;\n        return true;\n    }\n    _onPinchEnd(event) {\n        if (!this.isDragging()) {\n            return false;\n        }\n        const { inertia } = this;\n        const { _lastPinchEvent } = pinchEventWorkaround;\n        if (this.touchZoom && inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n            const pos = this.getCenter(event);\n            let newControllerState = this.controllerState.rotateEnd();\n            const z = Math.log2(event.scale);\n            const velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n            const endScale = Math.pow(2, z + (velocityZ * inertia) / 2);\n            newControllerState = newControllerState.zoom({ pos, scale: endScale }).zoomEnd();\n            this.updateViewport(newControllerState, {\n                ...this._getTransitionProps({ around: pos }),\n                transitionDuration: inertia,\n                transitionEasing: INERTIA_EASING\n            }, {\n                isDragging: false,\n                isPanning: this.touchZoom,\n                isZooming: this.touchZoom,\n                isRotating: false\n            });\n            this.blockEvents(inertia);\n        }\n        else {\n            const newControllerState = this.controllerState.zoomEnd().rotateEnd();\n            this.updateViewport(newControllerState, null, {\n                isDragging: false,\n                isPanning: false,\n                isZooming: false,\n                isRotating: false\n            });\n        }\n        pinchEventWorkaround._startPinchRotation = null;\n        pinchEventWorkaround._lastPinchEvent = null;\n        return true;\n    }\n    // Default handler for the `dblclick` event.\n    _onDoubleClick(event) {\n        if (!this.doubleClickZoom) {\n            return false;\n        }\n        const pos = this.getCenter(event);\n        if (!this.isPointInBounds(pos, event)) {\n            return false;\n        }\n        const isZoomOut = this.isFunctionKeyPressed(event);\n        const newControllerState = this.controllerState.zoom({ pos, scale: isZoomOut ? 0.5 : 2 });\n        this.updateViewport(newControllerState, this._getTransitionProps({ around: pos }), {\n            isZooming: true,\n            isPanning: true\n        });\n        this.blockEvents(100);\n        return true;\n    }\n    // Default handler for the `keydown` event\n    _onKeyDown(event) {\n        if (!this.keyboard) {\n            return false;\n        }\n        const funcKey = this.isFunctionKeyPressed(event);\n        // @ts-ignore\n        const { zoomSpeed, moveSpeed, rotateSpeedX, rotateSpeedY } = this.keyboard === true ? {} : this.keyboard;\n        const { controllerState } = this;\n        let newControllerState;\n        const interactionState = {};\n        switch (event.srcEvent.code) {\n            case 'Minus':\n                newControllerState = funcKey\n                    ? controllerState.zoomOut(zoomSpeed).zoomOut(zoomSpeed)\n                    : controllerState.zoomOut(zoomSpeed);\n                interactionState.isZooming = true;\n                break;\n            case 'Equal':\n                newControllerState = funcKey\n                    ? controllerState.zoomIn(zoomSpeed).zoomIn(zoomSpeed)\n                    : controllerState.zoomIn(zoomSpeed);\n                interactionState.isZooming = true;\n                break;\n            case 'ArrowLeft':\n                if (funcKey) {\n                    newControllerState = controllerState.rotateLeft(rotateSpeedX);\n                    interactionState.isRotating = true;\n                }\n                else {\n                    newControllerState = controllerState.moveLeft(moveSpeed);\n                    interactionState.isPanning = true;\n                }\n                break;\n            case 'ArrowRight':\n                if (funcKey) {\n                    newControllerState = controllerState.rotateRight(rotateSpeedX);\n                    interactionState.isRotating = true;\n                }\n                else {\n                    newControllerState = controllerState.moveRight(moveSpeed);\n                    interactionState.isPanning = true;\n                }\n                break;\n            case 'ArrowUp':\n                if (funcKey) {\n                    newControllerState = controllerState.rotateUp(rotateSpeedY);\n                    interactionState.isRotating = true;\n                }\n                else {\n                    newControllerState = controllerState.moveUp(moveSpeed);\n                    interactionState.isPanning = true;\n                }\n                break;\n            case 'ArrowDown':\n                if (funcKey) {\n                    newControllerState = controllerState.rotateDown(rotateSpeedY);\n                    interactionState.isRotating = true;\n                }\n                else {\n                    newControllerState = controllerState.moveDown(moveSpeed);\n                    interactionState.isPanning = true;\n                }\n                break;\n            default:\n                return false;\n        }\n        this.updateViewport(newControllerState, this._getTransitionProps(), interactionState);\n        return true;\n    }\n    _getTransitionProps(opts) {\n        const { transition } = this;\n        if (!transition || !transition.transitionInterpolator) {\n            return NO_TRANSITION_PROPS;\n        }\n        // Enables Transitions on double-tap and key-down events.\n        return opts\n            ? {\n                ...transition,\n                transitionInterpolator: new LinearInterpolator({\n                    ...opts,\n                    ...transition.transitionInterpolator.opts,\n                    makeViewport: this.controllerState.makeViewport\n                })\n            }\n            : transition;\n    }\n}\n//# sourceMappingURL=controller.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nexport default class ViewState {\n    constructor(props, state) {\n        this._viewportProps = this.applyConstraints(props);\n        this._state = state;\n    }\n    getViewportProps() {\n        return this._viewportProps;\n    }\n    getState() {\n        return this._state;\n    }\n}\n//# sourceMappingURL=view-state.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { clamp } from '@math.gl/core';\nimport Controller from \"./controller.js\";\nimport ViewState from \"./view-state.js\";\nimport { normalizeViewportProps } from '@math.gl/web-mercator';\nimport assert from \"../utils/assert.js\";\nimport LinearInterpolator from \"../transitions/linear-interpolator.js\";\nconst PITCH_MOUSE_THRESHOLD = 5;\nconst PITCH_ACCEL = 1.2;\n/* Utils */\nexport class MapState extends ViewState {\n    constructor(options) {\n        const { \n        /** Mapbox viewport properties */\n        /** The width of the viewport */\n        width, \n        /** The height of the viewport */\n        height, \n        /** The latitude at the center of the viewport */\n        latitude, \n        /** The longitude at the center of the viewport */\n        longitude, \n        /** The tile zoom level of the map. */\n        zoom, \n        /** The bearing of the viewport in degrees */\n        bearing = 0, \n        /** The pitch of the viewport in degrees */\n        pitch = 0, \n        /**\n         * Specify the altitude of the viewport camera\n         * Unit: map heights, default 1.5\n         * Non-public API, see https://github.com/mapbox/mapbox-gl-js/issues/1137\n         */\n        altitude = 1.5, \n        /** Viewport position */\n        position = [0, 0, 0], \n        /** Viewport constraints */\n        maxZoom = 20, minZoom = 0, maxPitch = 60, minPitch = 0, \n        /** Interaction states, required to calculate change during transform */\n        /* The point on map being grabbed when the operation first started */\n        startPanLngLat, \n        /* Center of the zoom when the operation first started */\n        startZoomLngLat, \n        /* Pointer position when rotation started */\n        startRotatePos, \n        /** Bearing when current perspective rotate operation started */\n        startBearing, \n        /** Pitch when current perspective rotate operation started */\n        startPitch, \n        /** Zoom when current zoom operation started */\n        startZoom, \n        /** Normalize viewport props to fit map height into viewport */\n        normalize = true } = options;\n        assert(Number.isFinite(longitude)); // `longitude` must be supplied\n        assert(Number.isFinite(latitude)); // `latitude` must be supplied\n        assert(Number.isFinite(zoom)); // `zoom` must be supplied\n        super({\n            width,\n            height,\n            latitude,\n            longitude,\n            zoom,\n            bearing,\n            pitch,\n            altitude,\n            maxZoom,\n            minZoom,\n            maxPitch,\n            minPitch,\n            normalize,\n            position\n        }, {\n            startPanLngLat,\n            startZoomLngLat,\n            startRotatePos,\n            startBearing,\n            startPitch,\n            startZoom\n        });\n        this.makeViewport = options.makeViewport;\n    }\n    /**\n     * Start panning\n     * @param {[Number, Number]} pos - position on screen where the pointer grabs\n     */\n    panStart({ pos }) {\n        return this._getUpdatedState({\n            startPanLngLat: this._unproject(pos)\n        });\n    }\n    /**\n     * Pan\n     * @param {[Number, Number]} pos - position on screen where the pointer is\n     * @param {[Number, Number], optional} startPos - where the pointer grabbed at\n     *   the start of the operation. Must be supplied of `panStart()` was not called\n     */\n    pan({ pos, startPos }) {\n        const startPanLngLat = this.getState().startPanLngLat || this._unproject(startPos);\n        if (!startPanLngLat) {\n            return this;\n        }\n        const viewport = this.makeViewport(this.getViewportProps());\n        const newProps = viewport.panByPosition(startPanLngLat, pos);\n        return this._getUpdatedState(newProps);\n    }\n    /**\n     * End panning\n     * Must call if `panStart()` was called\n     */\n    panEnd() {\n        return this._getUpdatedState({\n            startPanLngLat: null\n        });\n    }\n    /**\n     * Start rotating\n     * @param {[Number, Number]} pos - position on screen where the center is\n     */\n    rotateStart({ pos }) {\n        return this._getUpdatedState({\n            startRotatePos: pos,\n            startBearing: this.getViewportProps().bearing,\n            startPitch: this.getViewportProps().pitch\n        });\n    }\n    /**\n     * Rotate\n     * @param {[Number, Number]} pos - position on screen where the center is\n     */\n    rotate({ pos, deltaAngleX = 0, deltaAngleY = 0 }) {\n        const { startRotatePos, startBearing, startPitch } = this.getState();\n        if (!startRotatePos || startBearing === undefined || startPitch === undefined) {\n            return this;\n        }\n        let newRotation;\n        if (pos) {\n            newRotation = this._getNewRotation(pos, startRotatePos, startPitch, startBearing);\n        }\n        else {\n            newRotation = {\n                bearing: startBearing + deltaAngleX,\n                pitch: startPitch + deltaAngleY\n            };\n        }\n        return this._getUpdatedState(newRotation);\n    }\n    /**\n     * End rotating\n     * Must call if `rotateStart()` was called\n     */\n    rotateEnd() {\n        return this._getUpdatedState({\n            startBearing: null,\n            startPitch: null\n        });\n    }\n    /**\n     * Start zooming\n     * @param {[Number, Number]} pos - position on screen where the center is\n     */\n    zoomStart({ pos }) {\n        return this._getUpdatedState({\n            startZoomLngLat: this._unproject(pos),\n            startZoom: this.getViewportProps().zoom\n        });\n    }\n    /**\n     * Zoom\n     * @param {[Number, Number]} pos - position on screen where the current center is\n     * @param {[Number, Number]} startPos - the center position at\n     *   the start of the operation. Must be supplied of `zoomStart()` was not called\n     * @param {Number} scale - a number between [0, 1] specifying the accumulated\n     *   relative scale.\n     */\n    zoom({ pos, startPos, scale }) {\n        // Make sure we zoom around the current mouse position rather than map center\n        let { startZoom, startZoomLngLat } = this.getState();\n        if (!startZoomLngLat) {\n            // We have two modes of zoom:\n            // scroll zoom that are discrete events (transform from the current zoom level),\n            // and pinch zoom that are continuous events (transform from the zoom level when\n            // pinch started).\n            // If startZoom state is defined, then use the startZoom state;\n            // otherwise assume discrete zooming\n            startZoom = this.getViewportProps().zoom;\n            startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n        }\n        if (!startZoomLngLat) {\n            return this;\n        }\n        const { maxZoom, minZoom } = this.getViewportProps();\n        let zoom = startZoom + Math.log2(scale);\n        zoom = clamp(zoom, minZoom, maxZoom);\n        const zoomedViewport = this.makeViewport({ ...this.getViewportProps(), zoom });\n        return this._getUpdatedState({\n            zoom,\n            ...zoomedViewport.panByPosition(startZoomLngLat, pos)\n        });\n    }\n    /**\n     * End zooming\n     * Must call if `zoomStart()` was called\n     */\n    zoomEnd() {\n        return this._getUpdatedState({\n            startZoomLngLat: null,\n            startZoom: null\n        });\n    }\n    zoomIn(speed = 2) {\n        return this._zoomFromCenter(speed);\n    }\n    zoomOut(speed = 2) {\n        return this._zoomFromCenter(1 / speed);\n    }\n    moveLeft(speed = 100) {\n        return this._panFromCenter([speed, 0]);\n    }\n    moveRight(speed = 100) {\n        return this._panFromCenter([-speed, 0]);\n    }\n    moveUp(speed = 100) {\n        return this._panFromCenter([0, speed]);\n    }\n    moveDown(speed = 100) {\n        return this._panFromCenter([0, -speed]);\n    }\n    rotateLeft(speed = 15) {\n        return this._getUpdatedState({\n            bearing: this.getViewportProps().bearing - speed\n        });\n    }\n    rotateRight(speed = 15) {\n        return this._getUpdatedState({\n            bearing: this.getViewportProps().bearing + speed\n        });\n    }\n    rotateUp(speed = 10) {\n        return this._getUpdatedState({\n            pitch: this.getViewportProps().pitch + speed\n        });\n    }\n    rotateDown(speed = 10) {\n        return this._getUpdatedState({\n            pitch: this.getViewportProps().pitch - speed\n        });\n    }\n    shortestPathFrom(viewState) {\n        // const endViewStateProps = new this.ControllerState(endProps).shortestPathFrom(startViewstate);\n        const fromProps = viewState.getViewportProps();\n        const props = { ...this.getViewportProps() };\n        const { bearing, longitude } = props;\n        if (Math.abs(bearing - fromProps.bearing) > 180) {\n            props.bearing = bearing < 0 ? bearing + 360 : bearing - 360;\n        }\n        if (Math.abs(longitude - fromProps.longitude) > 180) {\n            props.longitude = longitude < 0 ? longitude + 360 : longitude - 360;\n        }\n        return props;\n    }\n    // Apply any constraints (mathematical or defined by _viewportProps) to map state\n    applyConstraints(props) {\n        // Ensure zoom is within specified range\n        const { maxZoom, minZoom, zoom } = props;\n        props.zoom = clamp(zoom, minZoom, maxZoom);\n        // Ensure pitch is within specified range\n        const { maxPitch, minPitch, pitch } = props;\n        props.pitch = clamp(pitch, minPitch, maxPitch);\n        // Normalize viewport props to fit map height into viewport\n        const { normalize = true } = props;\n        if (normalize) {\n            Object.assign(props, normalizeViewportProps(props));\n        }\n        return props;\n    }\n    /* Private methods */\n    _zoomFromCenter(scale) {\n        const { width, height } = this.getViewportProps();\n        return this.zoom({\n            pos: [width / 2, height / 2],\n            scale\n        });\n    }\n    _panFromCenter(offset) {\n        const { width, height } = this.getViewportProps();\n        return this.pan({\n            startPos: [width / 2, height / 2],\n            pos: [width / 2 + offset[0], height / 2 + offset[1]]\n        });\n    }\n    _getUpdatedState(newProps) {\n        // @ts-ignore\n        return new this.constructor({\n            makeViewport: this.makeViewport,\n            ...this.getViewportProps(),\n            ...this.getState(),\n            ...newProps\n        });\n    }\n    _unproject(pos) {\n        const viewport = this.makeViewport(this.getViewportProps());\n        // @ts-ignore\n        return pos && viewport.unproject(pos);\n    }\n    _getNewRotation(pos, startPos, startPitch, startBearing) {\n        const deltaX = pos[0] - startPos[0];\n        const deltaY = pos[1] - startPos[1];\n        const centerY = pos[1];\n        const startY = startPos[1];\n        const { width, height } = this.getViewportProps();\n        const deltaScaleX = deltaX / width;\n        let deltaScaleY = 0;\n        if (deltaY > 0) {\n            if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n                // Move from 0 to -1 as we drag upwards\n                deltaScaleY = (deltaY / (startY - height)) * PITCH_ACCEL;\n            }\n        }\n        else if (deltaY < 0) {\n            if (startY > PITCH_MOUSE_THRESHOLD) {\n                // Move from 0 to 1 as we drag upwards\n                deltaScaleY = 1 - centerY / startY;\n            }\n        }\n        // clamp deltaScaleY to [-1, 1] so that rotation is constrained between minPitch and maxPitch.\n        // deltaScaleX does not need to be clamped as bearing does not have constraints.\n        deltaScaleY = clamp(deltaScaleY, -1, 1);\n        const { minPitch, maxPitch } = this.getViewportProps();\n        const bearing = startBearing + 180 * deltaScaleX;\n        let pitch = startPitch;\n        if (deltaScaleY > 0) {\n            // Gradually increase pitch\n            pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n        }\n        else if (deltaScaleY < 0) {\n            // Gradually decrease pitch\n            pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n        }\n        return {\n            pitch,\n            bearing\n        };\n    }\n}\nexport default class MapController extends Controller {\n    constructor() {\n        super(...arguments);\n        this.ControllerState = MapState;\n        this.transition = {\n            transitionDuration: 300,\n            transitionInterpolator: new LinearInterpolator({\n                transitionProps: {\n                    compare: ['longitude', 'latitude', 'zoom', 'bearing', 'pitch', 'position'],\n                    required: ['longitude', 'latitude', 'zoom']\n                }\n            })\n        };\n        this.dragMode = 'pan';\n    }\n    setProps(props) {\n        props.position = props.position || [0, 0, 0];\n        const oldProps = this.props;\n        super.setProps(props);\n        const dimensionChanged = !oldProps || oldProps.height !== props.height;\n        if (dimensionChanged) {\n            // Dimensions changed, normalize the props\n            this.updateViewport(new this.ControllerState({\n                makeViewport: this.makeViewport,\n                ...props,\n                ...this.state\n            }));\n        }\n    }\n}\n//# sourceMappingURL=map-controller.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport View from \"./view.js\";\nimport WebMercatorViewport from \"../viewports/web-mercator-viewport.js\";\nimport MapController from \"../controllers/map-controller.js\";\nclass MapView extends View {\n    constructor(props = {}) {\n        super(props);\n    }\n    getViewportType() {\n        return WebMercatorViewport;\n    }\n    get ControllerType() {\n        return MapController;\n    }\n}\nMapView.displayName = 'MapView';\nexport default MapView;\n//# sourceMappingURL=map-view.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nconst DEFAULT_LIGHT_COLOR = [255, 255, 255];\nconst DEFAULT_LIGHT_INTENSITY = 1.0;\nlet idCount = 0;\nexport class AmbientLight {\n    constructor(props = {}) {\n        this.type = 'ambient';\n        const { color = DEFAULT_LIGHT_COLOR } = props;\n        const { intensity = DEFAULT_LIGHT_INTENSITY } = props;\n        this.id = props.id || `ambient-${idCount++}`;\n        this.color = color;\n        this.intensity = intensity;\n    }\n}\n//# sourceMappingURL=ambient-light.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { Vector3 } from '@math.gl/core';\nconst DEFAULT_LIGHT_COLOR = [255, 255, 255];\nconst DEFAULT_LIGHT_INTENSITY = 1.0;\nconst DEFAULT_LIGHT_DIRECTION = [0.0, 0.0, -1.0];\nlet idCount = 0;\nexport class DirectionalLight {\n    constructor(props = {}) {\n        this.type = 'directional';\n        const { color = DEFAULT_LIGHT_COLOR } = props;\n        const { intensity = DEFAULT_LIGHT_INTENSITY } = props;\n        const { direction = DEFAULT_LIGHT_DIRECTION } = props;\n        const { _shadow = false } = props;\n        this.id = props.id || `directional-${idCount++}`;\n        this.color = color;\n        this.intensity = intensity;\n        this.type = 'directional';\n        this.direction = new Vector3(direction).normalize().toArray();\n        this.shadow = _shadow;\n    }\n    getProjectedLight(opts) {\n        return this;\n    }\n}\n//# sourceMappingURL=directional-light.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/**\n * Base class for passes\n * @todo v9 - should the luma.gl RenderPass be owned by this class?\n * Currently owned by subclasses\n */\nexport default class Pass {\n    /** Create a new Pass instance */\n    constructor(device, props = { id: 'pass' }) {\n        const { id } = props;\n        this.id = id; // id of this pass\n        this.device = device;\n        this.props = { ...props };\n    }\n    setProps(props) {\n        Object.assign(this.props, props);\n    }\n    render(params) { } // eslint-disable-line @typescript-eslint/no-empty-function\n    cleanup() { } // eslint-disable-line @typescript-eslint/no-empty-function\n}\n//# sourceMappingURL=pass.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport Pass from \"./pass.js\";\n/** A Pass that renders all layers */\nexport default class LayersPass extends Pass {\n    constructor() {\n        super(...arguments);\n        this._lastRenderIndex = -1;\n    }\n    render(options) {\n        // @ts-expect-error TODO - assuming WebGL context\n        const [width, height] = this.device.canvasContext.getDrawingBufferSize();\n        // Explicitly specify clearColor and clearDepth, overriding render pass defaults.\n        const clearCanvas = options.clearCanvas ?? true;\n        const clearColor = options.clearColor ?? (clearCanvas ? [0, 0, 0, 0] : false);\n        const clearDepth = clearCanvas ? 1 : false;\n        const clearStencil = clearCanvas ? 0 : false;\n        const colorMask = options.colorMask ?? 0xf;\n        const parameters = { viewport: [0, 0, width, height] };\n        if (options.colorMask) {\n            parameters.colorMask = colorMask;\n        }\n        if (options.scissorRect) {\n            parameters.scissorRect = options.scissorRect;\n        }\n        const renderPass = this.device.beginRenderPass({\n            framebuffer: options.target,\n            parameters,\n            clearColor: clearColor,\n            clearDepth,\n            clearStencil\n        });\n        try {\n            return this._drawLayers(renderPass, options);\n        }\n        finally {\n            renderPass.end();\n        }\n    }\n    /** Draw a list of layers in a list of viewports */\n    _drawLayers(renderPass, options) {\n        const { target, shaderModuleProps, viewports, views, onViewportActive, clearStack = true } = options;\n        options.pass = options.pass || 'unknown';\n        if (clearStack) {\n            this._lastRenderIndex = -1;\n        }\n        const renderStats = [];\n        for (const viewport of viewports) {\n            const view = views && views[viewport.id];\n            // Update context to point to this viewport\n            onViewportActive?.(viewport);\n            const drawLayerParams = this._getDrawLayerParams(viewport, options);\n            // render this viewport\n            const subViewports = viewport.subViewports || [viewport];\n            for (const subViewport of subViewports) {\n                const stats = this._drawLayersInViewport(renderPass, {\n                    target,\n                    shaderModuleProps,\n                    viewport: subViewport,\n                    view,\n                    pass: options.pass,\n                    layers: options.layers\n                }, drawLayerParams);\n                renderStats.push(stats);\n            }\n        }\n        return renderStats;\n    }\n    // When a viewport contains multiple subviewports (e.g. repeated web mercator map),\n    // this is only done once for the parent viewport\n    /* Resolve the parameters needed to draw each layer */\n    _getDrawLayerParams(viewport, { layers, pass, isPicking = false, layerFilter, cullRect, effects, shaderModuleProps }, \n    /** Internal flag, true if only used to determine whether each layer should be drawn */\n    evaluateShouldDrawOnly = false) {\n        const drawLayerParams = [];\n        const indexResolver = layerIndexResolver(this._lastRenderIndex + 1);\n        const drawContext = {\n            layer: layers[0],\n            viewport,\n            isPicking,\n            renderPass: pass,\n            cullRect\n        };\n        const layerFilterCache = {};\n        for (let layerIndex = 0; layerIndex < layers.length; layerIndex++) {\n            const layer = layers[layerIndex];\n            // Check if we should draw layer\n            const shouldDrawLayer = this._shouldDrawLayer(layer, drawContext, layerFilter, layerFilterCache);\n            const layerParam = { shouldDrawLayer };\n            if (shouldDrawLayer && !evaluateShouldDrawOnly) {\n                layerParam.shouldDrawLayer = true;\n                // This is the \"logical\" index for ordering this layer in the stack\n                // used to calculate polygon offsets\n                // It can be the same as another layer\n                layerParam.layerRenderIndex = indexResolver(layer, shouldDrawLayer);\n                layerParam.shaderModuleProps = this._getShaderModuleProps(layer, effects, pass, shaderModuleProps);\n                layerParam.layerParameters = {\n                    ...layer.context.deck?.props.parameters,\n                    ...this.getLayerParameters(layer, layerIndex, viewport)\n                };\n            }\n            drawLayerParams[layerIndex] = layerParam;\n        }\n        return drawLayerParams;\n    }\n    // Draws a list of layers in one viewport\n    // TODO - when picking we could completely skip rendering viewports that dont\n    // intersect with the picking rect\n    /* eslint-disable max-depth, max-statements */\n    _drawLayersInViewport(renderPass, { layers, shaderModuleProps: globalModuleParameters, pass, target, viewport, view }, drawLayerParams) {\n        const glViewport = getGLViewport(this.device, {\n            shaderModuleProps: globalModuleParameters,\n            target,\n            viewport\n        });\n        if (view && view.props.clear) {\n            const clearOpts = view.props.clear === true ? { color: true, depth: true } : view.props.clear;\n            const clearRenderPass = this.device.beginRenderPass({\n                framebuffer: target,\n                parameters: {\n                    viewport: glViewport,\n                    scissorRect: glViewport\n                },\n                clearColor: clearOpts.color ? [0, 0, 0, 0] : false,\n                clearDepth: clearOpts.depth ? 1 : false\n            });\n            clearRenderPass.end();\n        }\n        // render layers in normal colors\n        const renderStatus = {\n            totalCount: layers.length,\n            visibleCount: 0,\n            compositeCount: 0,\n            pickableCount: 0\n        };\n        renderPass.setParameters({ viewport: glViewport });\n        // render layers in normal colors\n        for (let layerIndex = 0; layerIndex < layers.length; layerIndex++) {\n            const layer = layers[layerIndex];\n            const drawLayerParameters = drawLayerParams[layerIndex];\n            const { shouldDrawLayer } = drawLayerParameters;\n            // Calculate stats\n            if (shouldDrawLayer && layer.props.pickable) {\n                renderStatus.pickableCount++;\n            }\n            if (layer.isComposite) {\n                renderStatus.compositeCount++;\n            }\n            if (layer.isDrawable && drawLayerParameters.shouldDrawLayer) {\n                const { layerRenderIndex, shaderModuleProps, layerParameters } = drawLayerParameters;\n                // Draw the layer\n                renderStatus.visibleCount++;\n                this._lastRenderIndex = Math.max(this._lastRenderIndex, layerRenderIndex);\n                // overwrite layer.context.viewport with the sub viewport\n                if (shaderModuleProps.project) {\n                    shaderModuleProps.project.viewport = viewport;\n                }\n                // TODO v9 - we are sending renderPass both as a parameter and through the context.\n                // Long-term, it is likely better not to have user defined layer methods have to access\n                // the \"global\" layer context.\n                layer.context.renderPass = renderPass;\n                try {\n                    layer._drawLayer({\n                        renderPass,\n                        shaderModuleProps,\n                        uniforms: { layerIndex: layerRenderIndex },\n                        parameters: layerParameters\n                    });\n                }\n                catch (err) {\n                    layer.raiseError(err, `drawing ${layer} to ${pass}`);\n                }\n            }\n        }\n        return renderStatus;\n    }\n    /* eslint-enable max-depth, max-statements */\n    /* Methods for subclass overrides */\n    shouldDrawLayer(layer) {\n        return true;\n    }\n    getShaderModuleProps(layer, effects, otherShaderModuleProps) {\n        return null;\n    }\n    getLayerParameters(layer, layerIndex, viewport) {\n        return layer.props.parameters;\n    }\n    /* Private */\n    _shouldDrawLayer(layer, drawContext, layerFilter, layerFilterCache) {\n        const shouldDrawLayer = layer.props.visible && this.shouldDrawLayer(layer);\n        if (!shouldDrawLayer) {\n            return false;\n        }\n        drawContext.layer = layer;\n        let parent = layer.parent;\n        while (parent) {\n            // @ts-ignore\n            if (!parent.props.visible || !parent.filterSubLayer(drawContext)) {\n                return false;\n            }\n            drawContext.layer = parent;\n            parent = parent.parent;\n        }\n        if (layerFilter) {\n            const rootLayerId = drawContext.layer.id;\n            if (!(rootLayerId in layerFilterCache)) {\n                layerFilterCache[rootLayerId] = layerFilter(drawContext);\n            }\n            if (!layerFilterCache[rootLayerId]) {\n                return false;\n            }\n        }\n        // If a layer is drawn, update its viewportChanged flag\n        layer.activateViewport(drawContext.viewport);\n        return true;\n    }\n    _getShaderModuleProps(layer, effects, pass, overrides) {\n        // @ts-expect-error TODO - assuming WebGL context\n        const devicePixelRatio = this.device.canvasContext.cssToDeviceRatio();\n        const layerProps = layer.internalState?.propsInTransition || layer.props;\n        const shaderModuleProps = {\n            layer: layerProps,\n            picking: {\n                isActive: false\n            },\n            project: {\n                viewport: layer.context.viewport,\n                devicePixelRatio,\n                modelMatrix: layerProps.modelMatrix,\n                coordinateSystem: layerProps.coordinateSystem,\n                coordinateOrigin: layerProps.coordinateOrigin,\n                autoWrapLongitude: layer.wrapLongitude\n            }\n        };\n        if (effects) {\n            for (const effect of effects) {\n                mergeModuleParameters(shaderModuleProps, effect.getShaderModuleProps?.(layer, shaderModuleProps));\n            }\n        }\n        return mergeModuleParameters(shaderModuleProps, this.getShaderModuleProps(layer, effects, shaderModuleProps), overrides);\n    }\n}\n// If the _index prop is defined, return a layer index that's relative to its parent\n// Otherwise return the index of the layer among all rendered layers\n// This is done recursively, i.e. if the user overrides a layer's default index,\n// all its descendants will be resolved relative to that index.\n// This implementation assumes that parent layers always appear before its children\n// which is true if the layer array comes from the LayerManager\nexport function layerIndexResolver(startIndex = 0, layerIndices = {}) {\n    const resolvers = {};\n    const resolveLayerIndex = (layer, isDrawn) => {\n        const indexOverride = layer.props._offset;\n        const layerId = layer.id;\n        const parentId = layer.parent && layer.parent.id;\n        let index;\n        if (parentId && !(parentId in layerIndices)) {\n            // Populate layerIndices with the parent layer's index\n            resolveLayerIndex(layer.parent, false);\n        }\n        if (parentId in resolvers) {\n            const resolver = (resolvers[parentId] =\n                resolvers[parentId] || layerIndexResolver(layerIndices[parentId], layerIndices));\n            index = resolver(layer, isDrawn);\n            resolvers[layerId] = resolver;\n        }\n        else if (Number.isFinite(indexOverride)) {\n            index = indexOverride + (layerIndices[parentId] || 0);\n            // Mark layer as needing its own resolver\n            // We don't actually create it until it's used for the first time\n            resolvers[layerId] = null;\n        }\n        else {\n            index = startIndex;\n        }\n        if (isDrawn && index >= startIndex) {\n            startIndex = index + 1;\n        }\n        layerIndices[layerId] = index;\n        return index;\n    };\n    return resolveLayerIndex;\n}\n// Convert viewport top-left CSS coordinates to bottom up WebGL coordinates\nfunction getGLViewport(device, { shaderModuleProps, target, viewport }) {\n    const pixelRatio = shaderModuleProps?.project?.devicePixelRatio ??\n        // @ts-expect-error TODO - assuming WebGL context\n        device.canvasContext.cssToDeviceRatio();\n    // Default framebuffer is used when writing to canvas\n    // @ts-expect-error TODO - assuming WebGL context\n    const [, drawingBufferHeight] = device.canvasContext.getDrawingBufferSize();\n    const height = target ? target.height : drawingBufferHeight;\n    // Convert viewport top-left CSS coordinates to bottom up WebGL coordinates\n    const dimensions = viewport;\n    return [\n        dimensions.x * pixelRatio,\n        height - (dimensions.y + dimensions.height) * pixelRatio,\n        dimensions.width * pixelRatio,\n        dimensions.height * pixelRatio\n    ];\n}\nfunction mergeModuleParameters(target, ...sources) {\n    for (const source of sources) {\n        if (source) {\n            for (const key in source) {\n                if (target[key]) {\n                    Object.assign(target[key], source[key]);\n                }\n                else {\n                    target[key] = source[key];\n                }\n            }\n        }\n    }\n    return target;\n}\n//# sourceMappingURL=layers-pass.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport LayersPass from \"./layers-pass.js\";\nexport default class ShadowPass extends LayersPass {\n    constructor(device, props) {\n        super(device, props);\n        // The shadowMap texture\n        const shadowMap = device.createTexture({\n            format: 'rgba8unorm',\n            width: 1,\n            height: 1,\n            sampler: {\n                minFilter: 'linear',\n                magFilter: 'linear',\n                addressModeU: 'clamp-to-edge',\n                addressModeV: 'clamp-to-edge'\n            },\n            mipmaps: true\n        });\n        const depthBuffer = device.createTexture({\n            format: 'depth16unorm',\n            width: 1,\n            height: 1,\n            mipmaps: false\n        });\n        this.fbo = device.createFramebuffer({\n            id: 'shadowmap',\n            width: 1,\n            height: 1,\n            colorAttachments: [shadowMap],\n            // Depth attachment has to be specified for depth test to work\n            depthStencilAttachment: depthBuffer\n        });\n    }\n    delete() {\n        if (this.fbo) {\n            this.fbo.destroy();\n            this.fbo = null;\n        }\n    }\n    getShadowMap() {\n        return this.fbo.colorAttachments[0].texture;\n    }\n    render(params) {\n        const target = this.fbo;\n        // @ts-expect-error TODO - assuming WebGL context\n        const pixelRatio = this.device.canvasContext.cssToDeviceRatio();\n        const viewport = params.viewports[0];\n        const width = viewport.width * pixelRatio;\n        const height = viewport.height * pixelRatio;\n        const clearColor = [1, 1, 1, 1];\n        if (width !== target.width || height !== target.height) {\n            target.resize({ width, height });\n        }\n        super.render({ ...params, clearColor, target, pass: 'shadow' });\n    }\n    getLayerParameters(layer, layerIndex, viewport) {\n        return {\n            ...layer.props.parameters,\n            blend: false,\n            depthWriteEnabled: true,\n            depthCompare: 'less-equal'\n        };\n    }\n    shouldDrawLayer(layer) {\n        return layer.props.shadowEnabled !== false;\n    }\n    getShaderModuleProps(layer, effects, otherShaderModuleProps) {\n        return {\n            shadow: {\n                project: otherShaderModuleProps.project,\n                drawToShadowMap: true\n            }\n        };\n    }\n}\n//# sourceMappingURL=shadow-pass.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { COORDINATE_SYSTEM, PROJECTION_MODE } from \"../../lib/constants.js\";\nimport project from \"../project/project.js\";\nimport { Vector3, Matrix4 } from '@math.gl/core';\nimport memoize from \"../../utils/memoize.js\";\nimport { pixelsToWorld } from '@math.gl/web-mercator';\nconst uniformBlock = /* glsl */ `\nuniform shadowUniforms {\n  bool drawShadowMap;\n  bool useShadowMap;\n  vec4 color;\n  highp int lightId;\n  float lightCount;\n  mat4 viewProjectionMatrix0;\n  mat4 viewProjectionMatrix1;\n  vec4 projectCenter0;\n  vec4 projectCenter1;\n} shadow;\n`;\nconst vertex = /* glsl */ `\nconst int max_lights = 2;\n\nout vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  mat4 viewProjectionMatrices[max_lights];\n  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;\n  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;\n  vec4 projectCenters[max_lights];\n  projectCenters[0] = shadow.projectCenter0;\n  projectCenters[1] = shadow.projectCenter1;\n\n  if (shadow.drawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);\n  }\n  if (shadow.useShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow.lightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n`;\nconst vs = `\n${uniformBlock}\n${vertex}\n`;\nconst fragment = /* glsl */ `\nconst int max_lights = 2;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\n\nin vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow.drawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow.useShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow.lightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow.color.a / shadow.lightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n`;\nconst fs = `\n${uniformBlock}\n${fragment}\n`;\nconst getMemoizedViewportCenterPosition = memoize(getViewportCenterPosition);\nconst getMemoizedViewProjectionMatrices = memoize(getViewProjectionMatrices);\nconst DEFAULT_SHADOW_COLOR = [0, 0, 0, 1.0];\nconst VECTOR_TO_POINT_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0];\nfunction screenToCommonSpace(xyz, pixelUnprojectionMatrix) {\n    const [x, y, z] = xyz;\n    const coord = pixelsToWorld([x, y, z], pixelUnprojectionMatrix);\n    if (Number.isFinite(z)) {\n        return coord;\n    }\n    return [coord[0], coord[1], 0];\n}\nfunction getViewportCenterPosition({ viewport, center }) {\n    return new Matrix4(viewport.viewProjectionMatrix).invert().transform(center);\n}\nfunction getViewProjectionMatrices({ viewport, shadowMatrices }) {\n    const projectionMatrices = [];\n    const pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n    const farZ = viewport.isGeospatial ? undefined : 1;\n    const corners = [\n        [0, 0, farZ], // top left ground\n        [viewport.width, 0, farZ], // top right ground\n        [0, viewport.height, farZ], // bottom left ground\n        [viewport.width, viewport.height, farZ], // bottom right ground\n        [0, 0, -1], // top left near\n        [viewport.width, 0, -1], // top right near\n        [0, viewport.height, -1], // bottom left near\n        [viewport.width, viewport.height, -1] // bottom right near\n    ].map(pixel => \n    // @ts-expect-error z may be undefined\n    screenToCommonSpace(pixel, pixelUnprojectionMatrix));\n    for (const shadowMatrix of shadowMatrices) {\n        const viewMatrix = shadowMatrix.clone().translate(new Vector3(viewport.center).negate());\n        const positions = corners.map(corner => viewMatrix.transform(corner));\n        const projectionMatrix = new Matrix4().ortho({\n            left: Math.min(...positions.map(position => position[0])),\n            right: Math.max(...positions.map(position => position[0])),\n            bottom: Math.min(...positions.map(position => position[1])),\n            top: Math.max(...positions.map(position => position[1])),\n            near: Math.min(...positions.map(position => -position[2])),\n            far: Math.max(...positions.map(position => -position[2]))\n        });\n        projectionMatrices.push(projectionMatrix.multiplyRight(shadowMatrix));\n    }\n    return projectionMatrices;\n}\n/* eslint-disable camelcase */\n// eslint-disable-next-line complexity\nfunction createShadowUniforms(opts) {\n    const { shadowEnabled = true, project: projectProps } = opts;\n    if (!shadowEnabled || !projectProps || !opts.shadowMatrices || !opts.shadowMatrices.length) {\n        return {\n            drawShadowMap: false,\n            useShadowMap: false,\n            shadow_uShadowMap0: opts.dummyShadowMap,\n            shadow_uShadowMap1: opts.dummyShadowMap\n        };\n    }\n    const projectUniforms = project.getUniforms(projectProps);\n    const center = getMemoizedViewportCenterPosition({\n        viewport: projectProps.viewport,\n        center: projectUniforms.center\n    });\n    const projectCenters = [];\n    const viewProjectionMatrices = getMemoizedViewProjectionMatrices({\n        shadowMatrices: opts.shadowMatrices,\n        viewport: projectProps.viewport\n    }).slice();\n    for (let i = 0; i < opts.shadowMatrices.length; i++) {\n        const viewProjectionMatrix = viewProjectionMatrices[i];\n        const viewProjectionMatrixCentered = viewProjectionMatrix\n            .clone()\n            .translate(new Vector3(projectProps.viewport.center).negate());\n        if (projectUniforms.coordinateSystem === COORDINATE_SYSTEM.LNGLAT &&\n            projectUniforms.projectionMode === PROJECTION_MODE.WEB_MERCATOR) {\n            viewProjectionMatrices[i] = viewProjectionMatrixCentered;\n            projectCenters[i] = center;\n        }\n        else {\n            viewProjectionMatrices[i] = viewProjectionMatrix\n                .clone()\n                .multiplyRight(VECTOR_TO_POINT_MATRIX);\n            projectCenters[i] = viewProjectionMatrixCentered.transform(center);\n        }\n    }\n    const uniforms = {\n        drawShadowMap: Boolean(opts.drawToShadowMap),\n        useShadowMap: opts.shadowMaps ? opts.shadowMaps.length > 0 : false,\n        color: opts.shadowColor || DEFAULT_SHADOW_COLOR,\n        lightId: opts.shadowLightId || 0,\n        lightCount: opts.shadowMatrices.length,\n        shadow_uShadowMap0: opts.dummyShadowMap,\n        shadow_uShadowMap1: opts.dummyShadowMap\n    };\n    for (let i = 0; i < viewProjectionMatrices.length; i++) {\n        uniforms[`viewProjectionMatrix${i}`] = viewProjectionMatrices[i];\n        uniforms[`projectCenter${i}`] = projectCenters[i];\n    }\n    for (let i = 0; i < 2; i++) {\n        uniforms[`shadow_uShadowMap${i}`] =\n            (opts.shadowMaps && opts.shadowMaps[i]) || opts.dummyShadowMap;\n    }\n    return uniforms;\n}\nexport default {\n    name: 'shadow',\n    dependencies: [project],\n    vs,\n    fs,\n    inject: {\n        'vs:DECKGL_FILTER_GL_POSITION': `\n    position = shadow_setVertexPosition(geometry.position);\n    `,\n        'fs:DECKGL_FILTER_COLOR': `\n    color = shadow_filterShadowColor(color);\n    `\n    },\n    getUniforms: createShadowUniforms,\n    uniformTypes: {\n        drawShadowMap: 'f32',\n        useShadowMap: 'f32',\n        color: 'vec4<f32>',\n        lightId: 'i32',\n        lightCount: 'f32',\n        viewProjectionMatrix0: 'mat4x4<f32>',\n        viewProjectionMatrix1: 'mat4x4<f32>',\n        projectCenter0: 'vec4<f32>',\n        projectCenter1: 'vec4<f32>'\n    }\n};\n//# sourceMappingURL=shadow.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { AmbientLight } from \"./ambient-light.js\";\nimport { DirectionalLight } from \"./directional-light.js\";\nimport { Matrix4, Vector3 } from '@math.gl/core';\nimport ShadowPass from \"../../passes/shadow-pass.js\";\nimport shadow from \"../../shaderlib/shadow/shadow.js\";\nconst DEFAULT_AMBIENT_LIGHT_PROPS = {\n    color: [255, 255, 255],\n    intensity: 1.0\n};\nconst DEFAULT_DIRECTIONAL_LIGHT_PROPS = [\n    {\n        color: [255, 255, 255],\n        intensity: 1.0,\n        direction: [-1, 3, -1]\n    },\n    {\n        color: [255, 255, 255],\n        intensity: 0.9,\n        direction: [1, -8, -2.5]\n    }\n];\nconst DEFAULT_SHADOW_COLOR = [0, 0, 0, 200 / 255];\n// Class to manage ambient, point and directional light sources in deck\nexport default class LightingEffect {\n    constructor(props = {}) {\n        this.id = 'lighting-effect';\n        this.shadowColor = DEFAULT_SHADOW_COLOR;\n        this.shadow = false;\n        this.directionalLights = [];\n        this.pointLights = [];\n        this.shadowPasses = [];\n        this.dummyShadowMap = null;\n        this.setProps(props);\n    }\n    setup(context) {\n        this.context = context;\n        const { device, deck } = context;\n        if (this.shadow && !this.dummyShadowMap) {\n            this._createShadowPasses(device);\n            deck._addDefaultShaderModule(shadow);\n            this.dummyShadowMap = device.createTexture({\n                width: 1,\n                height: 1\n            });\n        }\n    }\n    setProps(props) {\n        this.ambientLight = undefined;\n        this.directionalLights = [];\n        this.pointLights = [];\n        for (const key in props) {\n            const lightSource = props[key];\n            switch (lightSource.type) {\n                case 'ambient':\n                    this.ambientLight = lightSource;\n                    break;\n                case 'directional':\n                    this.directionalLights.push(lightSource);\n                    break;\n                case 'point':\n                    this.pointLights.push(lightSource);\n                    break;\n                default:\n            }\n        }\n        this._applyDefaultLights();\n        this.shadow = this.directionalLights.some(light => light.shadow);\n        if (this.context) {\n            // Create resources if necessary\n            this.setup(this.context);\n        }\n        this.props = props;\n    }\n    preRender({ layers, layerFilter, viewports, onViewportActive, views }) {\n        if (!this.shadow)\n            return;\n        // create light matrix every frame to make sure always updated from light source\n        this.shadowMatrices = this._calculateMatrices();\n        for (let i = 0; i < this.shadowPasses.length; i++) {\n            const shadowPass = this.shadowPasses[i];\n            shadowPass.render({\n                layers,\n                layerFilter,\n                viewports,\n                onViewportActive,\n                views,\n                shaderModuleProps: {\n                    shadow: {\n                        shadowLightId: i,\n                        dummyShadowMap: this.dummyShadowMap,\n                        shadowMatrices: this.shadowMatrices\n                    }\n                }\n            });\n        }\n    }\n    getShaderModuleProps(layer, otherShaderModuleProps) {\n        const shadowProps = this.shadow\n            ? {\n                project: otherShaderModuleProps.project,\n                shadowMaps: this.shadowPasses.map(shadowPass => shadowPass.getShadowMap()),\n                dummyShadowMap: this.dummyShadowMap,\n                shadowColor: this.shadowColor,\n                shadowMatrices: this.shadowMatrices\n            }\n            : {};\n        // when not rendering to screen, turn off lighting by adding empty light source object\n        // lights shader module relies on the `lightSources` to turn on/off lighting\n        const lightingProps = {\n            enabled: true,\n            ambientLight: this.ambientLight,\n            directionalLights: this.directionalLights.map(directionalLight => directionalLight.getProjectedLight({ layer })),\n            pointLights: this.pointLights.map(pointLight => pointLight.getProjectedLight({ layer }))\n        };\n        // @ts-expect-error material is not a Layer prop\n        const materialProps = layer.props.material;\n        return {\n            shadow: shadowProps,\n            lighting: lightingProps,\n            phongMaterial: materialProps,\n            gouraudMaterial: materialProps\n        };\n    }\n    cleanup(context) {\n        for (const shadowPass of this.shadowPasses) {\n            shadowPass.delete();\n        }\n        this.shadowPasses.length = 0;\n        if (this.dummyShadowMap) {\n            this.dummyShadowMap.destroy();\n            this.dummyShadowMap = null;\n            context.deck._removeDefaultShaderModule(shadow);\n        }\n    }\n    _calculateMatrices() {\n        const lightMatrices = [];\n        for (const light of this.directionalLights) {\n            const viewMatrix = new Matrix4().lookAt({\n                eye: new Vector3(light.direction).negate()\n            });\n            lightMatrices.push(viewMatrix);\n        }\n        return lightMatrices;\n    }\n    _createShadowPasses(device) {\n        for (let i = 0; i < this.directionalLights.length; i++) {\n            const shadowPass = new ShadowPass(device);\n            this.shadowPasses[i] = shadowPass;\n        }\n    }\n    _applyDefaultLights() {\n        const { ambientLight, pointLights, directionalLights } = this;\n        if (!ambientLight && pointLights.length === 0 && directionalLights.length === 0) {\n            this.ambientLight = new AmbientLight(DEFAULT_AMBIENT_LIGHT_PROPS);\n            this.directionalLights.push(new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[0]), new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[1]));\n        }\n    }\n}\n//# sourceMappingURL=lighting-effect.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { deepEqual } from \"../utils/deep-equal.js\";\nimport LightingEffect from \"../effects/lighting/lighting-effect.js\";\nconst DEFAULT_LIGHTING_EFFECT = new LightingEffect();\n/** Sort two effects. Returns 0 if equal, negative if e1 < e2, positive if e1 > e2 */\nfunction compareEffects(e1, e2) {\n    const o1 = e1.order ?? Infinity;\n    const o2 = e2.order ?? Infinity;\n    return o1 - o2;\n}\nexport default class EffectManager {\n    constructor(context) {\n        this._resolvedEffects = [];\n        /** Effect instances and order preference pairs, sorted by order */\n        this._defaultEffects = [];\n        this.effects = [];\n        this._context = context;\n        this._needsRedraw = 'Initial render';\n        this._setEffects([]);\n    }\n    /**\n     * Register a new default effect, i.e. an effect presents regardless of user supplied props.effects\n     */\n    addDefaultEffect(effect) {\n        const defaultEffects = this._defaultEffects;\n        if (!defaultEffects.find(e => e.id === effect.id)) {\n            const index = defaultEffects.findIndex(e => compareEffects(e, effect) > 0);\n            if (index < 0) {\n                defaultEffects.push(effect);\n            }\n            else {\n                defaultEffects.splice(index, 0, effect);\n            }\n            effect.setup(this._context);\n            this._setEffects(this.effects);\n        }\n    }\n    setProps(props) {\n        if ('effects' in props) {\n            // Compare effects against each other shallowly\n            if (!deepEqual(props.effects, this.effects, 1)) {\n                this._setEffects(props.effects);\n            }\n        }\n    }\n    needsRedraw(opts = { clearRedrawFlags: false }) {\n        const redraw = this._needsRedraw;\n        if (opts.clearRedrawFlags) {\n            this._needsRedraw = false;\n        }\n        return redraw;\n    }\n    getEffects() {\n        return this._resolvedEffects;\n    }\n    _setEffects(effects) {\n        const oldEffectsMap = {};\n        for (const effect of this.effects) {\n            oldEffectsMap[effect.id] = effect;\n        }\n        const nextEffects = [];\n        for (const effect of effects) {\n            const oldEffect = oldEffectsMap[effect.id];\n            let effectToAdd = effect;\n            if (oldEffect && oldEffect !== effect) {\n                if (oldEffect.setProps) {\n                    oldEffect.setProps(effect.props);\n                    effectToAdd = oldEffect;\n                }\n                else {\n                    oldEffect.cleanup(this._context);\n                }\n            }\n            else if (!oldEffect) {\n                effect.setup(this._context);\n            }\n            nextEffects.push(effectToAdd);\n            delete oldEffectsMap[effect.id];\n        }\n        for (const removedEffectId in oldEffectsMap) {\n            oldEffectsMap[removedEffectId].cleanup(this._context);\n        }\n        this.effects = nextEffects;\n        this._resolvedEffects = nextEffects.concat(this._defaultEffects);\n        // Special case for lighting: only add default instance if no LightingEffect is specified\n        if (!effects.some(effect => effect instanceof LightingEffect)) {\n            this._resolvedEffects.push(DEFAULT_LIGHTING_EFFECT);\n        }\n        this._needsRedraw = 'effects changed';\n    }\n    finalize() {\n        for (const effect of this._resolvedEffects) {\n            effect.cleanup(this._context);\n        }\n        this.effects.length = 0;\n        this._resolvedEffects.length = 0;\n        this._defaultEffects.length = 0;\n    }\n}\n//# sourceMappingURL=effect-manager.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport LayersPass from \"./layers-pass.js\";\nexport default class DrawLayersPass extends LayersPass {\n    shouldDrawLayer(layer) {\n        const { operation } = layer.props;\n        return operation.includes('draw') || operation.includes('terrain');\n    }\n}\n//# sourceMappingURL=draw-layers-pass.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport LayersPass from \"./layers-pass.js\";\nimport log from \"../utils/log.js\";\nconst PICKING_BLENDING = {\n    blendColorOperation: 'add',\n    blendColorSrcFactor: 'one',\n    blendColorDstFactor: 'zero',\n    blendAlphaOperation: 'add',\n    blendAlphaSrcFactor: 'constant-alpha',\n    blendAlphaDstFactor: 'zero'\n};\nexport default class PickLayersPass extends LayersPass {\n    constructor() {\n        super(...arguments);\n        this._colorEncoderState = null;\n    }\n    render(props) {\n        if ('pickingFBO' in props) {\n            // When drawing into an off-screen buffer, use the alpha channel to encode layer index\n            return this._drawPickingBuffer(props);\n        }\n        // When drawing to screen (debug mode), do not use the alpha channel so that result is always visible\n        return super.render(props);\n    }\n    // Private\n    // Draws list of layers and viewports into the picking buffer\n    // Note: does not sample the buffer, that has to be done by the caller\n    _drawPickingBuffer({ layers, layerFilter, views, viewports, onViewportActive, pickingFBO, deviceRect: { x, y, width, height }, cullRect, effects, pass = 'picking', pickZ, shaderModuleProps }) {\n        this.pickZ = pickZ;\n        const colorEncoderState = this._resetColorEncoder(pickZ);\n        const scissorRect = [x, y, width, height];\n        // Make sure we clear scissor test and fbo bindings in case of exceptions\n        // We are only interested in one pixel, no need to render anything else\n        // Note that the callback here is called synchronously.\n        // Set blend mode for picking\n        // always overwrite existing pixel with [r,g,b,layerIndex]\n        const renderStatus = super.render({\n            target: pickingFBO,\n            layers,\n            layerFilter,\n            views,\n            viewports,\n            onViewportActive,\n            cullRect,\n            effects: effects?.filter(e => e.useInPicking),\n            pass,\n            isPicking: true,\n            shaderModuleProps,\n            clearColor: [0, 0, 0, 0],\n            colorMask: 0xf,\n            scissorRect\n        });\n        // Clear the temp field\n        this._colorEncoderState = null;\n        const decodePickingColor = colorEncoderState && decodeColor.bind(null, colorEncoderState);\n        return { decodePickingColor, stats: renderStatus };\n    }\n    shouldDrawLayer(layer) {\n        const { pickable, operation } = layer.props;\n        return ((pickable && operation.includes('draw')) ||\n            operation.includes('terrain') ||\n            operation.includes('mask'));\n    }\n    getShaderModuleProps(layer, effects, otherShaderModuleProps) {\n        return {\n            picking: {\n                isActive: 1,\n                isAttribute: this.pickZ\n            },\n            lighting: { enabled: false }\n        };\n    }\n    getLayerParameters(layer, layerIndex, viewport) {\n        // TODO use Parameters type\n        const pickParameters = {\n            ...layer.props.parameters\n        };\n        const { pickable, operation } = layer.props;\n        if (!this._colorEncoderState || operation.includes('terrain')) {\n            pickParameters.blend = false;\n        }\n        else if (pickable && operation.includes('draw')) {\n            Object.assign(pickParameters, PICKING_BLENDING);\n            pickParameters.blend = true;\n            // TODO: blendColor no longer part of luma.gl API\n            pickParameters.blendColor = encodeColor(this._colorEncoderState, layer, viewport);\n        }\n        return pickParameters;\n    }\n    _resetColorEncoder(pickZ) {\n        // Track encoded layer indices\n        this._colorEncoderState = pickZ\n            ? null\n            : {\n                byLayer: new Map(),\n                byAlpha: []\n            };\n        // Temporarily store it on the instance so that it can be accessed by this.getLayerParameters\n        return this._colorEncoderState;\n    }\n}\n// Assign an unique alpha value for each pickable layer and track the encoding in the cache object\n// Returns normalized blend color\nfunction encodeColor(encoded, layer, viewport) {\n    const { byLayer, byAlpha } = encoded;\n    let a;\n    // Encode layerIndex in the alpha channel\n    // TODO - combine small layers to better utilize the picking color space\n    let entry = byLayer.get(layer);\n    if (entry) {\n        entry.viewports.push(viewport);\n        a = entry.a;\n    }\n    else {\n        a = byLayer.size + 1;\n        if (a <= 255) {\n            entry = { a, layer, viewports: [viewport] };\n            byLayer.set(layer, entry);\n            byAlpha[a] = entry;\n        }\n        else {\n            log.warn('Too many pickable layers, only picking the first 255')();\n            a = 0;\n        }\n    }\n    return [0, 0, 0, a / 255];\n}\n// Given a picked color, retrieve the corresponding layer and viewports from cache\nfunction decodeColor(encoded, pickedColor) {\n    const entry = encoded.byAlpha[pickedColor[3]];\n    return (entry && {\n        pickedLayer: entry.layer,\n        pickedViewports: entry.viewports,\n        pickedObjectIndex: entry.layer.decodePickingColor(pickedColor)\n    });\n}\n//# sourceMappingURL=pick-layers-pass.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport debug from \"../debug/index.js\";\nimport DrawLayersPass from \"../passes/draw-layers-pass.js\";\nimport PickLayersPass from \"../passes/pick-layers-pass.js\";\nconst TRACE_RENDER_LAYERS = 'deckRenderer.renderLayers';\nexport default class DeckRenderer {\n    constructor(device) {\n        this.device = device;\n        this.layerFilter = null;\n        this.drawPickingColors = false;\n        this.drawLayersPass = new DrawLayersPass(device);\n        this.pickLayersPass = new PickLayersPass(device);\n        this.renderCount = 0;\n        this._needsRedraw = 'Initial render';\n        this.renderBuffers = [];\n        this.lastPostProcessEffect = null;\n    }\n    setProps(props) {\n        if (this.layerFilter !== props.layerFilter) {\n            this.layerFilter = props.layerFilter;\n            this._needsRedraw = 'layerFilter changed';\n        }\n        if (this.drawPickingColors !== props.drawPickingColors) {\n            this.drawPickingColors = props.drawPickingColors;\n            this._needsRedraw = 'drawPickingColors changed';\n        }\n    }\n    renderLayers(opts) {\n        if (!opts.viewports.length) {\n            return;\n        }\n        const layerPass = this.drawPickingColors ? this.pickLayersPass : this.drawLayersPass;\n        const renderOpts = {\n            layerFilter: this.layerFilter,\n            isPicking: this.drawPickingColors,\n            ...opts\n        };\n        if (renderOpts.effects) {\n            this._preRender(renderOpts.effects, renderOpts);\n        }\n        const outputBuffer = this.lastPostProcessEffect ? this.renderBuffers[0] : renderOpts.target;\n        if (this.lastPostProcessEffect) {\n            renderOpts.clearColor = [0, 0, 0, 0];\n            renderOpts.clearCanvas = true;\n        }\n        const renderStats = layerPass.render({ ...renderOpts, target: outputBuffer });\n        if (renderOpts.effects) {\n            this._postRender(renderOpts.effects, renderOpts);\n        }\n        this.renderCount++;\n        debug(TRACE_RENDER_LAYERS, this, renderStats, opts);\n    }\n    needsRedraw(opts = { clearRedrawFlags: false }) {\n        const redraw = this._needsRedraw;\n        if (opts.clearRedrawFlags) {\n            this._needsRedraw = false;\n        }\n        return redraw;\n    }\n    finalize() {\n        const { renderBuffers } = this;\n        for (const buffer of renderBuffers) {\n            buffer.delete();\n        }\n        renderBuffers.length = 0;\n    }\n    _preRender(effects, opts) {\n        this.lastPostProcessEffect = null;\n        opts.preRenderStats = opts.preRenderStats || {};\n        for (const effect of effects) {\n            opts.preRenderStats[effect.id] = effect.preRender(opts);\n            if (effect.postRender) {\n                this.lastPostProcessEffect = effect.id;\n            }\n        }\n        if (this.lastPostProcessEffect) {\n            this._resizeRenderBuffers();\n        }\n    }\n    _resizeRenderBuffers() {\n        const { renderBuffers } = this;\n        const size = this.device.canvasContext.getDrawingBufferSize();\n        if (renderBuffers.length === 0) {\n            [0, 1].map(i => {\n                const texture = this.device.createTexture({\n                    sampler: { minFilter: 'linear', magFilter: 'linear' }\n                });\n                renderBuffers.push(this.device.createFramebuffer({\n                    id: `deck-renderbuffer-${i}`,\n                    colorAttachments: [texture]\n                }));\n            });\n        }\n        for (const buffer of renderBuffers) {\n            buffer.resize(size);\n        }\n    }\n    _postRender(effects, opts) {\n        const { renderBuffers } = this;\n        const params = {\n            ...opts,\n            inputBuffer: renderBuffers[0],\n            swapBuffer: renderBuffers[1]\n        };\n        for (const effect of effects) {\n            if (effect.postRender) {\n                // If not the last post processing effect, unset the target so that\n                // it only renders between the swap buffers\n                params.target = effect.id === this.lastPostProcessEffect ? opts.target : undefined;\n                const buffer = effect.postRender(params);\n                // Buffer cannot be null if target is unset\n                params.inputBuffer = buffer;\n                params.swapBuffer = buffer === renderBuffers[0] ? renderBuffers[1] : renderBuffers[0];\n            }\n        }\n    }\n}\n//# sourceMappingURL=deck-renderer.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport log from \"../../utils/log.js\";\nconst NO_PICKED_OBJECT = {\n    pickedColor: null,\n    pickedObjectIndex: -1\n};\n/* eslint-disable max-depth, max-statements */\n/**\n * Pick at a specified pixel with a tolerance radius\n * Returns the closest object to the pixel in shape `{pickedColor, pickedLayer, pickedObjectIndex}`\n */\nexport function getClosestObject({ pickedColors, decodePickingColor, deviceX, deviceY, deviceRadius, deviceRect }) {\n    // Traverse all pixels in picking results and find the one closest to the supplied\n    // [deviceX, deviceY]\n    const { x, y, width, height } = deviceRect;\n    let minSquareDistanceToCenter = deviceRadius * deviceRadius;\n    let closestPixelIndex = -1;\n    let i = 0;\n    for (let row = 0; row < height; row++) {\n        const dy = row + y - deviceY;\n        const dy2 = dy * dy;\n        if (dy2 > minSquareDistanceToCenter) {\n            // skip this row\n            i += 4 * width;\n        }\n        else {\n            for (let col = 0; col < width; col++) {\n                // Decode picked layer from color\n                const pickedLayerIndex = pickedColors[i + 3] - 1;\n                if (pickedLayerIndex >= 0) {\n                    const dx = col + x - deviceX;\n                    const d2 = dx * dx + dy2;\n                    if (d2 <= minSquareDistanceToCenter) {\n                        minSquareDistanceToCenter = d2;\n                        closestPixelIndex = i;\n                    }\n                }\n                i += 4;\n            }\n        }\n    }\n    if (closestPixelIndex >= 0) {\n        // Decode picked object index from color\n        const pickedColor = pickedColors.slice(closestPixelIndex, closestPixelIndex + 4);\n        const pickedObject = decodePickingColor(pickedColor);\n        if (pickedObject) {\n            const dy = Math.floor(closestPixelIndex / 4 / width);\n            const dx = closestPixelIndex / 4 - dy * width;\n            return {\n                ...pickedObject,\n                pickedColor,\n                pickedX: x + dx,\n                pickedY: y + dy\n            };\n        }\n        log.error('Picked non-existent layer. Is picking buffer corrupt?')();\n    }\n    return NO_PICKED_OBJECT;\n}\n/**\n * Examines a picking buffer for unique colors\n * Returns array of unique objects in shape `{x, y, pickedColor, pickedLayer, pickedObjectIndex}`\n */\nexport function getUniqueObjects({ pickedColors, decodePickingColor }) {\n    const uniqueColors = new Map();\n    // Traverse all pixels in picking results and get unique colors\n    if (pickedColors) {\n        for (let i = 0; i < pickedColors.length; i += 4) {\n            // Decode picked layer from color\n            const pickedLayerIndex = pickedColors[i + 3] - 1;\n            if (pickedLayerIndex >= 0) {\n                const pickedColor = pickedColors.slice(i, i + 4);\n                const colorKey = pickedColor.join(',');\n                // eslint-disable-next-line\n                if (!uniqueColors.has(colorKey)) {\n                    const pickedObject = decodePickingColor(pickedColor);\n                    // eslint-disable-next-line\n                    if (pickedObject) {\n                        uniqueColors.set(colorKey, {\n                            ...pickedObject,\n                            color: pickedColor\n                        });\n                    }\n                    else {\n                        log.error('Picked non-existent layer. Is picking buffer corrupt?')();\n                    }\n                }\n            }\n        }\n    }\n    return Array.from(uniqueColors.values());\n}\n//# sourceMappingURL=query-object.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/** Generates some basic information of the picking action: x, y, coordinates etc.\n * Regardless if anything is picked\n */\nexport function getEmptyPickingInfo({ pickInfo, viewports, pixelRatio, x, y, z }) {\n    // If more than one viewports are used in the picking pass, locate the viewport that\n    // drew the picked pixel\n    let pickedViewport = viewports[0];\n    if (viewports.length > 1) {\n        // Find the viewport that contain the picked pixel\n        pickedViewport = getViewportFromCoordinates(pickInfo?.pickedViewports || viewports, { x, y });\n    }\n    let coordinate;\n    if (pickedViewport) {\n        const point = [x - pickedViewport.x, y - pickedViewport.y];\n        if (z !== undefined) {\n            point[2] = z;\n        }\n        coordinate = pickedViewport.unproject(point);\n    }\n    return {\n        color: null,\n        layer: null,\n        viewport: pickedViewport,\n        index: -1,\n        picked: false,\n        x,\n        y,\n        pixel: [x, y],\n        coordinate,\n        devicePixel: pickInfo && 'pickedX' in pickInfo\n            ? [pickInfo.pickedX, pickInfo.pickedY]\n            : undefined,\n        pixelRatio\n    };\n}\n/* eslint-disable max-depth */\n/** Generates the picking info of a picking operation */\nexport function processPickInfo(opts) {\n    const { pickInfo, lastPickedInfo, mode, layers } = opts;\n    const { pickedColor, pickedLayer, pickedObjectIndex } = pickInfo;\n    const affectedLayers = pickedLayer ? [pickedLayer] : [];\n    if (mode === 'hover') {\n        // only invoke onHover events if picked object has changed\n        const lastPickedPixelIndex = lastPickedInfo.index;\n        const lastPickedLayerId = lastPickedInfo.layerId;\n        const pickedLayerId = pickedLayer ? pickedLayer.props.id : null;\n        // proceed only if picked object changed\n        if (pickedLayerId !== lastPickedLayerId || pickedObjectIndex !== lastPickedPixelIndex) {\n            if (pickedLayerId !== lastPickedLayerId) {\n                // We cannot store a ref to lastPickedLayer in the context because\n                // the state of an outdated layer is no longer valid\n                // and the props may have changed\n                const lastPickedLayer = layers.find(layer => layer.props.id === lastPickedLayerId);\n                if (lastPickedLayer) {\n                    // Let leave event fire before enter event\n                    affectedLayers.unshift(lastPickedLayer);\n                }\n            }\n            // Update layer manager context\n            lastPickedInfo.layerId = pickedLayerId;\n            lastPickedInfo.index = pickedObjectIndex;\n            lastPickedInfo.info = null;\n        }\n    }\n    const baseInfo = getEmptyPickingInfo(opts);\n    // Use a Map to store all picking infos.\n    // The following two forEach loops are the result of\n    // https://github.com/visgl/deck.gl/issues/443\n    // Please be very careful when changing this pattern\n    const infos = new Map();\n    // Make sure infos always contain something even if no layer is affected\n    infos.set(null, baseInfo);\n    affectedLayers.forEach(layer => {\n        let info = { ...baseInfo };\n        if (layer === pickedLayer) {\n            info.color = pickedColor;\n            info.index = pickedObjectIndex;\n            info.picked = true;\n        }\n        info = getLayerPickingInfo({ layer, info, mode });\n        const rootLayer = info.layer;\n        if (layer === pickedLayer && mode === 'hover') {\n            lastPickedInfo.info = info;\n        }\n        // This guarantees that there will be only one copy of info for\n        // one composite layer\n        infos.set(rootLayer.id, info);\n        if (mode === 'hover') {\n            rootLayer.updateAutoHighlight(info);\n        }\n    });\n    return infos;\n}\n/** Walk up the layer composite chain to populate the info object */\nexport function getLayerPickingInfo({ layer, info, mode }) {\n    while (layer && info) {\n        // For a composite layer, sourceLayer will point to the sublayer\n        // where the event originates from.\n        // It provides additional context for the composite layer's\n        // getPickingInfo() method to populate the info object\n        const sourceLayer = info.layer || null;\n        info.sourceLayer = sourceLayer;\n        info.layer = layer;\n        // layer.pickLayer() function requires a non-null ```layer.state```\n        // object to function properly. So the layer referenced here\n        // must be the \"current\" layer, not an \"out-dated\" / \"invalidated\" layer\n        info = layer.getPickingInfo({ info, mode, sourceLayer });\n        layer = layer.parent;\n    }\n    return info;\n}\n/** Indentifies which viewport, if any corresponds to x and y\n   If multiple viewports contain the target pixel, last viewport drawn is returend\n   Returns first viewport if no match */\nfunction getViewportFromCoordinates(viewports, pixel) {\n    // find the last viewport that contains the pixel\n    for (let i = viewports.length - 1; i >= 0; i--) {\n        const viewport = viewports[i];\n        if (viewport.containsPixel(pixel)) {\n            return viewport;\n        }\n    }\n    return viewports[0];\n}\n//# sourceMappingURL=pick-info.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport PickLayersPass from \"../passes/pick-layers-pass.js\";\nimport { getClosestObject, getUniqueObjects } from \"./picking/query-object.js\";\nimport { processPickInfo, getLayerPickingInfo, getEmptyPickingInfo } from \"./picking/pick-info.js\";\n/** Manages picking in a Deck context */\nexport default class DeckPicker {\n    constructor(device) {\n        this._pickable = true;\n        this.device = device;\n        this.pickLayersPass = new PickLayersPass(device);\n        this.lastPickedInfo = {\n            index: -1,\n            layerId: null,\n            info: null\n        };\n    }\n    setProps(props) {\n        if ('layerFilter' in props) {\n            this.layerFilter = props.layerFilter;\n        }\n        if ('_pickable' in props) {\n            this._pickable = props._pickable;\n        }\n    }\n    finalize() {\n        if (this.pickingFBO) {\n            this.pickingFBO.destroy();\n        }\n        if (this.depthFBO) {\n            this.depthFBO.destroy();\n        }\n    }\n    /** Pick the closest info at given coordinate */\n    pickObject(opts) {\n        return this._pickClosestObject(opts);\n    }\n    /** Get all unique infos within a bounding box */\n    pickObjects(opts) {\n        return this._pickVisibleObjects(opts);\n    }\n    // Returns a new picking info object by assuming the last picked object is still picked\n    getLastPickedObject({ x, y, layers, viewports }, lastPickedInfo = this.lastPickedInfo.info) {\n        const lastPickedLayerId = lastPickedInfo && lastPickedInfo.layer && lastPickedInfo.layer.id;\n        const lastPickedViewportId = lastPickedInfo && lastPickedInfo.viewport && lastPickedInfo.viewport.id;\n        const layer = lastPickedLayerId ? layers.find(l => l.id === lastPickedLayerId) : null;\n        const viewport = (lastPickedViewportId && viewports.find(v => v.id === lastPickedViewportId)) || viewports[0];\n        const coordinate = viewport && viewport.unproject([x - viewport.x, y - viewport.y]);\n        const info = {\n            x,\n            y,\n            viewport,\n            coordinate,\n            layer\n        };\n        return { ...lastPickedInfo, ...info };\n    }\n    // Private\n    /** Ensures that picking framebuffer exists and matches the canvas size */\n    _resizeBuffer() {\n        // Create a frame buffer if not already available\n        if (!this.pickingFBO) {\n            this.pickingFBO = this.device.createFramebuffer({\n                colorAttachments: ['rgba8unorm'],\n                depthStencilAttachment: 'depth16unorm'\n            });\n            if (this.device.isTextureFormatRenderable('rgba32float')) {\n                const depthFBO = this.device.createFramebuffer({\n                    colorAttachments: ['rgba32float'],\n                    depthStencilAttachment: 'depth16unorm'\n                });\n                this.depthFBO = depthFBO;\n            }\n        }\n        // Resize it to current canvas size (this is a noop if size hasn't changed)\n        const { canvas } = this.device.getDefaultCanvasContext();\n        this.pickingFBO?.resize({ width: canvas.width, height: canvas.height });\n        this.depthFBO?.resize({ width: canvas.width, height: canvas.height });\n    }\n    /** Preliminary filtering of the layers list. Skid picking pass if no layer is pickable. */\n    _getPickable(layers) {\n        if (this._pickable === false) {\n            return null;\n        }\n        const pickableLayers = layers.filter(layer => this.pickLayersPass.shouldDrawLayer(layer) && !layer.isComposite);\n        return pickableLayers.length ? pickableLayers : null;\n    }\n    /** Pick the closest object at the given coordinate */\n    // eslint-disable-next-line max-statements,complexity\n    _pickClosestObject({ layers, views, viewports, x, y, radius = 0, depth = 1, mode = 'query', unproject3D, onViewportActive, effects }) {\n        // @ts-expect-error TODO - assuming WebGL context\n        const pixelRatio = this.device.canvasContext.cssToDeviceRatio();\n        const pickableLayers = this._getPickable(layers);\n        if (!pickableLayers || viewports.length === 0) {\n            return {\n                result: [],\n                emptyInfo: getEmptyPickingInfo({ viewports, x, y, pixelRatio })\n            };\n        }\n        this._resizeBuffer();\n        // Convert from canvas top-left to WebGL bottom-left coordinates\n        // Top-left coordinates [x, y] to bottom-left coordinates [deviceX, deviceY]\n        // And compensate for pixelRatio\n        // @ts-expect-error TODO - assuming WebGL context\n        const devicePixelRange = this.device.canvasContext.cssToDevicePixels([x, y], true);\n        const devicePixel = [\n            devicePixelRange.x + Math.floor(devicePixelRange.width / 2),\n            devicePixelRange.y + Math.floor(devicePixelRange.height / 2)\n        ];\n        const deviceRadius = Math.round(radius * pixelRatio);\n        const { width, height } = this.pickingFBO;\n        const deviceRect = this._getPickingRect({\n            deviceX: devicePixel[0],\n            deviceY: devicePixel[1],\n            deviceRadius,\n            deviceWidth: width,\n            deviceHeight: height\n        });\n        const cullRect = {\n            x: x - radius,\n            y: y - radius,\n            width: radius * 2 + 1,\n            height: radius * 2 + 1\n        };\n        let infos;\n        const result = [];\n        const affectedLayers = new Set();\n        for (let i = 0; i < depth; i++) {\n            let pickInfo;\n            if (deviceRect) {\n                const pickedResult = this._drawAndSample({\n                    layers: pickableLayers,\n                    views,\n                    viewports,\n                    onViewportActive,\n                    deviceRect,\n                    cullRect,\n                    effects,\n                    pass: `picking:${mode}`\n                });\n                pickInfo = getClosestObject({\n                    ...pickedResult,\n                    deviceX: devicePixel[0],\n                    deviceY: devicePixel[1],\n                    deviceRadius,\n                    deviceRect\n                });\n            }\n            else {\n                pickInfo = {\n                    pickedColor: null,\n                    pickedObjectIndex: -1\n                };\n            }\n            let z;\n            if (pickInfo.pickedLayer && unproject3D && this.depthFBO) {\n                const { pickedColors: pickedColors2 } = this._drawAndSample({\n                    layers: [pickInfo.pickedLayer],\n                    views,\n                    viewports,\n                    onViewportActive,\n                    deviceRect: {\n                        x: pickInfo.pickedX,\n                        y: pickInfo.pickedY,\n                        width: 1,\n                        height: 1\n                    },\n                    cullRect,\n                    effects,\n                    pass: `picking:${mode}:z`\n                }, true);\n                // picked value is in common space (pixels) from the camera target (viewport.position)\n                // convert it to meters from the ground\n                if (pickedColors2[3]) {\n                    z = pickedColors2[0];\n                }\n            }\n            // Only exclude if we need to run picking again.\n            // We need to run picking again if an object is detected AND\n            // we have not exhausted the requested depth.\n            if (pickInfo.pickedLayer && i + 1 < depth) {\n                affectedLayers.add(pickInfo.pickedLayer);\n                pickInfo.pickedLayer.disablePickingIndex(pickInfo.pickedObjectIndex);\n            }\n            // This logic needs to run even if no object is picked.\n            infos = processPickInfo({\n                pickInfo,\n                lastPickedInfo: this.lastPickedInfo,\n                mode,\n                layers: pickableLayers,\n                viewports,\n                x,\n                y,\n                z,\n                pixelRatio\n            });\n            for (const info of infos.values()) {\n                if (info.layer) {\n                    result.push(info);\n                }\n            }\n            // If no object is picked stop.\n            if (!pickInfo.pickedColor) {\n                break;\n            }\n        }\n        // reset only affected buffers\n        for (const layer of affectedLayers) {\n            layer.restorePickingColors();\n        }\n        return { result, emptyInfo: infos.get(null) };\n    }\n    /** Pick all objects within the given bounding box */\n    _pickVisibleObjects({ layers, views, viewports, x, y, width = 1, height = 1, mode = 'query', maxObjects = null, onViewportActive, effects }) {\n        const pickableLayers = this._getPickable(layers);\n        if (!pickableLayers || viewports.length === 0) {\n            return [];\n        }\n        this._resizeBuffer();\n        // Convert from canvas top-left to WebGL bottom-left coordinates\n        // And compensate for pixelRatio\n        // @ts-expect-error TODO - assuming WebGL context\n        const pixelRatio = this.device.canvasContext.cssToDeviceRatio();\n        // @ts-expect-error TODO - assuming WebGL context\n        const leftTop = this.device.canvasContext.cssToDevicePixels([x, y], true);\n        // take left and top (y inverted in device pixels) from start location\n        const deviceLeft = leftTop.x;\n        const deviceTop = leftTop.y + leftTop.height;\n        // take right and bottom (y inverted in device pixels) from end location\n        // @ts-expect-error TODO - assuming WebGL context\n        const rightBottom = this.device.canvasContext.cssToDevicePixels([x + width, y + height], true);\n        const deviceRight = rightBottom.x + rightBottom.width;\n        const deviceBottom = rightBottom.y;\n        const deviceRect = {\n            x: deviceLeft,\n            y: deviceBottom,\n            // deviceTop and deviceRight represent the first pixel outside the desired rect\n            width: deviceRight - deviceLeft,\n            height: deviceTop - deviceBottom\n        };\n        const pickedResult = this._drawAndSample({\n            layers: pickableLayers,\n            views,\n            viewports,\n            onViewportActive,\n            deviceRect,\n            cullRect: { x, y, width, height },\n            effects,\n            pass: `picking:${mode}`\n        });\n        const pickInfos = getUniqueObjects(pickedResult);\n        // `getUniqueObjects` dedup by picked color\n        // However different picked color may be linked to the same picked object, e.g. stroke and fill of the same polygon\n        // picked from different sub layers of a GeoJsonLayer\n        // Here after resolving the picked index with `layer.getPickingInfo`, we need to dedup again by unique picked objects\n        const uniquePickedObjects = new Map();\n        const uniqueInfos = [];\n        const limitMaxObjects = Number.isFinite(maxObjects);\n        for (let i = 0; i < pickInfos.length; i++) {\n            if (limitMaxObjects && uniqueInfos.length >= maxObjects) {\n                break;\n            }\n            const pickInfo = pickInfos[i];\n            let info = {\n                color: pickInfo.pickedColor,\n                layer: null,\n                index: pickInfo.pickedObjectIndex,\n                picked: true,\n                x,\n                y,\n                pixelRatio\n            };\n            info = getLayerPickingInfo({ layer: pickInfo.pickedLayer, info, mode });\n            // info.layer is always populated because it's a picked pixel\n            const pickedLayerId = info.layer.id;\n            if (!uniquePickedObjects.has(pickedLayerId)) {\n                uniquePickedObjects.set(pickedLayerId, new Set());\n            }\n            const uniqueObjectsInLayer = uniquePickedObjects.get(pickedLayerId);\n            // info.object may be null if the layer is using non-iterable data.\n            // Fall back to using index as identifier.\n            const pickedObjectKey = info.object ?? info.index;\n            if (!uniqueObjectsInLayer.has(pickedObjectKey)) {\n                uniqueObjectsInLayer.add(pickedObjectKey);\n                uniqueInfos.push(info);\n            }\n        }\n        return uniqueInfos;\n    }\n    _drawAndSample({ layers, views, viewports, onViewportActive, deviceRect, cullRect, effects, pass }, pickZ = false) {\n        const pickingFBO = pickZ ? this.depthFBO : this.pickingFBO;\n        const opts = {\n            layers,\n            layerFilter: this.layerFilter,\n            views,\n            viewports,\n            onViewportActive,\n            pickingFBO,\n            deviceRect,\n            cullRect,\n            effects,\n            pass,\n            pickZ,\n            preRenderStats: {},\n            isPicking: true\n        };\n        for (const effect of effects) {\n            if (effect.useInPicking) {\n                opts.preRenderStats[effect.id] = effect.preRender(opts);\n            }\n        }\n        const { decodePickingColor } = this.pickLayersPass.render(opts);\n        // Read from an already rendered picking buffer\n        // Returns an Uint8ClampedArray of picked pixels\n        const { x, y, width, height } = deviceRect;\n        const pickedColors = new (pickZ ? Float32Array : Uint8Array)(width * height * 4);\n        this.device.readPixelsToArrayWebGL(pickingFBO, {\n            sourceX: x,\n            sourceY: y,\n            sourceWidth: width,\n            sourceHeight: height,\n            target: pickedColors\n        });\n        return { pickedColors, decodePickingColor };\n    }\n    // Calculate a picking rect centered on deviceX and deviceY and clipped to device\n    // Returns null if pixel is outside of device\n    _getPickingRect({ deviceX, deviceY, deviceRadius, deviceWidth, deviceHeight }) {\n        // Create a box of size `radius * 2 + 1` centered at [deviceX, deviceY]\n        const x = Math.max(0, deviceX - deviceRadius);\n        const y = Math.max(0, deviceY - deviceRadius);\n        const width = Math.min(deviceWidth, deviceX + deviceRadius + 1) - x;\n        const height = Math.min(deviceHeight, deviceY + deviceRadius + 1) - y;\n        // x, y out of bounds.\n        if (width <= 0 || height <= 0) {\n            return null;\n        }\n        return { x, y, width, height };\n    }\n}\n//# sourceMappingURL=deck-picker.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { EVENT_HANDLERS } from \"./constants.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nconst PLACEMENTS = {\n    'top-left': { top: 0, left: 0 },\n    'top-right': { top: 0, right: 0 },\n    'bottom-left': { bottom: 0, left: 0 },\n    'bottom-right': { bottom: 0, right: 0 },\n    fill: { top: 0, left: 0, bottom: 0, right: 0 }\n};\nconst DEFAULT_PLACEMENT = 'top-left';\nconst ROOT_CONTAINER_ID = '__root';\nexport class WidgetManager {\n    constructor({ deck, parentElement }) {\n        /** Widgets added via the imperative API */\n        this.defaultWidgets = [];\n        /** Widgets received from the declarative API */\n        this.widgets = [];\n        /** Resolved widgets from both imperative and declarative APIs */\n        this.resolvedWidgets = [];\n        /** Mounted HTML containers */\n        this.containers = {};\n        /** Viewport provided to widget on redraw */\n        this.lastViewports = {};\n        this.deck = deck;\n        this.parentElement = parentElement;\n    }\n    getWidgets() {\n        return this.resolvedWidgets;\n    }\n    /** Declarative API to configure widgets */\n    setProps(props) {\n        if (props.widgets && !deepEqual(props.widgets, this.widgets, 1)) {\n            this._setWidgets(props.widgets);\n        }\n    }\n    finalize() {\n        for (const widget of this.getWidgets()) {\n            this._remove(widget);\n        }\n        this.defaultWidgets.length = 0;\n        this.resolvedWidgets.length = 0;\n        for (const id in this.containers) {\n            this.containers[id].remove();\n        }\n    }\n    /** Imperative API. Widgets added this way are not affected by the declarative prop. */\n    addDefault(widget) {\n        if (!this.defaultWidgets.find(w => w.id === widget.id)) {\n            this._add(widget);\n            this.defaultWidgets.push(widget);\n            // Update widget list\n            this._setWidgets(this.widgets);\n        }\n    }\n    /** Resolve widgets from the declarative prop */\n    _setWidgets(nextWidgets) {\n        const oldWidgetMap = {};\n        for (const widget of this.resolvedWidgets) {\n            oldWidgetMap[widget.id] = widget;\n        }\n        // Clear and rebuild the list\n        this.resolvedWidgets.length = 0;\n        // Add all default widgets\n        for (const widget of this.defaultWidgets) {\n            oldWidgetMap[widget.id] = null;\n            this.resolvedWidgets.push(widget);\n        }\n        for (let widget of nextWidgets) {\n            const oldWidget = oldWidgetMap[widget.id];\n            if (!oldWidget) {\n                // Widget is new\n                this._add(widget);\n            }\n            else if (\n            // Widget placement changed\n            oldWidget.viewId !== widget.viewId ||\n                oldWidget.placement !== widget.placement) {\n                this._remove(oldWidget);\n                this._add(widget);\n            }\n            else if (widget !== oldWidget) {\n                // Widget props changed\n                oldWidget.setProps(widget.props);\n                widget = oldWidget;\n            }\n            // mark as matched\n            oldWidgetMap[widget.id] = null;\n            this.resolvedWidgets.push(widget);\n        }\n        for (const id in oldWidgetMap) {\n            const oldWidget = oldWidgetMap[id];\n            if (oldWidget) {\n                // No longer exists\n                this._remove(oldWidget);\n            }\n        }\n        this.widgets = nextWidgets;\n    }\n    _add(widget) {\n        const { viewId = null, placement = DEFAULT_PLACEMENT } = widget;\n        const element = widget.onAdd({ deck: this.deck, viewId });\n        if (element) {\n            this._getContainer(viewId, placement).append(element);\n        }\n        widget._element = element;\n    }\n    _remove(widget) {\n        widget.onRemove?.();\n        if (widget._element) {\n            widget._element.remove();\n        }\n        widget._element = undefined;\n    }\n    /* global document */\n    _getContainer(viewId, placement) {\n        const containerId = viewId || ROOT_CONTAINER_ID;\n        let viewContainer = this.containers[containerId];\n        if (!viewContainer) {\n            viewContainer = document.createElement('div');\n            viewContainer.style.pointerEvents = 'none';\n            viewContainer.style.position = 'absolute';\n            viewContainer.style.overflow = 'hidden';\n            this.parentElement?.append(viewContainer);\n            this.containers[containerId] = viewContainer;\n        }\n        let container = viewContainer.querySelector(`.${placement}`);\n        if (!container) {\n            container = document.createElement('div');\n            container.className = placement;\n            container.style.position = 'absolute';\n            container.style.zIndex = '2';\n            Object.assign(container.style, PLACEMENTS[placement]);\n            viewContainer.append(container);\n        }\n        return container;\n    }\n    _updateContainers() {\n        const canvasWidth = this.deck.width;\n        const canvasHeight = this.deck.height;\n        for (const id in this.containers) {\n            const viewport = this.lastViewports[id] || null;\n            const visible = id === ROOT_CONTAINER_ID || viewport;\n            const container = this.containers[id];\n            if (visible) {\n                container.style.display = 'block';\n                // Align the container with the view\n                container.style.left = `${viewport ? viewport.x : 0}px`;\n                container.style.top = `${viewport ? viewport.y : 0}px`;\n                container.style.width = `${viewport ? viewport.width : canvasWidth}px`;\n                container.style.height = `${viewport ? viewport.height : canvasHeight}px`;\n            }\n            else {\n                container.style.display = 'none';\n            }\n        }\n    }\n    onRedraw({ viewports, layers }) {\n        const viewportsById = viewports.reduce((acc, v) => {\n            acc[v.id] = v;\n            return acc;\n        }, {});\n        for (const widget of this.getWidgets()) {\n            const { viewId } = widget;\n            if (viewId) {\n                // Attached to a specific view\n                const viewport = viewportsById[viewId];\n                if (viewport) {\n                    if (widget.onViewportChange) {\n                        widget.onViewportChange(viewport);\n                    }\n                    widget.onRedraw?.({ viewports: [viewport], layers });\n                }\n            }\n            else {\n                // Not attached to a specific view\n                if (widget.onViewportChange) {\n                    for (const viewport of viewports) {\n                        widget.onViewportChange(viewport);\n                    }\n                }\n                widget.onRedraw?.({ viewports, layers });\n            }\n        }\n        this.lastViewports = viewportsById;\n        this._updateContainers();\n    }\n    onHover(info, event) {\n        for (const widget of this.getWidgets()) {\n            const { viewId } = widget;\n            if (!viewId || viewId === info.viewport?.id) {\n                widget.onHover?.(info, event);\n            }\n        }\n    }\n    onEvent(info, event) {\n        const eventHandlerProp = EVENT_HANDLERS[event.type];\n        if (!eventHandlerProp) {\n            return;\n        }\n        for (const widget of this.getWidgets()) {\n            const { viewId } = widget;\n            if (!viewId || viewId === info.viewport?.id) {\n                widget[eventHandlerProp]?.(info, event);\n            }\n        }\n    }\n}\n//# sourceMappingURL=widget-manager.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/* global document */\nconst defaultStyle = {\n    zIndex: '1',\n    position: 'absolute',\n    pointerEvents: 'none',\n    color: '#a0a7b4',\n    backgroundColor: '#29323c',\n    padding: '10px',\n    top: '0',\n    left: '0',\n    display: 'none'\n};\nexport default class Tooltip {\n    constructor() {\n        this.id = 'default-tooltip';\n        this.placement = 'fill';\n        this.props = {};\n        this.isVisible = false;\n    }\n    onAdd({ deck }) {\n        const el = document.createElement('div');\n        el.className = 'deck-tooltip';\n        Object.assign(el.style, defaultStyle);\n        this.deck = deck;\n        this.element = el;\n        return el;\n    }\n    onRemove() {\n        this.deck = undefined;\n        this.element = undefined;\n    }\n    setProps() { }\n    onViewportChange(viewport) {\n        if (this.isVisible && viewport.id === this.lastViewport?.id && viewport !== this.lastViewport) {\n            // Camera has moved, clear tooltip\n            this.setTooltip(null);\n        }\n    }\n    onHover(info) {\n        const { deck } = this;\n        const getTooltip = deck && deck.props.getTooltip;\n        if (!getTooltip) {\n            return;\n        }\n        const displayInfo = getTooltip(info);\n        this.lastViewport = info.viewport;\n        this.setTooltip(displayInfo, info.x, info.y);\n    }\n    setTooltip(displayInfo, x, y) {\n        const el = this.element;\n        if (!el) {\n            return;\n        }\n        if (typeof displayInfo === 'string') {\n            el.innerText = displayInfo;\n        }\n        else if (!displayInfo) {\n            this.isVisible = false;\n            el.style.display = 'none';\n            return;\n        }\n        else {\n            if (displayInfo.text) {\n                el.innerText = displayInfo.text;\n            }\n            if (displayInfo.html) {\n                el.innerHTML = displayInfo.html;\n            }\n            if (displayInfo.className) {\n                el.className = displayInfo.className;\n            }\n        }\n        this.isVisible = true;\n        el.style.display = 'block';\n        el.style.transform = `translate(${x}px, ${y}px)`;\n        if (displayInfo && typeof displayInfo === 'object' && 'style' in displayInfo) {\n            Object.assign(el.style, displayInfo.style);\n        }\n    }\n}\n//# sourceMappingURL=tooltip.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nfunction isJSON(text) {\n    const firstChar = text[0];\n    const lastChar = text[text.length - 1];\n    return (firstChar === '{' && lastChar === '}') || (firstChar === '[' && lastChar === ']');\n}\n// A light weight version instead of @loaders.gl/json (stream processing etc.)\nexport default {\n    dataType: null,\n    batchType: null,\n    id: 'JSON',\n    name: 'JSON',\n    module: '',\n    version: '',\n    options: {},\n    extensions: ['json', 'geojson'],\n    mimeTypes: ['application/json', 'application/geo+json'],\n    testText: isJSON,\n    parseTextSync: JSON.parse\n};\n//# sourceMappingURL=json-loader.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { registerLoaders } from '@loaders.gl/core';\nimport { ImageLoader } from '@loaders.gl/images';\nimport log from \"../utils/log.js\";\nimport { register } from \"../debug/index.js\";\nimport jsonLoader from \"../utils/json-loader.js\";\nfunction checkVersion() {\n    // Version detection using typescript plugin.\n    // Fallback for tests and SSR since global variable is defined by esbuild.\n    const version = typeof \"9.1.2\" !== 'undefined'\n        ? \"9.1.2\" : globalThis.DECK_VERSION || 'untranspiled source';\n    // Note: a `deck` object not created by deck.gl may exist in the global scope\n    const existingVersion = globalThis.deck && globalThis.deck.VERSION;\n    if (existingVersion && existingVersion !== version) {\n        throw new Error(`deck.gl - multiple versions detected: ${existingVersion} vs ${version}`);\n    }\n    if (!existingVersion) {\n        log.log(1, `deck.gl ${version}`)();\n        globalThis.deck = {\n            ...globalThis.deck,\n            VERSION: version,\n            version,\n            log,\n            // experimental\n            _registerLoggers: register\n        };\n        registerLoaders([\n            jsonLoader,\n            // @ts-expect-error non-standard Loader format\n            [ImageLoader, { imagebitmap: { premultiplyAlpha: 'none' } }]\n        ]);\n    }\n    return version;\n}\nexport const VERSION = checkVersion();\n//# sourceMappingURL=init.js.map","// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { isBrowser } from '@probe.gl/env';\nimport { Device } from \"./device.js\";\nimport { lumaStats } from \"../utils/stats-manager.js\";\nimport { log } from \"../utils/log.js\";\nconst isPage = isBrowser() && typeof document !== 'undefined';\nconst isPageLoaded = () => isPage && document.readyState === 'complete';\nconst STARTUP_MESSAGE = 'set luma.log.level=1 (or higher) to trace rendering';\nconst ERROR_MESSAGE = 'No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.';\n/**\n * Entry point to the luma.gl GPU abstraction\n * Register WebGPU and/or WebGL adapters (controls application bundle size)\n * Run-time selection of the first available Device\n */\nexport class Luma {\n    static defaultProps = {\n        ...Device.defaultProps,\n        type: 'best-available',\n        adapters: undefined,\n        waitForPageLoad: true\n    };\n    /**\n     * Page load promise\n     * Get a 'lazy' promise that resolves when the DOM is loaded.\n     * @note Since there may be limitations on number of `load` event listeners,\n     * it is recommended avoid calling this function until actually needed.\n     * I.e. don't call it until you know that you will be looking up a string in the DOM.\n     */\n    static pageLoaded = getPageLoadPromise().then(() => {\n        log.probe(2, 'DOM is loaded')();\n    });\n    /** Global stats for all devices */\n    stats = lumaStats;\n    /**\n     * Global log\n     *\n     * Assign luma.log.level in console to control logging: \\\n     * 0: none, 1: minimal, 2: verbose, 3: attribute/uniforms, 4: gl logs\n     * luma.log.break[], set to gl funcs, luma.log.profile[] set to model names`;\n     */\n    log = log;\n    /** Version of luma.gl */\n    VERSION = \n    // Version detection using build plugin\n    // @ts-expect-error no-undef\n    typeof \"9.1.3\" !== 'undefined' ? \"9.1.3\" : 'running from source';\n    spector;\n    preregisteredAdapters = new Map();\n    constructor() {\n        if (globalThis.luma) {\n            if (globalThis.luma.VERSION !== this.VERSION) {\n                log.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)();\n                log.error(`'yarn why @luma.gl/core' can help identify the source of the conflict`)();\n                throw new Error(`luma.gl - multiple versions detected: see console log`);\n            }\n            log.error('This version of luma.gl has already been initialized')();\n        }\n        log.log(1, `${this.VERSION} - ${STARTUP_MESSAGE}`)();\n        globalThis.luma = this;\n    }\n    registerAdapters(adapters) {\n        for (const deviceClass of adapters) {\n            this.preregisteredAdapters.set(deviceClass.type, deviceClass);\n        }\n    }\n    /** Get type strings for supported Devices */\n    getSupportedAdapters(adapters = []) {\n        const adapterMap = this.getAdapterMap(adapters);\n        return Array.from(adapterMap)\n            .map(([, adapter]) => adapter)\n            .filter(adapter => adapter.isSupported?.())\n            .map(adapter => adapter.type);\n    }\n    /** Get type strings for best available Device */\n    getBestAvailableAdapter(adapters = []) {\n        const adapterMap = this.getAdapterMap(adapters);\n        if (adapterMap.get('webgpu')?.isSupported?.()) {\n            return 'webgpu';\n        }\n        if (adapterMap.get('webgl')?.isSupported?.()) {\n            return 'webgl';\n        }\n        return null;\n    }\n    setDefaultDeviceProps(props) {\n        Object.assign(Luma.defaultProps, props);\n    }\n    /** Creates a device. Asynchronously. */\n    async createDevice(props = {}) {\n        props = { ...Luma.defaultProps, ...props };\n        if (props.waitForPageLoad) {\n            // || props.createCanvasContext) {\n            await Luma.pageLoaded;\n        }\n        const adapterMap = this.getAdapterMap(props.adapters);\n        let type = props.type || '';\n        if (type === 'best-available') {\n            type = this.getBestAvailableAdapter(props.adapters) || type;\n        }\n        const adapters = this.getAdapterMap(props.adapters) || adapterMap;\n        const adapter = adapters.get(type);\n        const device = await adapter?.create?.(props);\n        if (device) {\n            return device;\n        }\n        throw new Error(ERROR_MESSAGE);\n    }\n    /** Attach to an existing GPU API handle (WebGL2RenderingContext or GPUDevice). */\n    async attachDevice(props) {\n        const adapters = this.getAdapterMap(props.adapters);\n        // WebGL\n        let type = '';\n        if (props.handle instanceof WebGL2RenderingContext) {\n            type = 'webgl';\n        }\n        if (props.createCanvasContext) {\n            await Luma.pageLoaded;\n        }\n        // TODO - WebGPU does not yet have a stable API\n        // if (props.handle instanceof GPUDevice) {\n        //   const WebGPUDevice = adapters.get('webgpu') as any;\n        //   if (WebGPUDevice) {\n        //     return (await WebGPUDevice.attach(props.handle)) as Device;\n        //   }\n        // }\n        // null\n        if (props.handle === null) {\n            type = 'unknown';\n        }\n        const adapter = adapters.get(type);\n        const device = await adapter?.attach?.(null);\n        if (device) {\n            return device;\n        }\n        throw new Error(ERROR_MESSAGE);\n    }\n    /**\n     * Override `HTMLCanvasContext.getCanvas()` to always create WebGL2 contexts with additional WebGL1 compatibility.\n     * Useful when attaching luma to a context from an external library does not support creating WebGL2 contexts.\n     */\n    enforceWebGL2(enforce = true, adapters = []) {\n        const adapterMap = this.getAdapterMap(adapters);\n        const webgl2Adapter = adapterMap.get('webgl');\n        if (!webgl2Adapter) {\n            log.warn('enforceWebGL2: webgl adapter not found')();\n        }\n        webgl2Adapter?.enforceWebGL2?.(enforce);\n    }\n    /** Convert a list of adapters to a map */\n    getAdapterMap(adapters = []) {\n        const map = new Map(this.preregisteredAdapters);\n        for (const adapter of adapters) {\n            map.set(adapter.type, adapter);\n        }\n        return map;\n    }\n    // DEPRECATED\n    /** @deprecated Use registerAdapters */\n    registerDevices(deviceClasses) {\n        log.warn('luma.registerDevices() is deprecated, use luma.registerAdapters() instead');\n        for (const deviceClass of deviceClasses) {\n            const adapter = deviceClass.adapter;\n            if (adapter) {\n                this.preregisteredAdapters.set(adapter.type, adapter);\n            }\n        }\n    }\n}\n/**\n * Entry point to the luma.gl GPU abstraction\n * Register WebGPU and/or WebGL adapters (controls application bundle size)\n * Run-time selection of the first available Device\n */\nexport const luma = new Luma();\n// HELPER FUNCTIONS\n/** Returns a promise that resolves when the page is loaded */\nfunction getPageLoadPromise() {\n    if (isPageLoaded() || typeof window === 'undefined') {\n        return Promise.resolve();\n    }\n    return new Promise(resolve => {\n        window.addEventListener('load', () => resolve());\n    });\n}\n//# sourceMappingURL=luma.js.map","// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/**\n * Create and attach devices for a specific backend.\n */\nexport class Adapter {\n}\n//# sourceMappingURL=adapter.js.map","// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n// Goal is to make WebGL2 contexts look like WebGL1\n// @note Partly inspired by with some older code from the `regl` library\n/* eslint-disable camelcase */\nimport { GL } from '@luma.gl/constants';\n// webgl1 extensions natively supported by webgl2\nconst WEBGL1_STATIC_EXTENSIONS = {\n    WEBGL_depth_texture: {\n        UNSIGNED_INT_24_8_WEBGL: 34042\n    },\n    OES_element_index_uint: {},\n    OES_texture_float: {},\n    OES_texture_half_float: {\n        // @ts-expect-error different numbers?\n        HALF_FLOAT_OES: 5131\n    },\n    EXT_color_buffer_float: {},\n    OES_standard_derivatives: {\n        FRAGMENT_SHADER_DERIVATIVE_HINT_OES: 35723\n    },\n    EXT_frag_depth: {},\n    EXT_blend_minmax: {\n        MIN_EXT: 32775,\n        MAX_EXT: 32776\n    },\n    EXT_shader_texture_lod: {}\n};\nconst getWEBGL_draw_buffers = (gl) => ({\n    drawBuffersWEBGL(buffers) {\n        return gl.drawBuffers(buffers);\n    },\n    COLOR_ATTACHMENT0_WEBGL: 36064,\n    COLOR_ATTACHMENT1_WEBGL: 36065,\n    COLOR_ATTACHMENT2_WEBGL: 36066,\n    COLOR_ATTACHMENT3_WEBGL: 36067\n}); // - too many fields\nconst getOES_vertex_array_object = (gl) => ({\n    VERTEX_ARRAY_BINDING_OES: 34229,\n    createVertexArrayOES() {\n        return gl.createVertexArray();\n    },\n    deleteVertexArrayOES(vertexArray) {\n        return gl.deleteVertexArray(vertexArray);\n    },\n    isVertexArrayOES(vertexArray) {\n        return gl.isVertexArray(vertexArray);\n    },\n    bindVertexArrayOES(vertexArray) {\n        return gl.bindVertexArray(vertexArray);\n    }\n});\nconst getANGLE_instanced_arrays = (gl) => ({\n    VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE: 0x88fe,\n    drawArraysInstancedANGLE(...args) {\n        return gl.drawArraysInstanced(...args);\n    },\n    drawElementsInstancedANGLE(...args) {\n        return gl.drawElementsInstanced(...args);\n    },\n    vertexAttribDivisorANGLE(...args) {\n        return gl.vertexAttribDivisor(...args);\n    }\n});\n/**\n * Make browser return WebGL2 contexts even if WebGL1 contexts are requested\n * @param enforce\n * @returns\n */\nexport function enforceWebGL2(enforce = true) {\n    const prototype = HTMLCanvasElement.prototype;\n    if (!enforce && prototype.originalGetContext) {\n        // Reset the original getContext function\n        prototype.getContext = prototype.originalGetContext;\n        prototype.originalGetContext = undefined;\n        return;\n    }\n    // Store the original getContext function\n    prototype.originalGetContext = prototype.getContext;\n    // Override the getContext function\n    prototype.getContext = function (contextId, options) {\n        // Attempt to force WebGL2 for all WebGL1 contexts\n        if (contextId === 'webgl' || contextId === 'experimental-webgl') {\n            const context = this.originalGetContext('webgl2', options);\n            // Work around test mocking\n            if (context instanceof HTMLElement) {\n                polyfillWebGL1Extensions(context);\n            }\n            return context;\n        }\n        // For any other type, return the original context\n        return this.originalGetContext(contextId, options);\n    };\n}\n/** Install WebGL1-only extensions on WebGL2 contexts */\nexport function polyfillWebGL1Extensions(gl) {\n    // Enable, to support float and half-float textures\n    gl.getExtension('EXT_color_buffer_float');\n    // WebGL1 extensions implemented using WebGL2 APIs\n    const boundExtensions = {\n        ...WEBGL1_STATIC_EXTENSIONS,\n        WEBGL_disjoint_timer_query: gl.getExtension('EXT_disjoint_timer_query_webgl2'),\n        WEBGL_draw_buffers: getWEBGL_draw_buffers(gl),\n        OES_vertex_array_object: getOES_vertex_array_object(gl),\n        ANGLE_instanced_arrays: getANGLE_instanced_arrays(gl)\n    };\n    // Override gl.getExtension\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const originalGetExtension = gl.getExtension;\n    gl.getExtension = function (extensionName) {\n        const ext = originalGetExtension.call(gl, extensionName);\n        if (ext) {\n            return ext;\n        }\n        // Injected extensions\n        if (extensionName in boundExtensions) {\n            return boundExtensions[extensionName];\n        }\n        return null;\n    };\n    // Override gl.getSupportedExtensions\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const originalGetSupportedExtensions = gl.getSupportedExtensions;\n    gl.getSupportedExtensions = function () {\n        const extensions = originalGetSupportedExtensions.apply(gl) || [];\n        return extensions?.concat(Object.keys(boundExtensions));\n    };\n}\n// Update unsized WebGL1 formats to sized WebGL2 formats\n// todo move to texture format file\n// export function getInternalFormat(gl: WebGL2RenderingContext, format: GL, type: GL): GL {\n//   // webgl2 texture formats\n//   // https://webgl2fundamentals.org/webgl/lessons/webgl-data-textures.html\n//   switch (format) {\n//     case GL.DEPTH_COMPONENT:\n//       return GL.DEPTH_COMPONENT24;\n//     case GL.DEPTH_STENCIL:\n//       return GL.DEPTH24_STENCIL8;\n//     case GL.RGBA:\n//       return type === GL.HALF_FLOAT ? GL.RGBA16F : GL.RGBA32F;\n//     case GL.RGB:\n//       return type === GL.HALF_FLOAT ? GL.RGB16F : GL.RGB32F;\n//     default:\n//       return format;\n//   }\n// }\n/*\n// texture type to update on the fly\nexport function getTextureType(gl: WebGL2RenderingContext, type: GL): GL {\n  if (type === HALF_FLOAT_OES) {\n    return GL.HALF_FLOAT;\n  }\n  return type;\n}\n\n  // And texImage2D to convert the internalFormat to webgl2.\n  const webgl2 = this;\n  const origTexImage = gl.texImage2D;\n  gl.texImage2D = function (target, miplevel, iformat, a, typeFor6, c, d, typeFor9, f) {\n    if (arguments.length == 6) {\n      var ifmt = webgl2.getInternalFormat(gl, iformat, typeFor6);\n      origTexImage.apply(gl, [target, miplevel, ifmt, a, webgl.getTextureType(gl, typeFor6), c]);\n    } else {\n      // arguments.length == 9\n      var ifmt = webgl2.getInternalFormat(gl, iformat, typeFor9);\n      origTexImage.apply(gl, [\n        target,\n        miplevel,\n        ifmt,\n        a,\n        typeFor6,\n        c,\n        d,\n        webgl2.getTextureType(gl, typeFor9),\n        f\n      ]);\n    }\n  };\n};\n*/\n//# sourceMappingURL=polyfill-webgl1-extensions.js.map","// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { Adapter, Device, log } from '@luma.gl/core';\nimport { WebGLDevice } from \"./webgl-device.js\";\nimport { enforceWebGL2 } from \"../context/polyfills/polyfill-webgl1-extensions.js\";\nimport { loadSpectorJS, DEFAULT_SPECTOR_PROPS } from \"../context/debug/spector.js\";\nimport { loadWebGLDeveloperTools } from \"../context/debug/webgl-developer-tools.js\";\nconst LOG_LEVEL = 1;\nexport class WebGLAdapter extends Adapter {\n    /** type of device's created by this adapter */\n    type = 'webgl';\n    constructor() {\n        super();\n        // Add spector default props to device default props, so that runtime settings are observed\n        Device.defaultProps = { ...Device.defaultProps, ...DEFAULT_SPECTOR_PROPS };\n        // @ts-ignore DEPRECATED For backwards compatibility luma.registerDevices\n        WebGLDevice.adapter = this;\n    }\n    /** Check if WebGL 2 is available */\n    isSupported() {\n        return typeof WebGL2RenderingContext !== 'undefined';\n    }\n    /** Force any created WebGL contexts to be WebGL2 contexts, polyfilled with WebGL1 extensions */\n    enforceWebGL2(enable) {\n        enforceWebGL2(enable);\n    }\n    /**\n     * Get a device instance from a GL context\n     * Creates a WebGLCanvasContext against the contexts canvas\n     * @note autoResize will be disabled, assuming that whoever created the external context will be handling resizes.\n     * @param gl\n     * @returns\n     */\n    async attach(gl) {\n        if (gl instanceof WebGLDevice) {\n            return gl;\n        }\n        // @ts-expect-error\n        if (gl?.device instanceof Device) {\n            // @ts-expect-error\n            return gl.device;\n        }\n        if (!isWebGL(gl)) {\n            throw new Error('Invalid WebGL2RenderingContext');\n        }\n        // We create a new device using the provided WebGL context and its canvas\n        // Assume that whoever created the external context will be handling resizes.\n        return new WebGLDevice({\n            _handle: gl,\n            createCanvasContext: { canvas: gl.canvas, autoResize: false }\n        });\n    }\n    async create(props = {}) {\n        log.groupCollapsed(LOG_LEVEL, 'WebGLDevice created')();\n        const promises = [];\n        // Load webgl and spector debug scripts from CDN if requested\n        if (props.debugWebGL || props.debug) {\n            promises.push(loadWebGLDeveloperTools());\n        }\n        if (props.debugSpectorJS) {\n            promises.push(loadSpectorJS(props));\n        }\n        // Wait for all the loads to settle before creating the context.\n        // The Device.create() functions are async, so in contrast to the constructor, we can `await` here.\n        const results = await Promise.allSettled(promises);\n        for (const result of results) {\n            if (result.status === 'rejected') {\n                log.error(`Failed to initialize debug libraries ${result.reason}`)();\n            }\n        }\n        const device = new WebGLDevice(props);\n        // Log some debug info about the newly created context\n        const message = `\\\n${device._reused ? 'Reusing' : 'Created'} device with WebGL2 ${device.debug ? 'debug ' : ''}context: \\\n${device.info.vendor}, ${device.info.renderer} for canvas: ${device.canvasContext.id}`;\n        log.probe(LOG_LEVEL, message)();\n        log.table(LOG_LEVEL, device.info)();\n        log.groupEnd(LOG_LEVEL)();\n        return device;\n    }\n}\n/** Check if supplied parameter is a WebGL2RenderingContext */\nfunction isWebGL(gl) {\n    if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n        return true;\n    }\n    // Look for debug contexts, headless gl etc\n    return Boolean(gl && Number.isFinite(gl._version));\n}\nexport const webgl2Adapter = new WebGLAdapter();\n//# sourceMappingURL=webgl-adapter.js.map","// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/* global window, setTimeout, clearTimeout */\n/** Node.js polyfill for requestAnimationFrame */\n// / <reference types=\"@types/node\" />\nexport function requestAnimationFramePolyfill(callback) {\n    return typeof window !== 'undefined' && window.requestAnimationFrame\n        ? window.requestAnimationFrame(callback)\n        : setTimeout(callback, 1000 / 60);\n}\n/** Node.js polyfill for cancelAnimationFrame */\nexport function cancelAnimationFramePolyfill(timerId) {\n    return typeof window !== 'undefined' && window.cancelAnimationFrame\n        ? window.cancelAnimationFrame(timerId)\n        : clearTimeout(timerId);\n}\n//# sourceMappingURL=request-animation-frame.js.map","// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { luma } from '@luma.gl/core';\nimport { requestAnimationFramePolyfill, cancelAnimationFramePolyfill } from \"./request-animation-frame.js\";\nimport { Stats } from '@probe.gl/stats';\nlet statIdCounter = 0;\nconst DEFAULT_ANIMATION_LOOP_PROPS = {\n    device: null,\n    onAddHTML: () => '',\n    onInitialize: async () => {\n        return null;\n    },\n    onRender: () => { },\n    onFinalize: () => { },\n    onError: error => console.error(error), // eslint-disable-line no-console\n    stats: luma.stats.get(`animation-loop-${statIdCounter++}`),\n    // view parameters\n    useDevicePixels: true,\n    autoResizeViewport: false,\n    autoResizeDrawingBuffer: false\n};\n/** Convenient animation loop */\nexport class AnimationLoop {\n    device = null;\n    canvas = null;\n    props;\n    animationProps = null;\n    timeline = null;\n    stats;\n    cpuTime;\n    gpuTime;\n    frameRate;\n    display;\n    needsRedraw = 'initialized';\n    _initialized = false;\n    _running = false;\n    _animationFrameId = null;\n    _nextFramePromise = null;\n    _resolveNextFrame = null;\n    _cpuStartTime = 0;\n    _error = null;\n    // _gpuTimeQuery: Query | null = null;\n    /*\n     * @param {HTMLCanvasElement} canvas - if provided, width and height will be passed to context\n     */\n    constructor(props) {\n        this.props = { ...DEFAULT_ANIMATION_LOOP_PROPS, ...props };\n        props = this.props;\n        if (!props.device) {\n            throw new Error('No device provided');\n        }\n        const { useDevicePixels = true } = this.props;\n        // state\n        this.stats = props.stats || new Stats({ id: 'animation-loop-stats' });\n        this.cpuTime = this.stats.get('CPU Time');\n        this.gpuTime = this.stats.get('GPU Time');\n        this.frameRate = this.stats.get('Frame Rate');\n        this.setProps({\n            autoResizeViewport: props.autoResizeViewport,\n            autoResizeDrawingBuffer: props.autoResizeDrawingBuffer,\n            useDevicePixels\n        });\n        // Bind methods\n        this.start = this.start.bind(this);\n        this.stop = this.stop.bind(this);\n        this._onMousemove = this._onMousemove.bind(this);\n        this._onMouseleave = this._onMouseleave.bind(this);\n    }\n    destroy() {\n        this.stop();\n        this._setDisplay(null);\n    }\n    /** @deprecated Use .destroy() */\n    delete() {\n        this.destroy();\n    }\n    setError(error) {\n        this.props.onError(error);\n        this._error = Error();\n        const canvas = this.device?.canvasContext?.canvas;\n        if (canvas instanceof HTMLCanvasElement) {\n            const errorDiv = document.createElement('h1');\n            errorDiv.innerHTML = error.message;\n            errorDiv.style.position = 'absolute';\n            errorDiv.style.top = '20%'; // left: 50%; transform: translate(-50%, -50%);';\n            errorDiv.style.left = '10px';\n            errorDiv.style.color = 'black';\n            errorDiv.style.backgroundColor = 'red';\n            document.body.appendChild(errorDiv);\n            // canvas.style.position = 'absolute';\n        }\n    }\n    /** Flags this animation loop as needing redraw */\n    setNeedsRedraw(reason) {\n        this.needsRedraw = this.needsRedraw || reason;\n        return this;\n    }\n    /** TODO - move these props to CanvasContext? */\n    setProps(props) {\n        if ('autoResizeViewport' in props) {\n            this.props.autoResizeViewport = props.autoResizeViewport || false;\n        }\n        if ('autoResizeDrawingBuffer' in props) {\n            this.props.autoResizeDrawingBuffer = props.autoResizeDrawingBuffer || false;\n        }\n        if ('useDevicePixels' in props) {\n            this.props.useDevicePixels = props.useDevicePixels || false;\n        }\n        return this;\n    }\n    /** Starts a render loop if not already running */\n    async start() {\n        if (this._running) {\n            return this;\n        }\n        this._running = true;\n        try {\n            let appContext;\n            if (!this._initialized) {\n                this._initialized = true;\n                // Create the WebGL context\n                await this._initDevice();\n                this._initialize();\n                // Note: onIntialize can return a promise (e.g. in case app needs to load resources)\n                await this.props.onInitialize(this._getAnimationProps());\n            }\n            // check that we haven't been stopped\n            if (!this._running) {\n                return null;\n            }\n            // Start the loop\n            if (appContext !== false) {\n                // cancel any pending renders to ensure only one loop can ever run\n                this._cancelAnimationFrame();\n                this._requestAnimationFrame();\n            }\n            return this;\n        }\n        catch (err) {\n            const error = err instanceof Error ? err : new Error('Unknown error');\n            this.props.onError(error);\n            // this._running = false; // TODO\n            throw error;\n        }\n    }\n    /** Stops a render loop if already running, finalizing */\n    stop() {\n        // console.debug(`Stopping ${this.constructor.name}`);\n        if (this._running) {\n            // call callback\n            // If stop is called immediately, we can end up in a state where props haven't been initialized...\n            if (this.animationProps && !this._error) {\n                this.props.onFinalize(this.animationProps);\n            }\n            this._cancelAnimationFrame();\n            this._nextFramePromise = null;\n            this._resolveNextFrame = null;\n            this._running = false;\n        }\n        return this;\n    }\n    /** Explicitly draw a frame */\n    redraw() {\n        if (this.device?.isLost || this._error) {\n            return this;\n        }\n        this._beginFrameTimers();\n        this._setupFrame();\n        this._updateAnimationProps();\n        this._renderFrame(this._getAnimationProps());\n        // clear needsRedraw flag\n        this._clearNeedsRedraw();\n        if (this._resolveNextFrame) {\n            this._resolveNextFrame(this);\n            this._nextFramePromise = null;\n            this._resolveNextFrame = null;\n        }\n        this._endFrameTimers();\n        return this;\n    }\n    /** Add a timeline, it will be automatically updated by the animation loop. */\n    attachTimeline(timeline) {\n        this.timeline = timeline;\n        return this.timeline;\n    }\n    /** Remove a timeline */\n    detachTimeline() {\n        this.timeline = null;\n    }\n    /** Wait until a render completes */\n    waitForRender() {\n        this.setNeedsRedraw('waitForRender');\n        if (!this._nextFramePromise) {\n            this._nextFramePromise = new Promise(resolve => {\n                this._resolveNextFrame = resolve;\n            });\n        }\n        return this._nextFramePromise;\n    }\n    /** TODO - should use device.deviceContext */\n    async toDataURL() {\n        this.setNeedsRedraw('toDataURL');\n        await this.waitForRender();\n        if (this.canvas instanceof HTMLCanvasElement) {\n            return this.canvas.toDataURL();\n        }\n        throw new Error('OffscreenCanvas');\n    }\n    // PRIVATE METHODS\n    _initialize() {\n        this._startEventHandling();\n        // Initialize the callback data\n        this._initializeAnimationProps();\n        this._updateAnimationProps();\n        // Default viewport setup, in case onInitialize wants to render\n        this._resizeCanvasDrawingBuffer();\n        this._resizeViewport();\n        // this._gpuTimeQuery = Query.isSupported(this.gl, ['timers']) ? new Query(this.gl) : null;\n    }\n    _setDisplay(display) {\n        if (this.display) {\n            this.display.destroy();\n            this.display.animationLoop = null;\n        }\n        // store animation loop on the display\n        if (display) {\n            display.animationLoop = this;\n        }\n        this.display = display;\n    }\n    _requestAnimationFrame() {\n        if (!this._running) {\n            return;\n        }\n        // VR display has a separate animation frame to sync with headset\n        // TODO WebVR API discontinued, replaced by WebXR: https://immersive-web.github.io/webxr/\n        // See https://developer.mozilla.org/en-US/docs/Web/API/VRDisplay/requestAnimationFrame\n        // if (this.display && this.display.requestAnimationFrame) {\n        //   this._animationFrameId = this.display.requestAnimationFrame(this._animationFrame.bind(this));\n        // }\n        this._animationFrameId = requestAnimationFramePolyfill(this._animationFrame.bind(this));\n    }\n    _cancelAnimationFrame() {\n        if (this._animationFrameId === null) {\n            return;\n        }\n        // VR display has a separate animation frame to sync with headset\n        // TODO WebVR API discontinued, replaced by WebXR: https://immersive-web.github.io/webxr/\n        // See https://developer.mozilla.org/en-US/docs/Web/API/VRDisplay/requestAnimationFrame\n        // if (this.display && this.display.cancelAnimationFramePolyfill) {\n        //   this.display.cancelAnimationFrame(this._animationFrameId);\n        // }\n        cancelAnimationFramePolyfill(this._animationFrameId);\n        this._animationFrameId = null;\n    }\n    _animationFrame() {\n        if (!this._running) {\n            return;\n        }\n        this.redraw();\n        this._requestAnimationFrame();\n    }\n    // Called on each frame, can be overridden to call onRender multiple times\n    // to support e.g. stereoscopic rendering\n    _renderFrame(animationProps) {\n        // Allow e.g. VR display to render multiple frames.\n        if (this.display) {\n            this.display._renderFrame(animationProps);\n            return;\n        }\n        // call callback\n        this.props.onRender(this._getAnimationProps());\n        // end callback\n        // Submit commands (necessary on WebGPU)\n        this.device?.submit();\n    }\n    _clearNeedsRedraw() {\n        this.needsRedraw = false;\n    }\n    _setupFrame() {\n        this._resizeCanvasDrawingBuffer();\n        this._resizeViewport();\n    }\n    // Initialize the  object that will be passed to app callbacks\n    _initializeAnimationProps() {\n        const canvas = this.device?.canvasContext?.canvas;\n        if (!this.device || !canvas) {\n            throw new Error('loop');\n        }\n        this.animationProps = {\n            animationLoop: this,\n            device: this.device,\n            canvas,\n            timeline: this.timeline,\n            // Initial values\n            useDevicePixels: this.props.useDevicePixels,\n            needsRedraw: false,\n            // Placeholders\n            width: 1,\n            height: 1,\n            aspect: 1,\n            // Animation props\n            time: 0,\n            startTime: Date.now(),\n            engineTime: 0,\n            tick: 0,\n            tock: 0,\n            // Experimental\n            _mousePosition: null // Event props\n        };\n    }\n    _getAnimationProps() {\n        if (!this.animationProps) {\n            throw new Error('animationProps');\n        }\n        return this.animationProps;\n    }\n    // Update the context object that will be passed to app callbacks\n    _updateAnimationProps() {\n        if (!this.animationProps) {\n            return;\n        }\n        // Can this be replaced with canvas context?\n        const { width, height, aspect } = this._getSizeAndAspect();\n        if (width !== this.animationProps.width || height !== this.animationProps.height) {\n            this.setNeedsRedraw('drawing buffer resized');\n        }\n        if (aspect !== this.animationProps.aspect) {\n            this.setNeedsRedraw('drawing buffer aspect changed');\n        }\n        this.animationProps.width = width;\n        this.animationProps.height = height;\n        this.animationProps.aspect = aspect;\n        this.animationProps.needsRedraw = this.needsRedraw;\n        // Update time properties\n        this.animationProps.engineTime = Date.now() - this.animationProps.startTime;\n        if (this.timeline) {\n            this.timeline.update(this.animationProps.engineTime);\n        }\n        this.animationProps.tick = Math.floor((this.animationProps.time / 1000) * 60);\n        this.animationProps.tock++;\n        // For back compatibility\n        this.animationProps.time = this.timeline\n            ? this.timeline.getTime()\n            : this.animationProps.engineTime;\n    }\n    /** Wait for supplied device */\n    async _initDevice() {\n        this.device = await this.props.device;\n        if (!this.device) {\n            throw new Error('No device provided');\n        }\n        this.canvas = this.device.canvasContext?.canvas || null;\n        // this._createInfoDiv();\n    }\n    _createInfoDiv() {\n        if (this.canvas && this.props.onAddHTML) {\n            const wrapperDiv = document.createElement('div');\n            document.body.appendChild(wrapperDiv);\n            wrapperDiv.style.position = 'relative';\n            const div = document.createElement('div');\n            div.style.position = 'absolute';\n            div.style.left = '10px';\n            div.style.bottom = '10px';\n            div.style.width = '300px';\n            div.style.background = 'white';\n            if (this.canvas instanceof HTMLCanvasElement) {\n                wrapperDiv.appendChild(this.canvas);\n            }\n            wrapperDiv.appendChild(div);\n            const html = this.props.onAddHTML(div);\n            if (html) {\n                div.innerHTML = html;\n            }\n        }\n    }\n    _getSizeAndAspect() {\n        if (!this.device) {\n            return { width: 1, height: 1, aspect: 1 };\n        }\n        // https://webglfundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html\n        const [width, height] = this.device?.canvasContext?.getPixelSize() || [1, 1];\n        // https://webglfundamentals.org/webgl/lessons/webgl-anti-patterns.html\n        let aspect = 1;\n        const canvas = this.device?.canvasContext?.canvas;\n        // @ts-expect-error\n        if (canvas && canvas.clientHeight) {\n            // @ts-expect-error\n            aspect = canvas.clientWidth / canvas.clientHeight;\n        }\n        else if (width > 0 && height > 0) {\n            aspect = width / height;\n        }\n        return { width, height, aspect };\n    }\n    /** Default viewport setup */\n    _resizeViewport() {\n        // TODO can we use canvas context to code this in a portable way?\n        // @ts-expect-error Expose on canvasContext\n        if (this.props.autoResizeViewport && this.device.gl) {\n            // @ts-expect-error Expose canvasContext\n            this.device.gl.viewport(0, 0, \n            // @ts-expect-error Expose canvasContext\n            this.device.gl.drawingBufferWidth, \n            // @ts-expect-error Expose canvasContext\n            this.device.gl.drawingBufferHeight);\n        }\n    }\n    /**\n     * Resize the render buffer of the canvas to match canvas client size\n     * Optionally multiplying with devicePixel ratio\n     */\n    _resizeCanvasDrawingBuffer() {\n        if (this.props.autoResizeDrawingBuffer) {\n            this.device?.canvasContext?.resize({ useDevicePixels: this.props.useDevicePixels });\n        }\n    }\n    _beginFrameTimers() {\n        this.frameRate.timeEnd();\n        this.frameRate.timeStart();\n        // Check if timer for last frame has completed.\n        // GPU timer results are never available in the same\n        // frame they are captured.\n        // if (\n        //   this._gpuTimeQuery &&\n        //   this._gpuTimeQuery.isResultAvailable() &&\n        //   !this._gpuTimeQuery.isTimerDisjoint()\n        // ) {\n        //   this.stats.get('GPU Time').addTime(this._gpuTimeQuery.getTimerMilliseconds());\n        // }\n        // if (this._gpuTimeQuery) {\n        //   // GPU time query start\n        //   this._gpuTimeQuery.beginTimeElapsedQuery();\n        // }\n        this.cpuTime.timeStart();\n    }\n    _endFrameTimers() {\n        this.cpuTime.timeEnd();\n        // if (this._gpuTimeQuery) {\n        //   // GPU time query end. Results will be available on next frame.\n        //   this._gpuTimeQuery.end();\n        // }\n    }\n    // Event handling\n    _startEventHandling() {\n        if (this.canvas) {\n            this.canvas.addEventListener('mousemove', this._onMousemove.bind(this));\n            this.canvas.addEventListener('mouseleave', this._onMouseleave.bind(this));\n        }\n    }\n    _onMousemove(event) {\n        if (event instanceof MouseEvent) {\n            this._getAnimationProps()._mousePosition = [event.offsetX, event.offsetY];\n        }\n    }\n    _onMouseleave(event) {\n        this._getAnimationProps()._mousePosition = null;\n    }\n}\n//# sourceMappingURL=animation-loop.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport LayerManager from \"./layer-manager.js\";\nimport ViewManager from \"./view-manager.js\";\nimport MapView from \"../views/map-view.js\";\nimport EffectManager from \"./effect-manager.js\";\nimport DeckRenderer from \"./deck-renderer.js\";\nimport DeckPicker from \"./deck-picker.js\";\nimport { WidgetManager } from \"./widget-manager.js\";\nimport Tooltip from \"./tooltip.js\";\nimport log from \"../utils/log.js\";\nimport { deepEqual } from \"../utils/deep-equal.js\";\nimport typedArrayManager from \"../utils/typed-array-manager.js\";\nimport { VERSION } from \"./init.js\";\nimport { luma } from '@luma.gl/core';\nimport { WebGLDevice, webgl2Adapter } from '@luma.gl/webgl';\nimport { Timeline } from '@luma.gl/engine';\nimport { AnimationLoop } from '@luma.gl/engine';\nimport { GL } from '@luma.gl/constants';\nimport { Stats } from '@probe.gl/stats';\nimport { EventManager } from 'mjolnir.js';\nimport assert from \"../utils/assert.js\";\nimport { EVENT_HANDLERS, RECOGNIZERS } from \"./constants.js\";\n/* global document */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() { }\nconst getCursor = ({ isDragging }) => (isDragging ? 'grabbing' : 'grab');\nconst defaultProps = {\n    id: '',\n    width: '100%',\n    height: '100%',\n    style: null,\n    viewState: null,\n    initialViewState: null,\n    pickingRadius: 0,\n    layerFilter: null,\n    parameters: {},\n    parent: null,\n    device: null,\n    deviceProps: { type: 'webgl' },\n    gl: null,\n    canvas: null,\n    layers: [],\n    effects: [],\n    views: null,\n    controller: null, // Rely on external controller, e.g. react-map-gl\n    useDevicePixels: true,\n    touchAction: 'none',\n    eventRecognizerOptions: {},\n    _framebuffer: null,\n    _animate: false,\n    _pickable: true,\n    _typedArrayManagerProps: {},\n    _customRender: null,\n    widgets: [],\n    onDeviceInitialized: noop,\n    onWebGLInitialized: noop,\n    onResize: noop,\n    onViewStateChange: noop,\n    onInteractionStateChange: noop,\n    onBeforeRender: noop,\n    onAfterRender: noop,\n    onLoad: noop,\n    onError: (error) => log.error(error.message, error.cause)(),\n    onHover: null,\n    onClick: null,\n    onDragStart: null,\n    onDrag: null,\n    onDragEnd: null,\n    _onMetrics: null,\n    getCursor,\n    getTooltip: null,\n    debug: false,\n    drawPickingColors: false\n};\n/* eslint-disable max-statements */\nclass Deck {\n    constructor(props) {\n        this.width = 0;\n        this.height = 0;\n        // Allows attaching arbitrary data to the instance\n        this.userData = {};\n        this.device = null;\n        this.canvas = null;\n        this.viewManager = null;\n        this.layerManager = null;\n        this.effectManager = null;\n        this.deckRenderer = null;\n        this.deckPicker = null;\n        this.eventManager = null;\n        this.widgetManager = null;\n        this.tooltip = null;\n        this.animationLoop = null;\n        this.cursorState = {\n            isHovering: false,\n            isDragging: false\n        };\n        this.stats = new Stats({ id: 'deck.gl' });\n        this.metrics = {\n            fps: 0,\n            setPropsTime: 0,\n            updateAttributesTime: 0,\n            framesRedrawn: 0,\n            pickTime: 0,\n            pickCount: 0,\n            gpuTime: 0,\n            gpuTimePerFrame: 0,\n            cpuTime: 0,\n            cpuTimePerFrame: 0,\n            bufferMemory: 0,\n            textureMemory: 0,\n            renderbufferMemory: 0,\n            gpuMemory: 0\n        };\n        this._metricsCounter = 0;\n        this._needsRedraw = 'Initial render';\n        this._pickRequest = {\n            mode: 'hover',\n            x: -1,\n            y: -1,\n            radius: 0,\n            event: null\n        };\n        /**\n         * Pick and store the object under the pointer on `pointerdown`.\n         * This object is reused for subsequent `onClick` and `onDrag*` callbacks.\n         */\n        this._lastPointerDownInfo = null;\n        // The `pointermove` event may fire multiple times in between two animation frames,\n        // it's a waste of time to run picking without rerender. Instead we save the last pick\n        // request and only do it once on the next animation frame.\n        /** Internal use only: event handler for pointerdown */\n        this._onPointerMove = (event) => {\n            const { _pickRequest } = this;\n            if (event.type === 'pointerleave') {\n                _pickRequest.x = -1;\n                _pickRequest.y = -1;\n                _pickRequest.radius = 0;\n            }\n            else if (event.leftButton || event.rightButton) {\n                // Do not trigger onHover callbacks if mouse button is down.\n                return;\n            }\n            else {\n                const pos = event.offsetCenter;\n                // Do not trigger callbacks when click/hover position is invalid. Doing so will cause a\n                // assertion error when attempting to unproject the position.\n                if (!pos) {\n                    return;\n                }\n                _pickRequest.x = pos.x;\n                _pickRequest.y = pos.y;\n                _pickRequest.radius = this.props.pickingRadius;\n            }\n            if (this.layerManager) {\n                this.layerManager.context.mousePosition = { x: _pickRequest.x, y: _pickRequest.y };\n            }\n            _pickRequest.event = event;\n        };\n        /** Internal use only: event handler for click & drag */\n        this._onEvent = (event) => {\n            const eventHandlerProp = EVENT_HANDLERS[event.type];\n            const pos = event.offsetCenter;\n            if (!eventHandlerProp || !pos || !this.layerManager) {\n                return;\n            }\n            // Reuse last picked object\n            const layers = this.layerManager.getLayers();\n            const info = this.deckPicker.getLastPickedObject({\n                x: pos.x,\n                y: pos.y,\n                layers,\n                viewports: this.getViewports(pos)\n            }, this._lastPointerDownInfo);\n            const { layer } = info;\n            const layerHandler = layer && (layer[eventHandlerProp] || layer.props[eventHandlerProp]);\n            const rootHandler = this.props[eventHandlerProp];\n            let handled = false;\n            if (layerHandler) {\n                handled = layerHandler.call(layer, info, event);\n            }\n            if (!handled) {\n                rootHandler?.(info, event);\n                this.widgetManager.onEvent(info, event);\n            }\n        };\n        /** Internal use only: evnet handler for pointerdown */\n        this._onPointerDown = (event) => {\n            const pos = event.offsetCenter;\n            const pickedInfo = this._pick('pickObject', 'pickObject Time', {\n                x: pos.x,\n                y: pos.y,\n                radius: this.props.pickingRadius\n            });\n            this._lastPointerDownInfo = pickedInfo.result[0] || pickedInfo.emptyInfo;\n        };\n        // @ts-ignore views\n        this.props = { ...defaultProps, ...props };\n        props = this.props;\n        if (props.viewState && props.initialViewState) {\n            log.warn('View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.')();\n        }\n        this.viewState = this.props.initialViewState;\n        // See if we already have a device\n        if (props.device) {\n            this.device = props.device;\n        }\n        let deviceOrPromise = this.device;\n        // Attach a new luma.gl device to a WebGL2 context if supplied\n        if (!deviceOrPromise && props.gl) {\n            if (props.gl instanceof WebGLRenderingContext) {\n                log.error('WebGL1 context not supported.')();\n            }\n            deviceOrPromise = webgl2Adapter.attach(props.gl);\n        }\n        // Create a new device\n        if (!deviceOrPromise) {\n            // Create the \"best\" device supported from the registered adapters\n            deviceOrPromise = luma.createDevice({\n                type: 'best-available',\n                // luma by default throws if a device is already attached\n                // asynchronous device creation could happen after finalize() is called\n                // TODO - createDevice should support AbortController?\n                _reuseDevices: true,\n                adapters: [webgl2Adapter],\n                ...props.deviceProps,\n                createCanvasContext: {\n                    canvas: this._createCanvas(props),\n                    useDevicePixels: this.props.useDevicePixels,\n                    // TODO v9.2 - replace AnimationLoop's `autoResizeDrawingBuffer` with CanvasContext's `autoResize`\n                    autoResize: false\n                }\n            });\n        }\n        this.animationLoop = this._createAnimationLoop(deviceOrPromise, props);\n        this.setProps(props);\n        // UNSAFE/experimental prop: only set at initialization to avoid performance hit\n        if (props._typedArrayManagerProps) {\n            typedArrayManager.setOptions(props._typedArrayManagerProps);\n        }\n        this.animationLoop.start();\n    }\n    /** Stop rendering and dispose all resources */\n    finalize() {\n        this.animationLoop?.stop();\n        this.animationLoop?.destroy();\n        this.animationLoop = null;\n        this._lastPointerDownInfo = null;\n        this.layerManager?.finalize();\n        this.layerManager = null;\n        this.viewManager?.finalize();\n        this.viewManager = null;\n        this.effectManager?.finalize();\n        this.effectManager = null;\n        this.deckRenderer?.finalize();\n        this.deckRenderer = null;\n        this.deckPicker?.finalize();\n        this.deckPicker = null;\n        this.eventManager?.destroy();\n        this.eventManager = null;\n        this.widgetManager?.finalize();\n        this.widgetManager = null;\n        if (!this.props.canvas && !this.props.device && !this.props.gl && this.canvas) {\n            // remove internally created canvas\n            this.canvas.parentElement?.removeChild(this.canvas);\n            this.canvas = null;\n        }\n    }\n    /** Partially update props */\n    setProps(props) {\n        this.stats.get('setProps Time').timeStart();\n        if ('onLayerHover' in props) {\n            log.removed('onLayerHover', 'onHover')();\n        }\n        if ('onLayerClick' in props) {\n            log.removed('onLayerClick', 'onClick')();\n        }\n        if (props.initialViewState &&\n            // depth = 3 when comparing viewStates: viewId.position.0\n            !deepEqual(this.props.initialViewState, props.initialViewState, 3)) {\n            // Overwrite internal view state\n            this.viewState = props.initialViewState;\n        }\n        // Merge with existing props\n        Object.assign(this.props, props);\n        // Update CSS size of canvas\n        this._setCanvasSize(this.props);\n        // We need to overwrite CSS style width and height with actual, numeric values\n        const resolvedProps = Object.create(this.props);\n        Object.assign(resolvedProps, {\n            views: this._getViews(),\n            width: this.width,\n            height: this.height,\n            viewState: this._getViewState()\n        });\n        // Update the animation loop\n        this.animationLoop?.setProps(resolvedProps);\n        // If initialized, update sub manager props\n        if (this.layerManager) {\n            this.viewManager.setProps(resolvedProps);\n            // Make sure that any new layer gets initialized with the current viewport\n            this.layerManager.activateViewport(this.getViewports()[0]);\n            this.layerManager.setProps(resolvedProps);\n            this.effectManager.setProps(resolvedProps);\n            this.deckRenderer.setProps(resolvedProps);\n            this.deckPicker.setProps(resolvedProps);\n            this.widgetManager.setProps(resolvedProps);\n        }\n        this.stats.get('setProps Time').timeEnd();\n    }\n    // Public API\n    /**\n     * Check if a redraw is needed\n     * @returns `false` or a string summarizing the redraw reason\n     */\n    needsRedraw(opts = { clearRedrawFlags: false }) {\n        if (!this.layerManager) {\n            // Not initialized or already finalized\n            return false;\n        }\n        if (this.props._animate) {\n            return 'Deck._animate';\n        }\n        let redraw = this._needsRedraw;\n        if (opts.clearRedrawFlags) {\n            this._needsRedraw = false;\n        }\n        const viewManagerNeedsRedraw = this.viewManager.needsRedraw(opts);\n        const layerManagerNeedsRedraw = this.layerManager.needsRedraw(opts);\n        const effectManagerNeedsRedraw = this.effectManager.needsRedraw(opts);\n        const deckRendererNeedsRedraw = this.deckRenderer.needsRedraw(opts);\n        redraw =\n            redraw ||\n                viewManagerNeedsRedraw ||\n                layerManagerNeedsRedraw ||\n                effectManagerNeedsRedraw ||\n                deckRendererNeedsRedraw;\n        return redraw;\n    }\n    /**\n     * Redraw the GL context\n     * @param reason If not provided, only redraw if deemed necessary. Otherwise redraw regardless of internal states.\n     * @returns\n     */\n    redraw(reason) {\n        if (!this.layerManager) {\n            // Not yet initialized\n            return;\n        }\n        // Check if we need to redraw\n        let redrawReason = this.needsRedraw({ clearRedrawFlags: true });\n        // User-supplied should take precedent, however the redraw flags get cleared regardless\n        redrawReason = reason || redrawReason;\n        if (!redrawReason) {\n            return;\n        }\n        this.stats.get('Redraw Count').incrementCount();\n        if (this.props._customRender) {\n            this.props._customRender(redrawReason);\n        }\n        else {\n            this._drawLayers(redrawReason);\n        }\n    }\n    /** Flag indicating that the Deck instance has initialized its resources and it's safe to call public methods. */\n    get isInitialized() {\n        return this.viewManager !== null;\n    }\n    /** Get a list of views that are currently rendered */\n    getViews() {\n        assert(this.viewManager);\n        return this.viewManager.views;\n    }\n    /** Get a list of viewports that are currently rendered.\n     * @param rect If provided, only returns viewports within the given bounding box.\n     */\n    getViewports(rect) {\n        assert(this.viewManager);\n        return this.viewManager.getViewports(rect);\n    }\n    /** Get the current canvas element. */\n    getCanvas() {\n        return this.canvas;\n    }\n    /** Query the object rendered on top at a given point */\n    pickObject(opts) {\n        const infos = this._pick('pickObject', 'pickObject Time', opts).result;\n        return infos.length ? infos[0] : null;\n    }\n    /* Query all rendered objects at a given point */\n    pickMultipleObjects(opts) {\n        opts.depth = opts.depth || 10;\n        return this._pick('pickObject', 'pickMultipleObjects Time', opts).result;\n    }\n    /* Query all objects rendered on top within a bounding box */\n    pickObjects(opts) {\n        return this._pick('pickObjects', 'pickObjects Time', opts);\n    }\n    /** Experimental\n     * Add a global resource for sharing among layers\n     */\n    _addResources(resources, forceUpdate = false) {\n        for (const id in resources) {\n            this.layerManager.resourceManager.add({ resourceId: id, data: resources[id], forceUpdate });\n        }\n    }\n    /** Experimental\n     * Remove a global resource\n     */\n    _removeResources(resourceIds) {\n        for (const id of resourceIds) {\n            this.layerManager.resourceManager.remove(id);\n        }\n    }\n    /** Experimental\n     * Register a default effect. Effects will be sorted by order, those with a low order will be rendered first\n     */\n    _addDefaultEffect(effect) {\n        this.effectManager.addDefaultEffect(effect);\n    }\n    _addDefaultShaderModule(module) {\n        this.layerManager.addDefaultShaderModule(module);\n    }\n    _removeDefaultShaderModule(module) {\n        this.layerManager?.removeDefaultShaderModule(module);\n    }\n    _pick(method, statKey, opts) {\n        assert(this.deckPicker);\n        const { stats } = this;\n        stats.get('Pick Count').incrementCount();\n        stats.get(statKey).timeStart();\n        const infos = this.deckPicker[method]({\n            // layerManager, viewManager and effectManager are always defined if deckPicker is\n            layers: this.layerManager.getLayers(opts),\n            views: this.viewManager.getViews(),\n            viewports: this.getViewports(opts),\n            onViewportActive: this.layerManager.activateViewport,\n            effects: this.effectManager.getEffects(),\n            ...opts\n        });\n        stats.get(statKey).timeEnd();\n        return infos;\n    }\n    /** Resolve props.canvas to element */\n    _createCanvas(props) {\n        let canvas = props.canvas;\n        // TODO EventManager should accept element id\n        if (typeof canvas === 'string') {\n            canvas = document.getElementById(canvas);\n            assert(canvas);\n        }\n        if (!canvas) {\n            canvas = document.createElement('canvas');\n            canvas.id = props.id || 'deckgl-overlay';\n            const parent = props.parent || document.body;\n            parent.appendChild(canvas);\n        }\n        Object.assign(canvas.style, props.style);\n        return canvas;\n    }\n    /** Updates canvas width and/or height, if provided as props */\n    _setCanvasSize(props) {\n        if (!this.canvas) {\n            return;\n        }\n        const { width, height } = props;\n        // Set size ONLY if props are being provided, otherwise let canvas be layouted freely\n        if (width || width === 0) {\n            const cssWidth = Number.isFinite(width) ? `${width}px` : width;\n            this.canvas.style.width = cssWidth;\n        }\n        if (height || height === 0) {\n            const cssHeight = Number.isFinite(height) ? `${height}px` : height;\n            // Note: position==='absolute' required for height 100% to work\n            this.canvas.style.position = props.style?.position || 'absolute';\n            this.canvas.style.height = cssHeight;\n        }\n    }\n    /** If canvas size has changed, reads out the new size and update */\n    _updateCanvasSize() {\n        const { canvas } = this;\n        if (!canvas) {\n            return;\n        }\n        // Fallback to width/height when clientWidth/clientHeight are undefined (OffscreenCanvas).\n        const newWidth = canvas.clientWidth ?? canvas.width;\n        const newHeight = canvas.clientHeight ?? canvas.height;\n        if (newWidth !== this.width || newHeight !== this.height) {\n            // @ts-expect-error private assign to read-only property\n            this.width = newWidth;\n            // @ts-expect-error private assign to read-only property\n            this.height = newHeight;\n            this.viewManager?.setProps({ width: newWidth, height: newHeight });\n            // Make sure that any new layer gets initialized with the current viewport\n            this.layerManager?.activateViewport(this.getViewports()[0]);\n            this.props.onResize({ width: newWidth, height: newHeight });\n        }\n    }\n    _createAnimationLoop(deviceOrPromise, props) {\n        const { \n        // width,\n        // height,\n        gl, \n        // debug,\n        onError, \n        // onBeforeRender,\n        // onAfterRender,\n        useDevicePixels } = props;\n        return new AnimationLoop({\n            device: deviceOrPromise,\n            useDevicePixels,\n            // TODO v9\n            autoResizeDrawingBuffer: !gl, // do not auto resize external context\n            autoResizeViewport: false,\n            // @ts-expect-error luma.gl needs to accept Promise<void> return value\n            onInitialize: context => this._setDevice(context.device),\n            onRender: this._onRenderFrame.bind(this),\n            // @ts-expect-error typing mismatch: AnimationLoop does not accept onError:null\n            onError\n            // onBeforeRender,\n            // onAfterRender,\n        });\n    }\n    // Get the most relevant view state: props.viewState, if supplied, shadows internal viewState\n    // TODO: For backwards compatibility ensure numeric width and height is added to the viewState\n    _getViewState() {\n        return this.props.viewState || this.viewState;\n    }\n    // Get the view descriptor list\n    _getViews() {\n        const { views } = this.props;\n        const normalizedViews = Array.isArray(views)\n            ? views\n            : // If null, default to a full screen map view port\n                views\n                    ? [views]\n                    : [new MapView({ id: 'default-view' })];\n        if (normalizedViews.length && this.props.controller) {\n            // Backward compatibility: support controller prop\n            normalizedViews[0].props.controller = this.props.controller;\n        }\n        return normalizedViews;\n    }\n    _onContextLost() {\n        const { onError } = this.props;\n        if (this.animationLoop && onError) {\n            onError(new Error('WebGL context is lost'));\n        }\n    }\n    /** Actually run picking */\n    _pickAndCallback() {\n        const { _pickRequest } = this;\n        if (_pickRequest.event) {\n            // Perform picking\n            const { result, emptyInfo } = this._pick('pickObject', 'pickObject Time', _pickRequest);\n            this.cursorState.isHovering = result.length > 0;\n            // There are 4 possible scenarios:\n            // result is [outInfo, pickedInfo] (moved from one pickable layer to another)\n            // result is [outInfo] (moved outside of a pickable layer)\n            // result is [pickedInfo] (moved into or over a pickable layer)\n            // result is [] (nothing is or was picked)\n            //\n            // `layer.props.onHover` should be called on all affected layers (out/over)\n            // `deck.props.onHover` should be called with the picked info if any, or empty info otherwise\n            // `deck.props.getTooltip` should be called with the picked info if any, or empty info otherwise\n            // Execute callbacks\n            let pickedInfo = emptyInfo;\n            let handled = false;\n            for (const info of result) {\n                pickedInfo = info;\n                handled = info.layer?.onHover(info, _pickRequest.event) || handled;\n            }\n            if (!handled) {\n                this.props.onHover?.(pickedInfo, _pickRequest.event);\n                this.widgetManager.onHover(pickedInfo, _pickRequest.event);\n            }\n            // Clear pending pickRequest\n            _pickRequest.event = null;\n        }\n    }\n    _updateCursor() {\n        const container = this.props.parent || this.canvas;\n        if (container) {\n            container.style.cursor = this.props.getCursor(this.cursorState);\n        }\n    }\n    _setDevice(device) {\n        this.device = device;\n        if (!this.animationLoop) {\n            // finalize() has been called\n            return;\n        }\n        // if external context...\n        if (!this.canvas) {\n            this.canvas = this.device.canvasContext?.canvas;\n            // TODO v9\n            // ts-expect-error - Currently luma.gl v9 does not expose these options\n            // All WebGLDevice contexts are instrumented, but it seems the device\n            // should have a method to start state tracking even if not enabled?\n            // instrumentGLContext(this.device.gl, {enable: true, copyState: true});\n        }\n        if (this.device instanceof WebGLDevice) {\n            this.device.setParametersWebGL({\n                blend: true,\n                blendFunc: [770, 771, 1, 771],\n                polygonOffsetFill: true,\n                depthTest: true,\n                depthFunc: 515\n            });\n        }\n        this.props.onDeviceInitialized(this.device);\n        if (this.device instanceof WebGLDevice) {\n            // Legacy callback - warn?\n            this.props.onWebGLInitialized(this.device.gl);\n        }\n        // timeline for transitions\n        const timeline = new Timeline();\n        timeline.play();\n        this.animationLoop.attachTimeline(timeline);\n        this.eventManager = new EventManager(this.props.parent || this.canvas, {\n            touchAction: this.props.touchAction,\n            recognizers: Object.keys(RECOGNIZERS).map((eventName) => {\n                // Resolve recognizer settings\n                const [RecognizerConstructor, defaultOptions, recognizeWith, requestFailure] = RECOGNIZERS[eventName];\n                const optionsOverride = this.props.eventRecognizerOptions?.[eventName];\n                const options = { ...defaultOptions, ...optionsOverride, event: eventName };\n                return {\n                    recognizer: new RecognizerConstructor(options),\n                    recognizeWith,\n                    requestFailure\n                };\n            }),\n            events: {\n                pointerdown: this._onPointerDown,\n                pointermove: this._onPointerMove,\n                pointerleave: this._onPointerMove\n            }\n        });\n        for (const eventType in EVENT_HANDLERS) {\n            this.eventManager.on(eventType, this._onEvent);\n        }\n        this.viewManager = new ViewManager({\n            timeline,\n            eventManager: this.eventManager,\n            onViewStateChange: this._onViewStateChange.bind(this),\n            onInteractionStateChange: this._onInteractionStateChange.bind(this),\n            views: this._getViews(),\n            viewState: this._getViewState(),\n            width: this.width,\n            height: this.height\n        });\n        // viewManager must be initialized before layerManager\n        // layerManager depends on viewport created by viewManager.\n        const viewport = this.viewManager.getViewports()[0];\n        // Note: avoid React setState due GL animation loop / setState timing issue\n        this.layerManager = new LayerManager(this.device, {\n            deck: this,\n            stats: this.stats,\n            viewport,\n            timeline\n        });\n        this.effectManager = new EffectManager({\n            deck: this,\n            device: this.device\n        });\n        this.deckRenderer = new DeckRenderer(this.device);\n        this.deckPicker = new DeckPicker(this.device);\n        this.widgetManager = new WidgetManager({\n            deck: this,\n            parentElement: this.canvas?.parentElement\n        });\n        this.widgetManager.addDefault(new Tooltip());\n        this.setProps(this.props);\n        this._updateCanvasSize();\n        this.props.onLoad();\n    }\n    /** Internal only: default render function (redraw all layers and views) */\n    _drawLayers(redrawReason, renderOptions) {\n        const { device, gl } = this.layerManager.context;\n        this.props.onBeforeRender({ device, gl });\n        const opts = {\n            target: this.props._framebuffer,\n            layers: this.layerManager.getLayers(),\n            viewports: this.viewManager.getViewports(),\n            onViewportActive: this.layerManager.activateViewport,\n            views: this.viewManager.getViews(),\n            pass: 'screen',\n            effects: this.effectManager.getEffects(),\n            ...renderOptions\n        };\n        this.deckRenderer?.renderLayers(opts);\n        if (opts.pass === 'screen') {\n            // This method could be called when drawing to picking buffer, texture etc.\n            // Only when drawing to screen, update all widgets (UI components)\n            this.widgetManager.onRedraw({\n                viewports: opts.viewports,\n                layers: opts.layers\n            });\n        }\n        this.props.onAfterRender({ device, gl });\n    }\n    // Callbacks\n    _onRenderFrame() {\n        this._getFrameStats();\n        // Log perf stats every second\n        if (this._metricsCounter++ % 60 === 0) {\n            this._getMetrics();\n            this.stats.reset();\n            log.table(4, this.metrics)();\n            // Experimental: report metrics\n            if (this.props._onMetrics) {\n                this.props._onMetrics(this.metrics);\n            }\n        }\n        this._updateCanvasSize();\n        this._updateCursor();\n        // Update layers if needed (e.g. some async prop has loaded)\n        // Note: This can trigger a redraw\n        this.layerManager.updateLayers();\n        // Perform picking request if any\n        this._pickAndCallback();\n        // Redraw if necessary\n        this.redraw();\n        // Update viewport transition if needed\n        // Note: this can trigger `onViewStateChange`, and affect layers\n        // We want to defer these changes to the next frame\n        if (this.viewManager) {\n            this.viewManager.updateViewStates();\n        }\n    }\n    // Callbacks\n    _onViewStateChange(params) {\n        // Let app know that view state is changing, and give it a chance to change it\n        const viewState = this.props.onViewStateChange(params) || params.viewState;\n        // If initialViewState was set on creation, auto track position\n        if (this.viewState) {\n            this.viewState = { ...this.viewState, [params.viewId]: viewState };\n            if (!this.props.viewState) {\n                // Apply internal view state\n                if (this.viewManager) {\n                    this.viewManager.setProps({ viewState: this.viewState });\n                }\n            }\n        }\n    }\n    _onInteractionStateChange(interactionState) {\n        this.cursorState.isDragging = interactionState.isDragging || false;\n        this.props.onInteractionStateChange(interactionState);\n    }\n    _getFrameStats() {\n        const { stats } = this;\n        stats.get('frameRate').timeEnd();\n        stats.get('frameRate').timeStart();\n        // Get individual stats from luma.gl so reset works\n        const animationLoopStats = this.animationLoop.stats;\n        stats.get('GPU Time').addTime(animationLoopStats.get('GPU Time').lastTiming);\n        stats.get('CPU Time').addTime(animationLoopStats.get('CPU Time').lastTiming);\n    }\n    _getMetrics() {\n        const { metrics, stats } = this;\n        metrics.fps = stats.get('frameRate').getHz();\n        metrics.setPropsTime = stats.get('setProps Time').time;\n        metrics.updateAttributesTime = stats.get('Update Attributes').time;\n        metrics.framesRedrawn = stats.get('Redraw Count').count;\n        metrics.pickTime =\n            stats.get('pickObject Time').time +\n                stats.get('pickMultipleObjects Time').time +\n                stats.get('pickObjects Time').time;\n        metrics.pickCount = stats.get('Pick Count').count;\n        // Luma stats\n        metrics.gpuTime = stats.get('GPU Time').time;\n        metrics.cpuTime = stats.get('CPU Time').time;\n        metrics.gpuTimePerFrame = stats.get('GPU Time').getAverageTime();\n        metrics.cpuTimePerFrame = stats.get('CPU Time').getAverageTime();\n        const memoryStats = luma.stats.get('Memory Usage');\n        metrics.bufferMemory = memoryStats.get('Buffer Memory').count;\n        metrics.textureMemory = memoryStats.get('Texture Memory').count;\n        metrics.renderbufferMemory = memoryStats.get('Renderbuffer Memory').count;\n        metrics.gpuMemory = memoryStats.get('GPU Memory').count;\n    }\n}\nDeck.defaultProps = defaultProps;\n// This is used to defeat tree shaking of init.js\n// https://github.com/visgl/deck.gl/issues/3213\nDeck.VERSION = VERSION;\nexport default Deck;\n//# sourceMappingURL=deck.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { clamp } from '@math.gl/core';\nimport Controller from \"./controller.js\";\nimport { MapState } from \"./map-controller.js\";\nimport { mod } from \"../utils/math-utils.js\";\nimport LinearInterpolator from \"../transitions/linear-interpolator.js\";\nimport { MAX_LATITUDE } from '@math.gl/web-mercator';\nclass GlobeState extends MapState {\n    // Apply any constraints (mathematical or defined by _viewportProps) to map state\n    applyConstraints(props) {\n        // Ensure zoom is within specified range\n        const { maxZoom, minZoom, zoom } = props;\n        props.zoom = clamp(zoom, minZoom, maxZoom);\n        const { longitude, latitude } = props;\n        if (longitude < -180 || longitude > 180) {\n            props.longitude = mod(longitude + 180, 360) - 180;\n        }\n        props.latitude = clamp(latitude, -MAX_LATITUDE, MAX_LATITUDE);\n        return props;\n    }\n}\nexport default class GlobeController extends Controller {\n    constructor() {\n        super(...arguments);\n        this.ControllerState = GlobeState;\n        this.transition = {\n            transitionDuration: 300,\n            transitionInterpolator: new LinearInterpolator(['longitude', 'latitude', 'zoom'])\n        };\n        this.dragMode = 'pan';\n    }\n    setProps(props) {\n        super.setProps(props);\n        // TODO - support pitching?\n        this.dragRotate = false;\n        this.touchRotate = false;\n    }\n}\n//# sourceMappingURL=globe-controller.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport View from \"./view.js\";\nimport GlobeViewport from \"../viewports/globe-viewport.js\";\nimport WebMercatorViewport from \"../viewports/web-mercator-viewport.js\";\nimport GlobeController from \"../controllers/globe-controller.js\";\nclass GlobeView extends View {\n    constructor(props = {}) {\n        super(props);\n    }\n    getViewportType(viewState) {\n        return viewState.zoom > 12 ? WebMercatorViewport : GlobeViewport;\n    }\n    get ControllerType() {\n        return GlobeController;\n    }\n}\nGlobeView.displayName = 'GlobeView';\nexport default GlobeView;\n//# sourceMappingURL=globe-view.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { Deck, MapView, _GlobeView as GlobeView, _flatten as flatten } from '@deck.gl/core';\nimport { lngLatToWorld, unitsPerMeter } from '@math.gl/web-mercator';\n// Mercator constants\nconst TILE_SIZE = 512;\nconst DEGREES_TO_RADIANS = Math.PI / 180;\n// Create an interleaved deck instance.\nexport function getDeckInstance({ map, gl, deck }) {\n    // Only create one deck instance per context\n    if (map.__deck) {\n        return map.__deck;\n    }\n    // Only initialize certain props once per context\n    const customRender = deck?.props._customRender;\n    const onLoad = deck?.props.onLoad;\n    const deckProps = {\n        ...deck?.props,\n        _customRender: () => {\n            map.triggerRepaint();\n            // customRender may be subscribed by DeckGL React component to update child props\n            // make sure it is still called\n            // Hack - do not pass a redraw reason here to prevent the React component from clearing the context\n            // Rerender will be triggered by MapboxLayer's render()\n            customRender?.('');\n        }\n    };\n    deckProps.parameters = { ...getDefaultParameters(map, true), ...deckProps.parameters };\n    deckProps.views || (deckProps.views = getDefaultView(map));\n    let deckInstance;\n    if (!deck || deck.props.gl === gl) {\n        // If deck isn't defined (Internal MapboxLayer use case),\n        // or if deck is defined and is using the WebGLContext created by mapbox (MapboxOverlay and External MapboxLayer use case),\n        // block deck from setting the canvas size, and use the map's viewState to drive deck.\n        // Otherwise, we use deck's viewState to drive the map.\n        Object.assign(deckProps, {\n            gl,\n            width: null,\n            height: null,\n            touchAction: 'unset',\n            viewState: getViewState(map)\n        });\n        if (deck?.isInitialized) {\n            watchMapMove(deck, map);\n        }\n        else {\n            deckProps.onLoad = () => {\n                onLoad?.();\n                watchMapMove(deckInstance, map);\n            };\n        }\n    }\n    if (deck) {\n        deckInstance = deck;\n        deck.setProps(deckProps);\n        deck.userData.isExternal = true;\n    }\n    else {\n        deckInstance = new Deck(deckProps);\n        map.on('remove', () => {\n            removeDeckInstance(map);\n        });\n    }\n    deckInstance.userData.mapboxLayers = new Set();\n    // (deckInstance.userData as UserData).mapboxVersion = getMapboxVersion(map);\n    map.__deck = deckInstance;\n    map.on('render', () => {\n        if (deckInstance.isInitialized)\n            afterRender(deckInstance, map);\n    });\n    return deckInstance;\n}\nfunction watchMapMove(deck, map) {\n    const _handleMapMove = () => {\n        if (deck.isInitialized) {\n            // call view state methods\n            onMapMove(deck, map);\n        }\n        else {\n            // deregister itself when deck is finalized\n            map.off('move', _handleMapMove);\n        }\n    };\n    map.on('move', _handleMapMove);\n}\nexport function removeDeckInstance(map) {\n    map.__deck?.finalize();\n    map.__deck = null;\n}\nexport function getDefaultParameters(map, interleaved) {\n    const result = interleaved\n        ? {\n            depthWriteEnabled: true,\n            depthCompare: 'less-equal',\n            depthBias: 0,\n            blend: true,\n            blendColorSrcFactor: 'src-alpha',\n            blendColorDstFactor: 'one-minus-src-alpha',\n            blendAlphaSrcFactor: 'one',\n            blendAlphaDstFactor: 'one-minus-src-alpha',\n            blendColorOperation: 'add',\n            blendAlphaOperation: 'add'\n        }\n        : {};\n    if (getProjection(map) === 'globe') {\n        result.cullMode = 'back';\n    }\n    return result;\n}\nexport function addLayer(deck, layer) {\n    deck.userData.mapboxLayers.add(layer);\n    updateLayers(deck);\n}\nexport function removeLayer(deck, layer) {\n    deck.userData.mapboxLayers.delete(layer);\n    updateLayers(deck);\n}\nexport function updateLayer(deck, layer) {\n    updateLayers(deck);\n}\nexport function drawLayer(deck, map, layer, renderParameters) {\n    let { currentViewport } = deck.userData;\n    let clearStack = false;\n    if (!currentViewport) {\n        // This is the first layer drawn in this render cycle.\n        // Generate viewport from the current map state.\n        currentViewport = getViewport(deck, map, renderParameters);\n        deck.userData.currentViewport = currentViewport;\n        clearStack = true;\n    }\n    if (!deck.isInitialized) {\n        return;\n    }\n    deck._drawLayers('mapbox-repaint', {\n        viewports: [currentViewport],\n        layerFilter: ({ layer: deckLayer }) => layer.id === deckLayer.id || deckLayer.props.operation.includes('terrain'),\n        clearStack,\n        clearCanvas: false\n    });\n}\nfunction getProjection(map) {\n    const projection = map.getProjection?.();\n    const type = \n    // maplibre projection spec\n    projection?.type ||\n        // mapbox projection spec\n        projection?.name;\n    if (type === 'globe') {\n        return 'globe';\n    }\n    if (type && type !== 'mercator') {\n        throw new Error('Unsupported projection');\n    }\n    return 'mercator';\n}\nexport function getDefaultView(map) {\n    if (getProjection(map) === 'globe') {\n        return new GlobeView({ id: 'mapbox' });\n    }\n    return new MapView({ id: 'mapbox' });\n}\nexport function getViewState(map) {\n    const { lng, lat } = map.getCenter();\n    const viewState = {\n        // Longitude returned by getCenter can be outside of [-180, 180] when zooming near the anti meridian\n        // https://github.com/visgl/deck.gl/issues/6894\n        longitude: ((lng + 540) % 360) - 180,\n        latitude: lat,\n        zoom: map.getZoom(),\n        bearing: map.getBearing(),\n        pitch: map.getPitch(),\n        padding: map.getPadding(),\n        repeat: map.getRenderWorldCopies()\n    };\n    if (map.getTerrain?.()) {\n        // When the base map has terrain, we need to target the camera at the terrain surface\n        centerCameraOnTerrain(map, viewState);\n    }\n    return viewState;\n}\nfunction centerCameraOnTerrain(map, viewState) {\n    if (map.getFreeCameraOptions) {\n        // mapbox-gl v2\n        const { position } = map.getFreeCameraOptions();\n        if (!position || position.z === undefined) {\n            return;\n        }\n        // @ts-ignore transform is not typed\n        const height = map.transform.height;\n        const { longitude, latitude, pitch } = viewState;\n        // Convert mapbox mercator coordinate to deck common space\n        const cameraX = position.x * TILE_SIZE;\n        const cameraY = (1 - position.y) * TILE_SIZE;\n        const cameraZ = position.z * TILE_SIZE;\n        // Mapbox manipulates zoom in terrain mode, see discussion here: https://github.com/mapbox/mapbox-gl-js/issues/12040\n        const center = lngLatToWorld([longitude, latitude]);\n        const dx = cameraX - center[0];\n        const dy = cameraY - center[1];\n        const cameraToCenterDistanceGround = Math.sqrt(dx * dx + dy * dy);\n        const pitchRadians = pitch * DEGREES_TO_RADIANS;\n        const altitudePixels = 1.5 * height;\n        const scale = pitchRadians < 0.001\n            ? // Pitch angle too small to deduce the look at point, assume elevation is 0\n                (altitudePixels * Math.cos(pitchRadians)) / cameraZ\n            : (altitudePixels * Math.sin(pitchRadians)) / cameraToCenterDistanceGround;\n        viewState.zoom = Math.log2(scale);\n        const cameraZFromSurface = (altitudePixels * Math.cos(pitchRadians)) / scale;\n        const surfaceElevation = cameraZ - cameraZFromSurface;\n        viewState.position = [0, 0, surfaceElevation / unitsPerMeter(latitude)];\n    }\n    // @ts-ignore transform is not typed\n    else if (typeof map.transform.elevation === 'number') {\n        // maplibre-gl\n        // @ts-ignore transform is not typed\n        viewState.position = [0, 0, map.transform.elevation];\n    }\n}\nfunction getViewport(deck, map, renderParameters) {\n    const viewState = getViewState(map);\n    const view = getDefaultView(map);\n    if (renderParameters) {\n        // Called from MapboxLayer.render\n        // Magic number, matches mapbox-gl@>=1.3.0's projection matrix\n        view.props.nearZMultiplier = 0.2;\n    }\n    // Get the base map near/far plane\n    // renderParameters is maplibre API but not mapbox\n    // Transform is not an official API, properties could be undefined for older versions\n    const nearZ = renderParameters?.nearZ ?? map.transform._nearZ;\n    const farZ = renderParameters?.farZ ?? map.transform._farZ;\n    if (Number.isFinite(nearZ)) {\n        viewState.nearZ = nearZ / map.transform.height;\n        viewState.farZ = farZ / map.transform.height;\n    }\n    // Otherwise fallback to default calculation using nearZMultiplier/farZMultiplier\n    return view.makeViewport({\n        width: deck.width,\n        height: deck.height,\n        viewState\n    });\n}\nfunction afterRender(deck, map) {\n    const { mapboxLayers, isExternal } = deck.userData;\n    if (isExternal) {\n        // Draw non-Mapbox layers\n        const mapboxLayerIds = Array.from(mapboxLayers, layer => layer.id);\n        const deckLayers = flatten(deck.props.layers, Boolean);\n        const hasNonMapboxLayers = deckLayers.some(layer => layer && !mapboxLayerIds.includes(layer.id));\n        let viewports = deck.getViewports();\n        const mapboxViewportIdx = viewports.findIndex(vp => vp.id === 'mapbox');\n        const hasNonMapboxViews = viewports.length > 1 || mapboxViewportIdx < 0;\n        if (hasNonMapboxLayers || hasNonMapboxViews) {\n            if (mapboxViewportIdx >= 0) {\n                viewports = viewports.slice();\n                viewports[mapboxViewportIdx] = getViewport(deck, map);\n            }\n            deck._drawLayers('mapbox-repaint', {\n                viewports,\n                layerFilter: params => (!deck.props.layerFilter || deck.props.layerFilter(params)) &&\n                    (params.viewport.id !== 'mapbox' || !mapboxLayerIds.includes(params.layer.id)),\n                clearCanvas: false\n            });\n        }\n    }\n    // End of render cycle, clear generated viewport\n    deck.userData.currentViewport = null;\n}\nfunction onMapMove(deck, map) {\n    deck.setProps({\n        viewState: getViewState(map)\n    });\n    // Camera changed, will trigger a map repaint right after this\n    // Clear any change flag triggered by setting viewState so that deck does not request\n    // a second repaint\n    deck.needsRedraw({ clearRedrawFlags: true });\n}\nfunction updateLayers(deck) {\n    if (deck.userData.isExternal) {\n        return;\n    }\n    const layers = [];\n    deck.userData.mapboxLayers.forEach(deckLayer => {\n        const LayerType = deckLayer.props.type;\n        const layer = new LayerType(deckLayer.props);\n        layers.push(layer);\n    });\n    deck.setProps({ layers });\n}\n//# sourceMappingURL=deck-utils.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { getDeckInstance, addLayer, removeLayer, updateLayer, drawLayer } from \"./deck-utils.js\";\nexport default class MapboxLayer {\n    /* eslint-disable no-this-before-super */\n    constructor(props) {\n        if (!props.id) {\n            throw new Error('Layer must have an unique id');\n        }\n        this.id = props.id;\n        this.type = 'custom';\n        this.renderingMode = props.renderingMode || '3d';\n        this.map = null;\n        this.deck = null;\n        this.props = props;\n    }\n    /* Mapbox custom layer methods */\n    onAdd(map, gl) {\n        this.map = map;\n        this.deck = getDeckInstance({ map, gl, deck: this.props.deck });\n        addLayer(this.deck, this);\n    }\n    onRemove() {\n        if (this.deck) {\n            removeLayer(this.deck, this);\n        }\n    }\n    setProps(props) {\n        // id cannot be changed\n        Object.assign(this.props, props, { id: this.id });\n        // safe guard in case setProps is called before onAdd\n        if (this.deck) {\n            updateLayer(this.deck, this);\n        }\n    }\n    render(gl, renderParameters) {\n        drawLayer(this.deck, this.map, this, renderParameters);\n    }\n}\n//# sourceMappingURL=mapbox-layer.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { _flatten as flatten } from '@deck.gl/core';\nimport MapboxLayer from \"./mapbox-layer.js\";\nconst UNDEFINED_BEFORE_ID = '__UNDEFINED__';\n/** Insert Deck layers into the mapbox Map according to the user-defined order */\n// eslint-disable-next-line complexity, max-statements\nexport function resolveLayers(map, deck, oldLayers, newLayers) {\n    // Wait until map style is loaded\n    // @ts-ignore non-public map property\n    if (!map || !deck || !map.style || !map.style._loaded) {\n        return;\n    }\n    const layers = flatten(newLayers, Boolean);\n    if (oldLayers !== newLayers) {\n        // Step 1: remove layers that no longer exist\n        const prevLayers = flatten(oldLayers, Boolean);\n        const prevLayerIds = new Set(prevLayers.map(l => l.id));\n        for (const layer of layers) {\n            prevLayerIds.delete(layer.id);\n        }\n        for (const id of prevLayerIds) {\n            if (map.getLayer(id)) {\n                map.removeLayer(id);\n            }\n        }\n    }\n    // Step 2: add missing layers\n    for (const layer of layers) {\n        const mapboxLayer = map.getLayer(layer.id);\n        if (mapboxLayer) {\n            // Mapbox's map.getLayer() had a breaking change in v3.6.0, see https://github.com/visgl/deck.gl/issues/9086\n            // @ts-expect-error not typed\n            const layerInstance = mapboxLayer.implementation || mapboxLayer;\n            layerInstance.setProps(layer.props);\n        }\n        else {\n            map.addLayer(new MapboxLayer({ id: layer.id, deck }), \n            // @ts-expect-error beforeId is not defined in LayerProps\n            layer.props.beforeId);\n        }\n    }\n    // Step 3: check the order of layers\n    // If beforeId is defined, the deck layer should always render before the mapbox layer [beforeId]\n    // If beforeId is not defined, the deck layer should appear after all mapbox layers\n    // When two deck layers share the same beforeId, they are rendered in the order that is passed into Deck props.layers\n    // @ts-ignore non-public map property\n    const mapLayers = map.style._order;\n    // Group deck layers by beforeId\n    const layerGroups = {};\n    for (const layer of layers) {\n        // @ts-expect-error beforeId is not defined in LayerProps\n        let { beforeId } = layer.props;\n        if (!beforeId || !mapLayers.includes(beforeId)) {\n            beforeId = UNDEFINED_BEFORE_ID;\n        }\n        layerGroups[beforeId] = layerGroups[beforeId] || [];\n        layerGroups[beforeId].push(layer.id);\n    }\n    for (const beforeId in layerGroups) {\n        const layerGroup = layerGroups[beforeId];\n        let lastLayerIndex = beforeId === UNDEFINED_BEFORE_ID ? mapLayers.length : mapLayers.indexOf(beforeId);\n        let lastLayerId = beforeId === UNDEFINED_BEFORE_ID ? undefined : beforeId;\n        for (let i = layerGroup.length - 1; i >= 0; i--) {\n            const layerId = layerGroup[i];\n            const layerIndex = mapLayers.indexOf(layerId);\n            if (layerIndex !== lastLayerIndex - 1) {\n                map.moveLayer(layerId, lastLayerId);\n                if (layerIndex > lastLayerIndex) {\n                    // The last layer's index have changed\n                    lastLayerIndex++;\n                }\n            }\n            lastLayerIndex--;\n            lastLayerId = layerId;\n        }\n    }\n}\n//# sourceMappingURL=resolve-layers.js.map","// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { Deck, assert } from '@deck.gl/core';\nimport { getViewState, getDefaultView, getDeckInstance, removeDeckInstance, getDefaultParameters } from \"./deck-utils.js\";\nimport { log } from '@deck.gl/core';\nimport { resolveLayers } from \"./resolve-layers.js\";\n/**\n * Implements Mapbox [IControl](https://docs.mapbox.com/mapbox-gl-js/api/markers/#icontrol) interface\n * Renders deck.gl layers over the base map and automatically synchronizes with the map's camera\n */\nexport default class MapboxOverlay {\n    constructor(props) {\n        this._handleStyleChange = () => {\n            resolveLayers(this._map, this._deck, this._props.layers, this._props.layers);\n        };\n        this._updateContainerSize = () => {\n            if (this._map && this._container) {\n                const { clientWidth, clientHeight } = this._map.getContainer();\n                Object.assign(this._container.style, {\n                    width: `${clientWidth}px`,\n                    height: `${clientHeight}px`\n                });\n            }\n        };\n        this._updateViewState = () => {\n            const deck = this._deck;\n            const map = this._map;\n            if (deck && map) {\n                deck.setProps({\n                    views: this._props.views || getDefaultView(map),\n                    viewState: getViewState(map)\n                });\n                // Redraw immediately if view state has changed\n                if (deck.isInitialized) {\n                    deck.redraw();\n                }\n            }\n        };\n        // eslint-disable-next-line complexity\n        this._handleMouseEvent = (event) => {\n            const deck = this._deck;\n            if (!deck || !deck.isInitialized) {\n                return;\n            }\n            const mockEvent = {\n                type: event.type,\n                offsetCenter: event.point,\n                srcEvent: event\n            };\n            const lastDown = this._lastMouseDownPoint;\n            if (!event.point && lastDown) {\n                // drag* events do not contain a `point` field\n                mockEvent.deltaX = event.originalEvent.clientX - lastDown.clientX;\n                mockEvent.deltaY = event.originalEvent.clientY - lastDown.clientY;\n                mockEvent.offsetCenter = {\n                    x: lastDown.x + mockEvent.deltaX,\n                    y: lastDown.y + mockEvent.deltaY\n                };\n            }\n            switch (mockEvent.type) {\n                case 'mousedown':\n                    deck._onPointerDown(mockEvent);\n                    this._lastMouseDownPoint = {\n                        ...event.point,\n                        clientX: event.originalEvent.clientX,\n                        clientY: event.originalEvent.clientY\n                    };\n                    break;\n                case 'dragstart':\n                    mockEvent.type = 'panstart';\n                    deck._onEvent(mockEvent);\n                    break;\n                case 'drag':\n                    mockEvent.type = 'panmove';\n                    deck._onEvent(mockEvent);\n                    break;\n                case 'dragend':\n                    mockEvent.type = 'panend';\n                    deck._onEvent(mockEvent);\n                    break;\n                case 'click':\n                    mockEvent.tapCount = 1;\n                    deck._onEvent(mockEvent);\n                    break;\n                case 'dblclick':\n                    mockEvent.type = 'click';\n                    mockEvent.tapCount = 2;\n                    deck._onEvent(mockEvent);\n                    break;\n                case 'mousemove':\n                    mockEvent.type = 'pointermove';\n                    deck._onPointerMove(mockEvent);\n                    break;\n                case 'mouseout':\n                    mockEvent.type = 'pointerleave';\n                    deck._onPointerMove(mockEvent);\n                    break;\n                default:\n                    return;\n            }\n        };\n        const { interleaved = false, ...otherProps } = props;\n        this._interleaved = interleaved;\n        this._props = otherProps;\n    }\n    /** Update (partial) props of the underlying Deck instance. */\n    setProps(props) {\n        if (this._interleaved && props.layers) {\n            resolveLayers(this._map, this._deck, this._props.layers, props.layers);\n        }\n        Object.assign(this._props, props);\n        if (this._deck && this._map) {\n            this._deck.setProps({\n                ...this._props,\n                parameters: {\n                    ...getDefaultParameters(this._map, this._interleaved),\n                    ...this._props.parameters\n                }\n            });\n        }\n    }\n    /** Called when the control is added to a map */\n    onAdd(map) {\n        this._map = map;\n        return this._interleaved ? this._onAddInterleaved(map) : this._onAddOverlaid(map);\n    }\n    _onAddOverlaid(map) {\n        /* global document */\n        const container = document.createElement('div');\n        Object.assign(container.style, {\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            textAlign: 'initial',\n            pointerEvents: 'none'\n        });\n        this._container = container;\n        this._deck = new Deck({\n            ...this._props,\n            parent: container,\n            parameters: { ...getDefaultParameters(map, false), ...this._props.parameters },\n            views: this._props.views || getDefaultView(map),\n            viewState: getViewState(map)\n        });\n        map.on('resize', this._updateContainerSize);\n        map.on('render', this._updateViewState);\n        map.on('mousedown', this._handleMouseEvent);\n        map.on('dragstart', this._handleMouseEvent);\n        map.on('drag', this._handleMouseEvent);\n        map.on('dragend', this._handleMouseEvent);\n        map.on('mousemove', this._handleMouseEvent);\n        map.on('mouseout', this._handleMouseEvent);\n        map.on('click', this._handleMouseEvent);\n        map.on('dblclick', this._handleMouseEvent);\n        this._updateContainerSize();\n        return container;\n    }\n    _onAddInterleaved(map) {\n        // @ts-ignore non-public map property\n        const gl = map.painter.context.gl;\n        if (gl instanceof WebGLRenderingContext) {\n            log.warn('Incompatible basemap library. See: https://deck.gl/docs/api-reference/mapbox/overview#compatibility')();\n        }\n        this._deck = getDeckInstance({\n            map,\n            gl,\n            deck: new Deck({\n                ...this._props,\n                gl\n            })\n        });\n        map.on('styledata', this._handleStyleChange);\n        resolveLayers(map, this._deck, [], this._props.layers);\n        return document.createElement('div');\n    }\n    /** Called when the control is removed from a map */\n    onRemove() {\n        const map = this._map;\n        if (map) {\n            if (this._interleaved) {\n                this._onRemoveInterleaved(map);\n            }\n            else {\n                this._onRemoveOverlaid(map);\n            }\n        }\n        this._deck = undefined;\n        this._map = undefined;\n        this._container = undefined;\n    }\n    _onRemoveOverlaid(map) {\n        map.off('resize', this._updateContainerSize);\n        map.off('render', this._updateViewState);\n        map.off('mousedown', this._handleMouseEvent);\n        map.off('dragstart', this._handleMouseEvent);\n        map.off('drag', this._handleMouseEvent);\n        map.off('dragend', this._handleMouseEvent);\n        map.off('mousemove', this._handleMouseEvent);\n        map.off('mouseout', this._handleMouseEvent);\n        map.off('click', this._handleMouseEvent);\n        map.off('dblclick', this._handleMouseEvent);\n        this._deck?.finalize();\n    }\n    _onRemoveInterleaved(map) {\n        map.off('styledata', this._handleStyleChange);\n        resolveLayers(map, this._deck, this._props.layers, []);\n        removeDeckInstance(map);\n    }\n    getDefaultPosition() {\n        return 'top-left';\n    }\n    /** Forwards the Deck.pickObject method */\n    pickObject(params) {\n        assert(this._deck);\n        return this._deck.pickObject(params);\n    }\n    /** Forwards the Deck.pickMultipleObjects method */\n    pickMultipleObjects(params) {\n        assert(this._deck);\n        return this._deck.pickMultipleObjects(params);\n    }\n    /** Forwards the Deck.pickObjects method */\n    pickObjects(params) {\n        assert(this._deck);\n        return this._deck.pickObjects(params);\n    }\n    /** Remove from map and releases all resources */\n    finalize() {\n        if (this._map) {\n            this._map.removeControl(this);\n        }\n    }\n    /** If interleaved: true, returns base map's canvas, otherwise forwards the Deck.getCanvas method. */\n    getCanvas() {\n        if (!this._map) {\n            return null;\n        }\n        return this._interleaved ? this._map.getCanvas() : this._deck.getCanvas();\n    }\n}\n//# sourceMappingURL=mapbox-overlay.js.map","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","/**\n * [Simple linear regression](http://en.wikipedia.org/wiki/Simple_linear_regression)\n * is a simple way to find a fitted line\n * between a set of coordinates. This algorithm finds the slope and y-intercept of a regression line\n * using the least sum of squares.\n *\n * @param {Array<Array<number>>} data an array of two-element of arrays,\n * like `[[0, 1], [2, 3]]`\n * @returns {Object} object containing slope and intersect of regression line\n * @example\n * linearRegression([[0, 0], [1, 1]]); // => { m: 1, b: 0 }\n */\nfunction linearRegression(data) {\n    var m, b;\n\n    // Store data length in a local variable to reduce\n    // repeated object property lookups\n    var dataLength = data.length;\n\n    //if there's only one point, arbitrarily choose a slope of 0\n    //and a y-intercept of whatever the y of the initial point is\n    if (dataLength === 1) {\n        m = 0;\n        b = data[0][1];\n    } else {\n        // Initialize our sums and scope the `m` and `b`\n        // variables that define the line.\n        var sumX = 0,\n            sumY = 0,\n            sumXX = 0,\n            sumXY = 0;\n\n        // Use local variables to grab point values\n        // with minimal object property lookups\n        var point, x, y;\n\n        // Gather the sum of all x values, the sum of all\n        // y values, and the sum of x^2 and (x*y) for each\n        // value.\n        //\n        // In math notation, these would be SS_x, SS_y, SS_xx, and SS_xy\n        for (var i = 0; i < dataLength; i++) {\n            point = data[i];\n            x = point[0];\n            y = point[1];\n\n            sumX += x;\n            sumY += y;\n\n            sumXX += x * x;\n            sumXY += x * y;\n        }\n\n        // `m` is the slope of the regression line\n        m =\n            (dataLength * sumXY - sumX * sumY) /\n            (dataLength * sumXX - sumX * sumX);\n\n        // `b` is the y-intercept of the line.\n        b = sumY / dataLength - (m * sumX) / dataLength;\n    }\n\n    // Return both values as an object.\n    return {\n        m: m,\n        b: b\n    };\n}\n\n/**\n * Given the output of `linearRegression`: an object\n * with `m` and `b` values indicating slope and intercept,\n * respectively, generate a line function that translates\n * x values into y values.\n *\n * @param {Object} mb object with `m` and `b` members, representing\n * slope and intersect of desired line\n * @returns {Function} method that computes y-value at any given\n * x-value on the line.\n * @example\n * var l = linearRegressionLine(linearRegression([[0, 0], [1, 1]]));\n * l(0) // = 0\n * l(2) // = 2\n * linearRegressionLine({ b: 0, m: 1 })(1); // => 1\n * linearRegressionLine({ b: 1, m: 1 })(1); // => 2\n */\nfunction linearRegressionLine(mb /*: { b: number, m: number }*/) {\n    // Return a function that computes a `y` value for each\n    // x value it is given, based on the values of `b` and `a`\n    // that we just computed.\n    return function (x) {\n        return mb.b + mb.m * x;\n    };\n}\n\n/**\n * Our default sum is the [Kahan-Babuska algorithm](https://pdfs.semanticscholar.org/1760/7d467cda1d0277ad272deb2113533131dc09.pdf).\n * This method is an improvement over the classical\n * [Kahan summation algorithm](https://en.wikipedia.org/wiki/Kahan_summation_algorithm).\n * It aims at computing the sum of a list of numbers while correcting for\n * floating-point errors. Traditionally, sums are calculated as many\n * successive additions, each one with its own floating-point roundoff. These\n * losses in precision add up as the number of numbers increases. This alternative\n * algorithm is more accurate than the simple way of calculating sums by simple\n * addition.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} sum of all input numbers\n * @example\n * sum([1, 2, 3]); // => 6\n */\nfunction sum(x) {\n    // If the array is empty, we needn't bother computing its sum\n    if (x.length === 0) {\n        return 0;\n    }\n\n    // Initializing the sum as the first number in the array\n    var sum = x[0];\n\n    // Keeping track of the floating-point error correction\n    var correction = 0;\n\n    var transition;\n\n    for (var i = 1; i < x.length; i++) {\n        transition = sum + x[i];\n\n        // Here we need to update the correction in a different fashion\n        // if the new absolute value is greater than the absolute sum\n        if (Math.abs(sum) >= Math.abs(x[i])) {\n            correction += sum - transition + x[i];\n        } else {\n            correction += x[i] - transition + sum;\n        }\n\n        sum = transition;\n    }\n\n    // Returning the corrected sum\n    return sum + correction;\n}\n\n/**\n * The mean, _also known as average_,\n * is the sum of all values over the number of values.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} mean\n * @example\n * mean([0, 10]); // => 5\n */\nfunction mean(x) {\n    if (x.length === 0) {\n        throw new Error(\"mean requires at least one data point\");\n    }\n\n    return sum(x) / x.length;\n}\n\n/**\n * The sum of deviations to the Nth power.\n * When n=2 it's the sum of squared deviations.\n * When n=3 it's the sum of cubed deviations.\n *\n * @param {Array<number>} x\n * @param {number} n power\n * @returns {number} sum of nth power deviations\n *\n * @example\n * var input = [1, 2, 3];\n * // since the variance of a set is the mean squared\n * // deviations, we can calculate that with sumNthPowerDeviations:\n * sumNthPowerDeviations(input, 2) / input.length;\n */\nfunction sumNthPowerDeviations(x, n) {\n    var meanValue = mean(x);\n    var sum = 0;\n    var tempValue;\n    var i;\n\n    // This is an optimization: when n is 2 (we're computing a number squared),\n    // multiplying the number by itself is significantly faster than using\n    // the Math.pow method.\n    if (n === 2) {\n        for (i = 0; i < x.length; i++) {\n            tempValue = x[i] - meanValue;\n            sum += tempValue * tempValue;\n        }\n    } else {\n        for (i = 0; i < x.length; i++) {\n            sum += Math.pow(x[i] - meanValue, n);\n        }\n    }\n\n    return sum;\n}\n\n/**\n * The [variance](http://en.wikipedia.org/wiki/Variance)\n * is the sum of squared deviations from the mean.\n *\n * This is an implementation of variance, not sample variance:\n * see the `sampleVariance` method if you want a sample measure.\n *\n * @param {Array<number>} x a population of one or more data points\n * @returns {number} variance: a value greater than or equal to zero.\n * zero indicates that all values are identical.\n * @throws {Error} if x's length is 0\n * @example\n * variance([1, 2, 3, 4, 5, 6]); // => 2.9166666666666665\n */\nfunction variance(x) {\n    if (x.length === 0) {\n        throw new Error(\"variance requires at least one data point\");\n    }\n\n    // Find the mean of squared deviations between the\n    // mean value and each value.\n    return sumNthPowerDeviations(x, 2) / x.length;\n}\n\n/**\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\n * is the square root of the variance. This is also known as the population\n * standard deviation. It's useful for measuring the amount\n * of variation or dispersion in a set of values.\n *\n * Standard deviation is only appropriate for full-population knowledge: for\n * samples of a population, {@link sampleStandardDeviation} is\n * more appropriate.\n *\n * @param {Array<number>} x input\n * @returns {number} standard deviation\n * @example\n * variance([2, 4, 4, 4, 5, 5, 7, 9]); // => 4\n * standardDeviation([2, 4, 4, 4, 5, 5, 7, 9]); // => 2\n */\nfunction standardDeviation(x) {\n    if (x.length === 1) {\n        return 0;\n    }\n    var v = variance(x);\n    return Math.sqrt(v);\n}\n\n/**\n * The [R Squared](http://en.wikipedia.org/wiki/Coefficient_of_determination)\n * value of data compared with a function `f`\n * is the sum of the squared differences between the prediction\n * and the actual value.\n *\n * @param {Array<Array<number>>} x input data: this should be doubly-nested\n * @param {Function} func function called on `[i][0]` values within the dataset\n * @returns {number} r-squared value\n * @example\n * var samples = [[0, 0], [1, 1]];\n * var regressionLine = linearRegressionLine(linearRegression(samples));\n * rSquared(samples, regressionLine); // = 1 this line is a perfect fit\n */\nfunction rSquared(x, func) {\n    if (x.length < 2) {\n        return 1;\n    }\n\n    // Compute the average y value for the actual\n    // data set in order to compute the\n    // _total sum of squares_\n    var sum = 0;\n    for (var i = 0; i < x.length; i++) {\n        sum += x[i][1];\n    }\n    var average = sum / x.length;\n\n    // Compute the total sum of squares - the\n    // squared difference between each point\n    // and the average of all points.\n    var sumOfSquares = 0;\n    for (var j = 0; j < x.length; j++) {\n        sumOfSquares += Math.pow(average - x[j][1], 2);\n    }\n\n    // Finally estimate the error: the squared\n    // difference between the estimate and the actual data\n    // value at each point.\n    var err = 0;\n    for (var k = 0; k < x.length; k++) {\n        err += Math.pow(x[k][1] - func(x[k][0]), 2);\n    }\n\n    // As the error grows larger, its ratio to the\n    // sum of squares increases and the r squared\n    // value grows lower.\n    return 1 - err / sumOfSquares;\n}\n\n/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)` because the input is sorted.\n *\n * @param {Array<number>} sorted a sample of one or more data points\n * @returns {number} mode\n * @throws {Error} if sorted is empty\n * @example\n * modeSorted([0, 0, 1]); // => 0\n */\nfunction modeSorted(sorted) {\n    // Handle edge cases:\n    // The mode of an empty list is undefined\n    if (sorted.length === 0) {\n        throw new Error(\"mode requires at least one data point\");\n    } else if (sorted.length === 1) {\n        return sorted[0];\n    }\n\n    // This assumes it is dealing with an array of size > 1, since size\n    // 0 and 1 are handled immediately. Hence it starts at index 1 in the\n    // array.\n    var last = sorted[0],\n        // store the mode as we find new modes\n        value = NaN,\n        // store how many times we've seen the mode\n        maxSeen = 0,\n        // how many times the current candidate for the mode\n        // has been seen\n        seenThis = 1;\n\n    // end at sorted.length + 1 to fix the case in which the mode is\n    // the highest number that occurs in the sequence. the last iteration\n    // compares sorted[i], which is undefined, to the highest number\n    // in the series\n    for (var i = 1; i < sorted.length + 1; i++) {\n        // we're seeing a new number pass by\n        if (sorted[i] !== last) {\n            // the last number is the new mode since we saw it more\n            // often than the old one\n            if (seenThis > maxSeen) {\n                maxSeen = seenThis;\n                value = last;\n            }\n            seenThis = 1;\n            last = sorted[i];\n            // if this isn't a new number, it's one more occurrence of\n            // the potential mode\n        } else {\n            seenThis++;\n        }\n    }\n    return value;\n}\n\n/**\n * Sort an array of numbers by their numeric value, ensuring that the\n * array is not changed in place.\n *\n * This is necessary because the default behavior of .sort\n * in JavaScript is to sort arrays as string values\n *\n *     [1, 10, 12, 102, 20].sort()\n *     // output\n *     [1, 10, 102, 12, 20]\n *\n * @param {Array<number>} x input array\n * @return {Array<number>} sorted array\n * @private\n * @example\n * numericSort([3, 2, 1]) // => [1, 2, 3]\n */\nfunction numericSort(x) {\n    return (\n        x\n            // ensure the array is not changed in-place\n            .slice()\n            // comparator function that treats input as numeric\n            .sort(function (a, b) {\n                return a - b;\n            })\n    );\n}\n\n/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n log(n))` because it needs to sort the array internally\n * before running an `O(n)` search to find the mode.\n *\n * @param {Array<number>} x input\n * @returns {number} mode\n * @example\n * mode([0, 0, 1]); // => 0\n */\nfunction mode(x) {\n    // Sorting the array lets us iterate through it below and be sure\n    // that every time we see a new number it's new and we'll never\n    // see the same number twice\n    return modeSorted(numericSort(x));\n}\n\n/* globals Map: false */\n\n/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * modeFast uses a Map object to keep track of the mode, instead of the approach\n * used with `mode`, a sorted array. As a result, it is faster\n * than `mode` and supports any data type that can be compared with `==`.\n * It also requires a\n * [JavaScript environment with support for Map](https://kangax.github.io/compat-table/es6/#test-Map),\n * and will throw an error if Map is not available.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * @param {Array<*>} x a sample of one or more data points\n * @returns {?*} mode\n * @throws {ReferenceError} if the JavaScript environment doesn't support Map\n * @throws {Error} if x is empty\n * @example\n * modeFast(['rabbits', 'rabbits', 'squirrels']); // => 'rabbits'\n */\nfunction modeFast(x) {\n    // This index will reflect the incidence of different values, indexing\n    // them like\n    // { value: count }\n    var index = new Map();\n\n    // A running `mode` and the number of times it has been encountered.\n    var mode;\n    var modeCount = 0;\n\n    for (var i = 0; i < x.length; i++) {\n        var newCount = index.get(x[i]);\n        if (newCount === undefined) {\n            newCount = 1;\n        } else {\n            newCount++;\n        }\n        if (newCount > modeCount) {\n            mode = x[i];\n            modeCount = newCount;\n        }\n        index.set(x[i], newCount);\n    }\n\n    if (modeCount === 0) {\n        throw new Error(\"mode requires at last one data point\");\n    }\n\n    return mode;\n}\n\n/**\n * The min is the lowest number in the array.\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} minimum value\n * @example\n * min([1, 5, -10, 100, 2]); // => -10\n */\nfunction min(x) {\n    if (x.length === 0) {\n        throw new Error(\"min requires at least one data point\");\n    }\n\n    var value = x[0];\n    for (var i = 1; i < x.length; i++) {\n        if (x[i] < value) {\n            value = x[i];\n        }\n    }\n    return value;\n}\n\n/**\n * This computes the maximum number in an array.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} maximum value\n * @throws {Error} if the length of x is less than one\n * @example\n * max([1, 2, 3, 4]);\n * // => 4\n */\nfunction max(x) {\n    if (x.length === 0) {\n        throw new Error(\"max requires at least one data point\");\n    }\n\n    var value = x[0];\n    for (var i = 1; i < x.length; i++) {\n        if (x[i] > value) {\n            value = x[i];\n        }\n    }\n    return value;\n}\n\n/**\n * This computes the minimum & maximum number in an array.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {Array<number>} minimum & maximum value\n * @throws {Error} if the length of x is less than one\n * @example\n * extent([1, 2, 3, 4]);\n * // => [1, 4]\n */\nfunction extent(x) {\n    if (x.length === 0) {\n        throw new Error(\"extent requires at least one data point\");\n    }\n\n    var min = x[0];\n    var max = x[0];\n    for (var i = 1; i < x.length; i++) {\n        if (x[i] > max) {\n            max = x[i];\n        }\n        if (x[i] < min) {\n            min = x[i];\n        }\n    }\n    return [min, max];\n}\n\n/**\n * The minimum is the lowest number in the array. With a sorted array,\n * the first element in the array is always the smallest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {number} minimum value\n * @example\n * minSorted([-100, -10, 1, 2, 5]); // => -100\n */\nfunction minSorted(x) {\n    return x[0];\n}\n\n/**\n * The maximum is the highest number in the array. With a sorted array,\n * the last element in the array is always the largest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {number} maximum value\n * @example\n * maxSorted([-100, -10, 1, 2, 5]); // => 5\n */\nfunction maxSorted(x) {\n    return x[x.length - 1];\n}\n\n/**\n * The extent is the lowest & highest number in the array. With a sorted array,\n * the first element in the array is always the lowest while the last element is always the largest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {Array<number>} minimum & maximum value\n * @example\n * extentSorted([-100, -10, 1, 2, 5]); // => [-100, 5]\n */\nfunction extentSorted(x) {\n    return [x[0], x[x.length - 1]];\n}\n\n/**\n * The simple [sum](https://en.wikipedia.org/wiki/Summation) of an array\n * is the result of adding all numbers together, starting from zero.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} sum of all input numbers\n * @example\n * sumSimple([1, 2, 3]); // => 6\n */\nfunction sumSimple(x) {\n    var value = 0;\n    for (var i = 0; i < x.length; i++) {\n        value += x[i];\n    }\n    return value;\n}\n\n/**\n * The [product](https://en.wikipedia.org/wiki/Product_(mathematics)) of an array\n * is the result of multiplying all numbers together, starting using one as the multiplicative identity.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} product of all input numbers\n * @example\n * product([1, 2, 3, 4]); // => 24\n */\nfunction product(x) {\n    var value = 1;\n    for (var i = 0; i < x.length; i++) {\n        value *= x[i];\n    }\n    return value;\n}\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantileSorted(x, p) {\n    var idx = x.length * p;\n    if (x.length === 0) {\n        throw new Error(\"quantile requires at least one data point.\");\n    } else if (p < 0 || p > 1) {\n        throw new Error(\"quantiles must be between 0 and 1\");\n    } else if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nfunction quickselect(arr, k, left, right) {\n    left = left || 0;\n    right = right || arr.length - 1;\n\n    while (right > left) {\n        // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp((2 * z) / 3);\n            var sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n            if (m - n / 2 < 0) { sd *= -1; }\n            var newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n            var newRight = Math.min(\n                right,\n                Math.floor(k + ((n - m) * s) / n + sd)\n            );\n            quickselect(arr, k, newLeft, newRight);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (arr[right] > t) { swap(arr, left, right); }\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (arr[i] < t) { i++; }\n            while (arr[j] > t) { j--; }\n        }\n\n        if (arr[left] === t) { swap(arr, left, j); }\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) { left = j + 1; }\n        if (k <= j) { right = j - 1; }\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x, p) {\n    var copy = x.slice();\n\n    if (Array.isArray(p)) {\n        // rearrange elements so that each element corresponding to a requested\n        // quantile is on a place it would be if the array was fully sorted\n        multiQuantileSelect(copy, p);\n        // Initialize the result array\n        var results = [];\n        // For each requested quantile\n        for (var i = 0; i < p.length; i++) {\n            results[i] = quantileSorted(copy, p[i]);\n        }\n        return results;\n    } else {\n        var idx = quantileIndex(copy.length, p);\n        quantileSelect(copy, idx, 0, copy.length - 1);\n        return quantileSorted(copy, p);\n    }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n    if (k % 1 === 0) {\n        quickselect(arr, k, left, right);\n    } else {\n        k = Math.floor(k);\n        quickselect(arr, k, left, right);\n        quickselect(arr, k + 1, k + 1, right);\n    }\n}\n\nfunction multiQuantileSelect(arr, p) {\n    var indices = [0];\n    for (var i = 0; i < p.length; i++) {\n        indices.push(quantileIndex(arr.length, p[i]));\n    }\n    indices.push(arr.length - 1);\n    indices.sort(compare);\n\n    var stack = [0, indices.length - 1];\n\n    while (stack.length) {\n        var r = Math.ceil(stack.pop());\n        var l = Math.floor(stack.pop());\n        if (r - l <= 1) { continue; }\n\n        var m = Math.floor((l + r) / 2);\n        quantileSelect(\n            arr,\n            indices[m],\n            Math.floor(indices[l]),\n            Math.ceil(indices[r])\n        );\n\n        stack.push(l, m, m, r);\n    }\n}\n\nfunction compare(a, b) {\n    return a - b;\n}\n\nfunction quantileIndex(len, p) {\n    var idx = len * p;\n    if (p === 1) {\n        // If p is 1, directly return the last index\n        return len - 1;\n    } else if (p === 0) {\n        // If p is 0, directly return the first index\n        return 0;\n    } else if (idx % 1 !== 0) {\n        // If index is not integer, return the next index in array\n        return Math.ceil(idx) - 1;\n    } else if (len % 2 === 0) {\n        // If the list has even-length, we'll return the middle of two indices\n        // around quantile to indicate that we need an average value of the two\n        return idx - 0.5;\n    } else {\n        // Finally, in the simple case of an integer index\n        // with an odd-length list, return the index\n        return idx;\n    }\n}\n\n/* eslint no-bitwise: 0 */\n\n/**\n * This function returns the quantile in which one would find the given value in\n * the given array. With a sorted array, leveraging binary search, we can find\n * this information in logarithmic time.\n *\n * @param {Array<number>} x input\n * @returns {number} value value\n * @example\n * quantileRankSorted([1, 2, 3, 4], 3); // => 0.75\n * quantileRankSorted([1, 2, 3, 3, 4], 3); // => 0.7\n * quantileRankSorted([1, 2, 3, 4], 6); // => 1\n * quantileRankSorted([1, 2, 3, 3, 5], 4); // => 0.8\n */\nfunction quantileRankSorted(x, value) {\n    // Value is lesser than any value in the array\n    if (value < x[0]) {\n        return 0;\n    }\n\n    // Value is greater than any value in the array\n    if (value > x[x.length - 1]) {\n        return 1;\n    }\n\n    var l = lowerBound(x, value);\n\n    // Value is not in the array\n    if (x[l] !== value) {\n        return l / x.length;\n    }\n\n    l++;\n\n    var u = upperBound(x, value);\n\n    // The value exists only once in the array\n    if (u === l) {\n        return l / x.length;\n    }\n\n    // Here, we are basically computing the mean of the range of indices\n    // containing our searched value. But, instead, of initializing an\n    // array and looping over it, there is a dedicated math formula that\n    // we apply below to get the result.\n    var r = u - l + 1;\n    var sum = (r * (u + l)) / 2;\n    var mean = sum / r;\n\n    return mean / x.length;\n}\n\nfunction lowerBound(x, value) {\n    var mid = 0;\n    var lo = 0;\n    var hi = x.length;\n\n    while (lo < hi) {\n        mid = (lo + hi) >>> 1;\n\n        if (value <= x[mid]) {\n            hi = mid;\n        } else {\n            lo = -~mid;\n        }\n    }\n\n    return lo;\n}\n\nfunction upperBound(x, value) {\n    var mid = 0;\n    var lo = 0;\n    var hi = x.length;\n\n    while (lo < hi) {\n        mid = (lo + hi) >>> 1;\n\n        if (value >= x[mid]) {\n            lo = -~mid;\n        } else {\n            hi = mid;\n        }\n    }\n\n    return lo;\n}\n\n/**\n * This function returns the quantile in which one would find the given value in\n * the given array. It will copy and sort your array before each run, so\n * if you know your array is already sorted, you should use `quantileRankSorted`\n * instead.\n *\n * @param {Array<number>} x input\n * @returns {number} value value\n * @example\n * quantileRank([4, 3, 1, 2], 3); // => 0.75\n * quantileRank([4, 3, 2, 3, 1], 3); // => 0.7\n * quantileRank([2, 4, 1, 3], 6); // => 1\n * quantileRank([5, 3, 1, 2, 3], 4); // => 0.8\n */\nfunction quantileRank(x, value) {\n    // Cloning and sorting the array\n    var sortedCopy = numericSort(x);\n\n    return quantileRankSorted(sortedCopy, value);\n}\n\n/**\n * The [Interquartile range](http://en.wikipedia.org/wiki/Interquartile_range) is\n * a measure of statistical dispersion, or how scattered, spread, or\n * concentrated a distribution is. It's computed as the difference between\n * the third quartile and first quartile.\n *\n * @param {Array<number>} x sample of one or more numbers\n * @returns {number} interquartile range: the span between lower and upper quartile,\n * 0.25 and 0.75\n * @example\n * interquartileRange([0, 1, 2, 3]); // => 2\n */\nfunction interquartileRange(x) {\n    // Interquartile range is the span between the upper quartile,\n    // at `0.75`, and lower quartile, `0.25`\n    var q1 = quantile(x, 0.75);\n    var q2 = quantile(x, 0.25);\n\n    if (typeof q1 === \"number\" && typeof q2 === \"number\") {\n        return q1 - q2;\n    }\n}\n\n/**\n * The [median](http://en.wikipedia.org/wiki/Median) is\n * the middle number of a list. This is often a good indicator of 'the middle'\n * when there are outliers that skew the `mean()` value.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The median isn't necessarily one of the elements in the list: the value\n * can be the average of two elements if the list has an even length\n * and the two central values are different.\n *\n * @param {Array<number>} x input\n * @returns {number} median value\n * @example\n * median([10, 2, 5, 100, 2, 1]); // => 3.5\n */\nfunction median(x) {\n    return +quantile(x, 0.5);\n}\n\n/**\n * The [Median Absolute Deviation](http://en.wikipedia.org/wiki/Median_absolute_deviation) is\n * a robust measure of statistical\n * dispersion. It is more resilient to outliers than the standard deviation.\n *\n * @param {Array<number>} x input array\n * @returns {number} median absolute deviation\n * @example\n * medianAbsoluteDeviation([1, 1, 2, 2, 4, 6, 9]); // => 1\n */\nfunction medianAbsoluteDeviation(x) {\n    var medianValue = median(x);\n    var medianAbsoluteDeviations = [];\n\n    // Make a list of absolute deviations from the median\n    for (var i = 0; i < x.length; i++) {\n        medianAbsoluteDeviations.push(Math.abs(x[i] - medianValue));\n    }\n\n    // Find the median value of that list\n    return median(medianAbsoluteDeviations);\n}\n\n/**\n * Split an array into chunks of a specified size. This function\n * has the same behavior as [PHP's array_chunk](http://php.net/manual/en/function.array-chunk.php)\n * function, and thus will insert smaller-sized chunks at the end if\n * the input size is not divisible by the chunk size.\n *\n * `x` is expected to be an array, and `chunkSize` a number.\n * The `x` array can contain any kind of data.\n *\n * @param {Array} x a sample\n * @param {number} chunkSize size of each output array. must be a positive integer\n * @returns {Array<Array>} a chunked array\n * @throws {Error} if chunk size is less than 1 or not an integer\n * @example\n * chunk([1, 2, 3, 4, 5, 6], 2);\n * // => [[1, 2], [3, 4], [5, 6]]\n */\nfunction chunk(x, chunkSize) {\n    // a list of result chunks, as arrays in an array\n    var output = [];\n\n    // `chunkSize` must be zero or higher - otherwise the loop below,\n    // in which we call `start += chunkSize`, will loop infinitely.\n    // So, we'll detect and throw in that case to indicate\n    // invalid input.\n    if (chunkSize < 1) {\n        throw new Error(\"chunk size must be a positive number\");\n    }\n\n    if (Math.floor(chunkSize) !== chunkSize) {\n        throw new Error(\"chunk size must be an integer\");\n    }\n\n    // `start` is the index at which `.slice` will start selecting\n    // new array elements\n    for (var start = 0; start < x.length; start += chunkSize) {\n        // for each chunk, slice that part of the array and add it\n        // to the output. The `.slice` function does not change\n        // the original array.\n        output.push(x.slice(start, start + chunkSize));\n    }\n    return output;\n}\n\n/**\n * Sampling with replacement is a type of sampling that allows the same\n * item to be picked out of a population more than once.\n *\n * @param {Array<*>} x an array of any kind of value\n * @param {number} n count of how many elements to take\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} n sampled items from the population\n * @example\n * var values = [1, 2, 3, 4];\n * sampleWithReplacement(values, 2); // returns 2 random values, like [2, 4];\n */\nfunction sampleWithReplacement(x, n, randomSource) {\n    if (x.length === 0) {\n        return [];\n    }\n\n    // a custom random number source can be provided if you want to use\n    // a fixed seed or another random number generator, like\n    // [random-js](https://www.npmjs.org/package/random-js)\n    randomSource = randomSource || Math.random;\n\n    var length = x.length;\n    var sample = [];\n\n    for (var i = 0; i < n; i++) {\n        var index = Math.floor(randomSource() * length);\n\n        sample.push(x[index]);\n    }\n\n    return sample;\n}\n\n/**\n * A [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)\n * in-place - which means that it **will change the order of the original\n * array by reference**.\n *\n * This is an algorithm that generates a random [permutation](https://en.wikipedia.org/wiki/Permutation)\n * of a set.\n *\n * @param {Array} x sample of one or more numbers\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @returns {Array} x\n * @example\n * var x = [1, 2, 3, 4];\n * shuffleInPlace(x);\n * // x is shuffled to a value like [2, 1, 4, 3]\n */\nfunction shuffleInPlace(x, randomSource) {\n    // a custom random number source can be provided if you want to use\n    // a fixed seed or another random number generator, like\n    // [random-js](https://www.npmjs.org/package/random-js)\n    randomSource = randomSource || Math.random;\n\n    // store the current length of the x to determine\n    // when no elements remain to shuffle.\n    var length = x.length;\n\n    // temporary is used to hold an item when it is being\n    // swapped between indices.\n    var temporary;\n\n    // The index to swap at each stage.\n    var index;\n\n    // While there are still items to shuffle\n    while (length > 0) {\n        // choose a random index within the subset of the array\n        // that is not yet shuffled\n        index = Math.floor(randomSource() * length--);\n\n        // store the value that we'll move temporarily\n        temporary = x[length];\n\n        // swap the value at `x[length]` with `x[index]`\n        x[length] = x[index];\n        x[index] = temporary;\n    }\n\n    return x;\n}\n\n/**\n * A [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)\n * is a fast way to create a random permutation of a finite set. This is\n * a function around `shuffle_in_place` that adds the guarantee that\n * it will not modify its input.\n *\n * @param {Array} x sample of 0 or more numbers\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} shuffled version of input\n * @example\n * var shuffled = shuffle([1, 2, 3, 4]);\n * shuffled; // = [2, 3, 1, 4] or any other random permutation\n */\nfunction shuffle(x, randomSource) {\n    // slice the original array so that it is not modified\n    var sample = x.slice();\n\n    // and then shuffle that shallow-copied array, in place\n    return shuffleInPlace(sample, randomSource);\n}\n\n/**\n * Create a [simple random sample](http://en.wikipedia.org/wiki/Simple_random_sample)\n * from a given array of `n` elements.\n *\n * The sampled values will be in any order, not necessarily the order\n * they appear in the input.\n *\n * @param {Array<any>} x input array. can contain any type\n * @param {number} n count of how many elements to take\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} subset of n elements in original array\n *\n * @example\n * var values = [1, 2, 4, 5, 6, 7, 8, 9];\n * sample(values, 3); // returns 3 random values, like [2, 5, 8];\n */\nfunction sample(x, n, randomSource) {\n    // shuffle the original array using a fisher-yates shuffle\n    var shuffled = shuffle(x, randomSource);\n\n    // and then return a subset of it - the first `n` elements.\n    return shuffled.slice(0, n);\n}\n\n/**\n * Create a new column x row matrix.\n *\n * @private\n * @param {number} columns\n * @param {number} rows\n * @return {Array<Array<number>>} matrix\n * @example\n * makeMatrix(10, 10);\n */\nfunction makeMatrix(columns, rows) {\n    var matrix = [];\n    for (var i = 0; i < columns; i++) {\n        var column = [];\n        for (var j = 0; j < rows; j++) {\n            column.push(0);\n        }\n        matrix.push(column);\n    }\n    return matrix;\n}\n\n/**\n * For a sorted input, counting the number of unique values\n * is possible in constant time and constant memory. This is\n * a simple implementation of the algorithm.\n *\n * Values are compared with `===`, so objects and non-primitive objects\n * are not handled in any special way.\n *\n * @param {Array<*>} x an array of any kind of value\n * @returns {number} count of unique values\n * @example\n * uniqueCountSorted([1, 2, 3]); // => 3\n * uniqueCountSorted([1, 1, 1]); // => 1\n */\nfunction uniqueCountSorted(x) {\n    var uniqueValueCount = 0,\n        lastSeenValue;\n    for (var i = 0; i < x.length; i++) {\n        if (i === 0 || x[i] !== lastSeenValue) {\n            lastSeenValue = x[i];\n            uniqueValueCount++;\n        }\n    }\n    return uniqueValueCount;\n}\n\n/**\n * Generates incrementally computed values based on the sums and sums of\n * squares for the data array\n *\n * @private\n * @param {number} j\n * @param {number} i\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n * @return {number}\n * @example\n * ssq(0, 1, [-1, 0, 2], [1, 1, 5]);\n */\nfunction ssq(j, i, sums, sumsOfSquares) {\n    var sji; // s(j, i)\n    if (j > 0) {\n        var muji = (sums[i] - sums[j - 1]) / (i - j + 1); // mu(j, i)\n        sji =\n            sumsOfSquares[i] - sumsOfSquares[j - 1] - (i - j + 1) * muji * muji;\n    } else {\n        sji = sumsOfSquares[i] - (sums[i] * sums[i]) / (i + 1);\n    }\n    if (sji < 0) {\n        return 0;\n    }\n    return sji;\n}\n\n/**\n * Function that recursively divides and conquers computations\n * for cluster j\n *\n * @private\n * @param {number} iMin Minimum index in cluster to be computed\n * @param {number} iMax Maximum index in cluster to be computed\n * @param {number} cluster Index of the cluster currently being computed\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n */\nfunction fillMatrixColumn(\n    iMin,\n    iMax,\n    cluster,\n    matrix,\n    backtrackMatrix,\n    sums,\n    sumsOfSquares\n) {\n    if (iMin > iMax) {\n        return;\n    }\n\n    // Start at midpoint between iMin and iMax\n    var i = Math.floor((iMin + iMax) / 2);\n\n    matrix[cluster][i] = matrix[cluster - 1][i - 1];\n    backtrackMatrix[cluster][i] = i;\n\n    var jlow = cluster; // the lower end for j\n\n    if (iMin > cluster) {\n        jlow = Math.max(jlow, backtrackMatrix[cluster][iMin - 1] || 0);\n    }\n    jlow = Math.max(jlow, backtrackMatrix[cluster - 1][i] || 0);\n\n    var jhigh = i - 1; // the upper end for j\n    if (iMax < matrix[0].length - 1) {\n        jhigh = Math.min(jhigh, backtrackMatrix[cluster][iMax + 1] || 0);\n    }\n\n    var sji;\n    var sjlowi;\n    var ssqjlow;\n    var ssqj;\n    for (var j = jhigh; j >= jlow; --j) {\n        sji = ssq(j, i, sums, sumsOfSquares);\n\n        if (sji + matrix[cluster - 1][jlow - 1] >= matrix[cluster][i]) {\n            break;\n        }\n\n        // Examine the lower bound of the cluster border\n        sjlowi = ssq(jlow, i, sums, sumsOfSquares);\n\n        ssqjlow = sjlowi + matrix[cluster - 1][jlow - 1];\n\n        if (ssqjlow < matrix[cluster][i]) {\n            // Shrink the lower bound\n            matrix[cluster][i] = ssqjlow;\n            backtrackMatrix[cluster][i] = jlow;\n        }\n        jlow++;\n\n        ssqj = sji + matrix[cluster - 1][j - 1];\n        if (ssqj < matrix[cluster][i]) {\n            matrix[cluster][i] = ssqj;\n            backtrackMatrix[cluster][i] = j;\n        }\n    }\n\n    fillMatrixColumn(\n        iMin,\n        i - 1,\n        cluster,\n        matrix,\n        backtrackMatrix,\n        sums,\n        sumsOfSquares\n    );\n    fillMatrixColumn(\n        i + 1,\n        iMax,\n        cluster,\n        matrix,\n        backtrackMatrix,\n        sums,\n        sumsOfSquares\n    );\n}\n\n/**\n * Initializes the main matrices used in Ckmeans and kicks\n * off the divide and conquer cluster computation strategy\n *\n * @private\n * @param {Array<number>} data sorted array of values\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n */\nfunction fillMatrices(data, matrix, backtrackMatrix) {\n    var nValues = matrix[0].length;\n\n    // Shift values by the median to improve numeric stability\n    var shift = data[Math.floor(nValues / 2)];\n\n    // Cumulative sum and cumulative sum of squares for all values in data array\n    var sums = [];\n    var sumsOfSquares = [];\n\n    // Initialize first column in matrix & backtrackMatrix\n    for (var i = 0, shiftedValue = (void 0); i < nValues; ++i) {\n        shiftedValue = data[i] - shift;\n        if (i === 0) {\n            sums.push(shiftedValue);\n            sumsOfSquares.push(shiftedValue * shiftedValue);\n        } else {\n            sums.push(sums[i - 1] + shiftedValue);\n            sumsOfSquares.push(\n                sumsOfSquares[i - 1] + shiftedValue * shiftedValue\n            );\n        }\n\n        // Initialize for cluster = 0\n        matrix[0][i] = ssq(0, i, sums, sumsOfSquares);\n        backtrackMatrix[0][i] = 0;\n    }\n\n    // Initialize the rest of the columns\n    var iMin;\n    for (var cluster = 1; cluster < matrix.length; ++cluster) {\n        if (cluster < matrix.length - 1) {\n            iMin = cluster;\n        } else {\n            // No need to compute matrix[K-1][0] ... matrix[K-1][N-2]\n            iMin = nValues - 1;\n        }\n\n        fillMatrixColumn(\n            iMin,\n            nValues - 1,\n            cluster,\n            matrix,\n            backtrackMatrix,\n            sums,\n            sumsOfSquares\n        );\n    }\n}\n\n/**\n * Ckmeans clustering is an improvement on heuristic-based clustering\n * approaches like Jenks. The algorithm was developed in\n * [Haizhou Wang and Mingzhou Song](http://journal.r-project.org/archive/2011-2/RJournal_2011-2_Wang+Song.pdf)\n * as a [dynamic programming](https://en.wikipedia.org/wiki/Dynamic_programming) approach\n * to the problem of clustering numeric data into groups with the least\n * within-group sum-of-squared-deviations.\n *\n * Minimizing the difference within groups - what Wang & Song refer to as\n * `withinss`, or within sum-of-squares, means that groups are optimally\n * homogenous within and the data is split into representative groups.\n * This is very useful for visualization, where you may want to represent\n * a continuous variable in discrete color or style groups. This function\n * can provide groups that emphasize differences between data.\n *\n * Being a dynamic approach, this algorithm is based on two matrices that\n * store incrementally-computed values for squared deviations and backtracking\n * indexes.\n *\n * This implementation is based on Ckmeans 3.4.6, which introduced a new divide\n * and conquer approach that improved runtime from O(kn^2) to O(kn log(n)).\n *\n * Unlike the [original implementation](https://cran.r-project.org/web/packages/Ckmeans.1d.dp/index.html),\n * this implementation does not include any code to automatically determine\n * the optimal number of clusters: this information needs to be explicitly\n * provided.\n *\n * ### References\n * _Ckmeans.1d.dp: Optimal k-means Clustering in One Dimension by Dynamic\n * Programming_ Haizhou Wang and Mingzhou Song ISSN 2073-4859\n *\n * from The R Journal Vol. 3/2, December 2011\n * @param {Array<number>} x input data, as an array of number values\n * @param {number} nClusters number of desired classes. This cannot be\n * greater than the number of values in the data array.\n * @returns {Array<Array<number>>} clustered input\n * @throws {Error} if the number of requested clusters is higher than the size of the data\n * @example\n * ckmeans([-1, 2, -1, 2, 4, 5, 6, -1, 2, -1], 3);\n * // The input, clustered into groups of similar numbers.\n * //= [[-1, -1, -1, -1], [2, 2, 2], [4, 5, 6]]);\n */\nfunction ckmeans(x, nClusters) {\n    if (nClusters > x.length) {\n        throw new Error(\n            \"cannot generate more classes than there are data values\"\n        );\n    }\n\n    var sorted = numericSort(x);\n    // we'll use this as the maximum number of clusters\n    var uniqueCount = uniqueCountSorted(sorted);\n\n    // if all of the input values are identical, there's one cluster\n    // with all of the input in it.\n    if (uniqueCount === 1) {\n        return [sorted];\n    }\n\n    // named 'S' originally\n    var matrix = makeMatrix(nClusters, sorted.length);\n    // named 'J' originally\n    var backtrackMatrix = makeMatrix(nClusters, sorted.length);\n\n    // This is a dynamic programming way to solve the problem of minimizing\n    // within-cluster sum of squares. It's similar to linear regression\n    // in this way, and this calculation incrementally computes the\n    // sum of squares that are later read.\n    fillMatrices(sorted, matrix, backtrackMatrix);\n\n    // The real work of Ckmeans clustering happens in the matrix generation:\n    // the generated matrices encode all possible clustering combinations, and\n    // once they're generated we can solve for the best clustering groups\n    // very quickly.\n    var clusters = [];\n    var clusterRight = backtrackMatrix[0].length - 1;\n\n    // Backtrack the clusters from the dynamic programming matrix. This\n    // starts at the bottom-right corner of the matrix (if the top-left is 0, 0),\n    // and moves the cluster target with the loop.\n    for (var cluster = backtrackMatrix.length - 1; cluster >= 0; cluster--) {\n        var clusterLeft = backtrackMatrix[cluster][clusterRight];\n\n        // fill the cluster from the sorted input by taking a slice of the\n        // array. the backtrack matrix makes this easy - it stores the\n        // indexes where the cluster should start and end.\n        clusters[cluster] = sorted.slice(clusterLeft, clusterRight + 1);\n\n        if (cluster > 0) {\n            clusterRight = clusterLeft - 1;\n        }\n    }\n\n    return clusters;\n}\n\n/**\n * Given an array of x, this will find the extent of the\n * x and return an array of breaks that can be used\n * to categorize the x into a number of classes. The\n * returned array will always be 1 longer than the number of\n * classes because it includes the minimum value.\n *\n * @param {Array<number>} x an array of number values\n * @param {number} nClasses number of desired classes\n * @returns {Array<number>} array of class break positions\n * @example\n * equalIntervalBreaks([1, 2, 3, 4, 5, 6], 4); // => [1, 2.25, 3.5, 4.75, 6]\n */\nfunction equalIntervalBreaks(x, nClasses) {\n    if (x.length < 2) {\n        return x;\n    }\n\n    var theMin = min(x);\n    var theMax = max(x);\n\n    // the first break will always be the minimum value\n    // in the xset\n    var breaks = [theMin];\n\n    // The size of each break is the full range of the x\n    // divided by the number of classes requested\n    var breakSize = (theMax - theMin) / nClasses;\n\n    // In the case of nClasses = 1, this loop won't run\n    // and the returned breaks will be [min, max]\n    for (var i = 1; i < nClasses; i++) {\n        breaks.push(breaks[0] + breakSize * i);\n    }\n\n    // the last break will always be the\n    // maximum.\n    breaks.push(theMax);\n\n    return breaks;\n}\n\n/**\n * [Sample covariance](https://en.wikipedia.org/wiki/Sample_mean_and_covariance) of two datasets:\n * how much do the two datasets move together?\n * x and y are two datasets, represented as arrays of numbers.\n *\n * @param {Array<number>} x a sample of two or more data points\n * @param {Array<number>} y a sample of two or more data points\n * @throws {Error} if x and y do not have equal lengths\n * @throws {Error} if x or y have length of one or less\n * @returns {number} sample covariance\n * @example\n * sampleCovariance([1, 2, 3, 4, 5, 6], [6, 5, 4, 3, 2, 1]); // => -3.5\n */\nfunction sampleCovariance(x, y) {\n    // The two datasets must have the same length which must be more than 1\n    if (x.length !== y.length) {\n        throw new Error(\"sampleCovariance requires samples with equal lengths\");\n    }\n\n    if (x.length < 2) {\n        throw new Error(\n            \"sampleCovariance requires at least two data points in each sample\"\n        );\n    }\n\n    // determine the mean of each dataset so that we can judge each\n    // value of the dataset fairly as the difference from the mean. this\n    // way, if one dataset is [1, 2, 3] and [2, 3, 4], their covariance\n    // does not suffer because of the difference in absolute values\n    var xmean = mean(x);\n    var ymean = mean(y);\n    var sum = 0;\n\n    // for each pair of values, the covariance increases when their\n    // difference from the mean is associated - if both are well above\n    // or if both are well below\n    // the mean, the covariance increases significantly.\n    for (var i = 0; i < x.length; i++) {\n        sum += (x[i] - xmean) * (y[i] - ymean);\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    var besselsCorrection = x.length - 1;\n\n    // the covariance is weighted by the length of the datasets.\n    return sum / besselsCorrection;\n}\n\n/**\n * The [sample variance](https://en.wikipedia.org/wiki/Variance#Sample_variance)\n * is the sum of squared deviations from the mean. The sample variance\n * is distinguished from the variance by the usage of [Bessel's Correction](https://en.wikipedia.org/wiki/Bessel's_correction):\n * instead of dividing the sum of squared deviations by the length of the input,\n * it is divided by the length minus one. This corrects the bias in estimating\n * a value from a set that you don't know if full.\n *\n * References:\n * * [Wolfram MathWorld on Sample Variance](http://mathworld.wolfram.com/SampleVariance.html)\n *\n * @param {Array<number>} x a sample of two or more data points\n * @throws {Error} if the length of x is less than 2\n * @return {number} sample variance\n * @example\n * sampleVariance([1, 2, 3, 4, 5]); // => 2.5\n */\nfunction sampleVariance(x) {\n    if (x.length < 2) {\n        throw new Error(\"sampleVariance requires at least two data points\");\n    }\n\n    var sumSquaredDeviationsValue = sumNthPowerDeviations(x, 2);\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    var besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    return sumSquaredDeviationsValue / besselsCorrection;\n}\n\n/**\n * The [sample standard deviation](http://en.wikipedia.org/wiki/Standard_deviation#Sample_standard_deviation)\n * is the square root of the sample variance.\n *\n * @param {Array<number>} x input array\n * @returns {number} sample standard deviation\n * @example\n * sampleStandardDeviation([2, 4, 4, 4, 5, 5, 7, 9]).toFixed(2);\n * // => '2.14'\n */\nfunction sampleStandardDeviation(x) {\n    var sampleVarianceX = sampleVariance(x);\n    return Math.sqrt(sampleVarianceX);\n}\n\n/**\n * The [correlation](http://en.wikipedia.org/wiki/Correlation_and_dependence) is\n * a measure of how correlated two datasets are, between -1 and 1\n *\n * @param {Array<number>} x first input\n * @param {Array<number>} y second input\n * @returns {number} sample correlation\n * @example\n * sampleCorrelation([1, 2, 3, 4, 5, 6], [2, 2, 3, 4, 5, 60]).toFixed(2);\n * // => '0.69'\n */\nfunction sampleCorrelation(x, y) {\n    var cov = sampleCovariance(x, y);\n    var xstd = sampleStandardDeviation(x);\n    var ystd = sampleStandardDeviation(y);\n\n    return cov / xstd / ystd;\n}\n\n/**\n * The [rank correlation](https://en.wikipedia.org/wiki/Rank_correlation) is\n * a measure of the strength of monotonic relationship between two arrays\n *\n * @param {Array<number>} x first input\n * @param {Array<number>} y second input\n * @returns {number} sample rank correlation\n */\nfunction sampleRankCorrelation(x, y) {\n    var xIndexes = x\n        .map(function (value, index) { return [value, index]; })\n        .sort(function (a, b) { return a[0] - b[0]; })\n        .map(function (pair) { return pair[1]; });\n    var yIndexes = y\n        .map(function (value, index) { return [value, index]; })\n        .sort(function (a, b) { return a[0] - b[0]; })\n        .map(function (pair) { return pair[1]; });\n\n    // At this step, we have an array of indexes\n    // that map from sorted numbers to their original indexes. We reverse\n    // that so that it is an array of the sorted destination index.\n    var xRanks = Array(xIndexes.length);\n    var yRanks = Array(xIndexes.length);\n    for (var i = 0; i < xIndexes.length; i++) {\n        xRanks[xIndexes[i]] = i;\n        yRanks[yIndexes[i]] = i;\n    }\n\n    return sampleCorrelation(xRanks, yRanks);\n}\n\n/**\n * [Skewness](http://en.wikipedia.org/wiki/Skewness) is\n * a measure of the extent to which a probability distribution of a\n * real-valued random variable \"leans\" to one side of the mean.\n * The skewness value can be positive or negative, or even undefined.\n *\n * Implementation is based on the adjusted Fisher-Pearson standardized\n * moment coefficient, which is the version found in Excel and several\n * statistical packages including Minitab, SAS and SPSS.\n *\n * @since 4.1.0\n * @param {Array<number>} x a sample of 3 or more data points\n * @returns {number} sample skewness\n * @throws {Error} if x has length less than 3\n * @example\n * sampleSkewness([2, 4, 6, 3, 1]); // => 0.590128656384365\n */\nfunction sampleSkewness(x) {\n    if (x.length < 3) {\n        throw new Error(\"sampleSkewness requires at least three data points\");\n    }\n\n    var meanValue = mean(x);\n    var tempValue;\n    var sumSquaredDeviations = 0;\n    var sumCubedDeviations = 0;\n\n    for (var i = 0; i < x.length; i++) {\n        tempValue = x[i] - meanValue;\n        sumSquaredDeviations += tempValue * tempValue;\n        sumCubedDeviations += tempValue * tempValue * tempValue;\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    var besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    var theSampleStandardDeviation = Math.sqrt(\n        sumSquaredDeviations / besselsCorrection\n    );\n\n    var n = x.length;\n    var cubedS = Math.pow(theSampleStandardDeviation, 3);\n\n    return (n * sumCubedDeviations) / ((n - 1) * (n - 2) * cubedS);\n}\n\n/**\n * [Kurtosis](http://en.wikipedia.org/wiki/Kurtosis) is\n * a measure of the heaviness of a distribution's tails relative to its\n * variance. The kurtosis value can be positive or negative, or even undefined.\n *\n * Implementation is based on Fisher's excess kurtosis definition and uses\n * unbiased moment estimators. This is the version found in Excel and available\n * in several statistical packages, including SAS and SciPy.\n *\n * @param {Array<number>} x a sample of 4 or more data points\n * @returns {number} sample kurtosis\n * @throws {Error} if x has length less than 4\n * @example\n * sampleKurtosis([1, 2, 2, 3, 5]); // => 1.4555765595463122\n */\nfunction sampleKurtosis(x) {\n    var n = x.length;\n\n    if (n < 4) {\n        throw new Error(\"sampleKurtosis requires at least four data points\");\n    }\n\n    var meanValue = mean(x);\n    var tempValue;\n    var secondCentralMoment = 0;\n    var fourthCentralMoment = 0;\n\n    for (var i = 0; i < n; i++) {\n        tempValue = x[i] - meanValue;\n        secondCentralMoment += tempValue * tempValue;\n        fourthCentralMoment += tempValue * tempValue * tempValue * tempValue;\n    }\n\n    return (\n        ((n - 1) / ((n - 2) * (n - 3))) *\n        ((n * (n + 1) * fourthCentralMoment) /\n            (secondCentralMoment * secondCentralMoment) -\n            3 * (n - 1))\n    );\n}\n\n/**\n * Implementation of [Heap's Algorithm](https://en.wikipedia.org/wiki/Heap%27s_algorithm)\n * for generating permutations.\n *\n * @param {Array} elements any type of data\n * @returns {Array<Array>} array of permutations\n */\nfunction permutationsHeap(elements) {\n    var indexes = new Array(elements.length);\n    var permutations = [elements.slice()];\n\n    for (var i = 0; i < elements.length; i++) {\n        indexes[i] = 0;\n    }\n\n    for (var i$1 = 0; i$1 < elements.length; ) {\n        if (indexes[i$1] < i$1) {\n            // At odd indexes, swap from indexes[i] instead\n            // of from the beginning of the array\n            var swapFrom = 0;\n            if (i$1 % 2 !== 0) {\n                swapFrom = indexes[i$1];\n            }\n\n            // swap between swapFrom and i, using\n            // a temporary variable as storage.\n            var temp = elements[swapFrom];\n            elements[swapFrom] = elements[i$1];\n            elements[i$1] = temp;\n\n            permutations.push(elements.slice());\n            indexes[i$1]++;\n            i$1 = 0;\n        } else {\n            indexes[i$1] = 0;\n            i$1++;\n        }\n    }\n\n    return permutations;\n}\n\n/**\n * Implementation of Combinations\n * Combinations are unique subsets of a collection - in this case, k x from a collection at a time.\n * https://en.wikipedia.org/wiki/Combination\n * @param {Array} x any type of data\n * @param {int} k the number of objects in each group (without replacement)\n * @returns {Array<Array>} array of permutations\n * @example\n * combinations([1, 2, 3], 2); // => [[1,2], [1,3], [2,3]]\n */\n\nfunction combinations(x, k) {\n    var i;\n    var subI;\n    var combinationList = [];\n    var subsetCombinations;\n    var next;\n\n    for (i = 0; i < x.length; i++) {\n        if (k === 1) {\n            combinationList.push([x[i]]);\n        } else {\n            subsetCombinations = combinations(x.slice(i + 1, x.length), k - 1);\n            for (subI = 0; subI < subsetCombinations.length; subI++) {\n                next = subsetCombinations[subI];\n                next.unshift(x[i]);\n                combinationList.push(next);\n            }\n        }\n    }\n    return combinationList;\n}\n\n/**\n * Implementation of [Combinations](https://en.wikipedia.org/wiki/Combination) with replacement\n * Combinations are unique subsets of a collection - in this case, k x from a collection at a time.\n * 'With replacement' means that a given element can be chosen multiple times.\n * Unlike permutation, order doesn't matter for combinations.\n *\n * @param {Array} x any type of data\n * @param {int} k the number of objects in each group (without replacement)\n * @returns {Array<Array>} array of permutations\n * @example\n * combinationsReplacement([1, 2], 2); // => [[1, 1], [1, 2], [2, 2]]\n */\nfunction combinationsReplacement(x, k) {\n    var combinationList = [];\n\n    for (var i = 0; i < x.length; i++) {\n        if (k === 1) {\n            // If we're requested to find only one element, we don't need\n            // to recurse: just push `x[i]` onto the list of combinations.\n            combinationList.push([x[i]]);\n        } else {\n            // Otherwise, recursively find combinations, given `k - 1`. Note that\n            // we request `k - 1`, so if you were looking for k=3 combinations, we're\n            // requesting k=2. This -1 gets reversed in the for loop right after this\n            // code, since we concatenate `x[i]` onto the selected combinations,\n            // bringing `k` back up to your requested level.\n            // This recursion may go many levels deep, since it only stops once\n            // k=1.\n            var subsetCombinations = combinationsReplacement(\n                x.slice(i, x.length),\n                k - 1\n            );\n\n            for (var j = 0; j < subsetCombinations.length; j++) {\n                combinationList.push([x[i]].concat(subsetCombinations[j]));\n            }\n        }\n    }\n\n    return combinationList;\n}\n\n/**\n * When adding a new value to a list, one does not have to necessary\n * recompute the mean of the list in linear time. They can instead use\n * this function to compute the new mean by providing the current mean,\n * the number of elements in the list that produced it and the new\n * value to add.\n *\n * @since 2.5.0\n * @param {number} mean current mean\n * @param {number} n number of items in the list\n * @param {number} newValue the added value\n * @returns {number} the new mean\n *\n * @example\n * addToMean(14, 5, 53); // => 20.5\n */\nfunction addToMean(mean, n, newValue) {\n    return mean + (newValue - mean) / (n + 1);\n}\n\n/**\n * When combining two lists of values for which one already knows the means,\n * one does not have to necessary recompute the mean of the combined lists in\n * linear time. They can instead use this function to compute the combined\n * mean by providing the mean & number of values of the first list and the mean\n * & number of values of the second list.\n *\n * @since 3.0.0\n * @param {number} mean1 mean of the first list\n * @param {number} n1 number of items in the first list\n * @param {number} mean2 mean of the second list\n * @param {number} n2 number of items in the second list\n * @returns {number} the combined mean\n *\n * @example\n * combineMeans(5, 3, 4, 3); // => 4.5\n */\nfunction combineMeans(mean1, n1, mean2, n2) {\n    return (mean1 * n1 + mean2 * n2) / (n1 + n2);\n}\n\n/**\n * When combining two lists of values for which one already knows the variances,\n * one does not have to necessary recompute the variance of the combined lists\n * in linear time. They can instead use this function to compute the combined\n * variance by providing the variance, mean & number of values of the first list\n * and the variance, mean & number of values of the second list.\n *\n * @since 3.0.0\n * @param {number} variance1 variance of the first list\n * @param {number} mean1 mean of the first list\n * @param {number} n1 number of items in the first list\n * @param {number} variance2 variance of the second list\n * @param {number} mean2 mean of the second list\n * @param {number} n2 number of items in the second list\n * @returns {number} the combined mean\n *\n * @example\n * combineVariances(14 / 3, 5, 3, 8 / 3, 4, 3); // => 47 / 12\n */\nfunction combineVariances(variance1, mean1, n1, variance2, mean2, n2) {\n    var newMean = combineMeans(mean1, n1, mean2, n2);\n\n    return (\n        (n1 * (variance1 + Math.pow(mean1 - newMean, 2)) +\n            n2 * (variance2 + Math.pow(mean2 - newMean, 2))) /\n        (n1 + n2)\n    );\n}\n\n/**\n * The [Geometric Mean](https://en.wikipedia.org/wiki/Geometric_mean) is\n * a mean function that is more useful for numbers in different\n * ranges.\n *\n * This is the nth root of the input numbers multiplied by each other.\n *\n * The geometric mean is often useful for\n * **[proportional growth](https://en.wikipedia.org/wiki/Geometric_mean#Proportional_growth)**: given\n * growth rates for multiple years, like _80%, 16.66% and 42.85%_, a simple\n * mean will incorrectly estimate an average growth rate, whereas a geometric\n * mean will correctly estimate a growth rate that, over those years,\n * will yield the same end value.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} geometric mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n * @example\n * var growthRates = [1.80, 1.166666, 1.428571];\n * var averageGrowth = ss.geometricMean(growthRates);\n * var averageGrowthRates = [averageGrowth, averageGrowth, averageGrowth];\n * var startingValue = 10;\n * var startingValueMean = 10;\n * growthRates.forEach(function(rate) {\n *   startingValue *= rate;\n * });\n * averageGrowthRates.forEach(function(rate) {\n *   startingValueMean *= rate;\n * });\n * startingValueMean === startingValue;\n */\nfunction geometricMean(x) {\n    if (x.length === 0) {\n        throw new Error(\"geometricMean requires at least one data point\");\n    }\n\n    // the starting value.\n    var value = 1;\n\n    for (var i = 0; i < x.length; i++) {\n        // the geometric mean is only valid for positive numbers\n        if (x[i] < 0) {\n            throw new Error(\n                \"geometricMean requires only non-negative numbers as input\"\n            );\n        }\n\n        // repeatedly multiply the value by each number\n        value *= x[i];\n    }\n\n    return Math.pow(value, 1 / x.length);\n}\n\n/**\n * The [log average](https://en.wikipedia.org/wiki/https://en.wikipedia.org/wiki/Geometric_mean#Relationship_with_logarithms)\n * is an equivalent way of computing the geometric mean of an array suitable for large or small products.\n *\n * It's found by calculating the average logarithm of the elements and exponentiating.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} geometric mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n */\nfunction logAverage(x) {\n    if (x.length === 0) {\n        throw new Error(\"logAverage requires at least one data point\");\n    }\n\n    var value = 0;\n    for (var i = 0; i < x.length; i++) {\n        if (x[i] < 0) {\n            throw new Error(\n                \"logAverage requires only non-negative numbers as input\"\n            );\n        }\n        value += Math.log(x[i]);\n    }\n\n    return Math.exp(value / x.length);\n}\n\n/**\n * The [Harmonic Mean](https://en.wikipedia.org/wiki/Harmonic_mean) is\n * a mean function typically used to find the average of rates.\n * This mean is calculated by taking the reciprocal of the arithmetic mean\n * of the reciprocals of the input numbers.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} harmonic mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n * @example\n * harmonicMean([2, 3]).toFixed(2) // => '2.40'\n */\nfunction harmonicMean(x) {\n    if (x.length === 0) {\n        throw new Error(\"harmonicMean requires at least one data point\");\n    }\n\n    var reciprocalSum = 0;\n\n    for (var i = 0; i < x.length; i++) {\n        // the harmonic mean is only valid for positive numbers\n        if (x[i] <= 0) {\n            throw new Error(\n                \"harmonicMean requires only positive numbers as input\"\n            );\n        }\n\n        reciprocalSum += 1 / x[i];\n    }\n\n    // divide n by the reciprocal sum\n    return x.length / reciprocalSum;\n}\n\n/**\n * The mean, _also known as average_,\n * is the sum of all values over the number of values.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The simple mean uses the successive addition method internally\n * to calculate it's result. Errors in floating-point addition are\n * not accounted for, so if precision is required, the standard {@link mean}\n * method should be used instead.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} mean\n * @example\n * mean([0, 10]); // => 5\n */\nfunction meanSimple(x) {\n    if (x.length === 0) {\n        throw new Error(\"meanSimple requires at least one data point\");\n    }\n\n    return sumSimple(x) / x.length;\n}\n\n/**\n * The [median](http://en.wikipedia.org/wiki/Median) is\n * the middle number of a list. This is often a good indicator of 'the middle'\n * when there are outliers that skew the `mean()` value.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The median isn't necessarily one of the elements in the list: the value\n * can be the average of two elements if the list has an even length\n * and the two central values are different.\n *\n * @param {Array<number>} sorted input\n * @returns {number} median value\n * @example\n * medianSorted([10, 2, 5, 100, 2, 1]); // => 52.5\n */\nfunction medianSorted(sorted) {\n    return quantileSorted(sorted, 0.5);\n}\n\n/**\n * When removing a value from a list, one does not have to necessary\n * recompute the mean of the list in linear time. They can instead use\n * this function to compute the new mean by providing the current mean,\n * the number of elements in the list that produced it and the value to remove.\n *\n * @since 3.0.0\n * @param {number} mean current mean\n * @param {number} n number of items in the list\n * @param {number} value the value to remove\n * @returns {number} the new mean\n *\n * @example\n * subtractFromMean(20.5, 6, 53); // => 14\n */\nfunction subtractFromMean(mean, n, value) {\n    return (mean * n - value) / (n - 1);\n}\n\n/**\n * The Root Mean Square (RMS) is\n * a mean function used as a measure of the magnitude of a set\n * of numbers, regardless of their sign.\n * This is the square root of the mean of the squares of the\n * input numbers.\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x a sample of one or more data points\n * @returns {number} root mean square\n * @throws {Error} if x is empty\n * @example\n * rootMeanSquare([-1, 1, -1, 1]); // => 1\n */\nfunction rootMeanSquare(x) {\n    if (x.length === 0) {\n        throw new Error(\"rootMeanSquare requires at least one data point\");\n    }\n\n    var sumOfSquares = 0;\n    for (var i = 0; i < x.length; i++) {\n        sumOfSquares += Math.pow(x[i], 2);\n    }\n\n    return Math.sqrt(sumOfSquares / x.length);\n}\n\n/**\n * The`coefficient of variation`_ is the ratio of the standard deviation to the mean.\n * .._`coefficient of variation`: https://en.wikipedia.org/wiki/Coefficient_of_variation\n *\n *\n * @param {Array} x input\n * @returns {number} coefficient of variation\n * @example\n * coefficientOfVariation([1, 2, 3, 4]).toFixed(3); // => 0.516\n * coefficientOfVariation([1, 2, 3, 4, 5]).toFixed(3); // => 0.527\n * coefficientOfVariation([-1, 0, 1, 2, 3, 4]).toFixed(3); // => 1.247\n */\nfunction coefficientOfVariation(x) {\n    return sampleStandardDeviation(x) / mean(x);\n}\n\n/**\n * This is to compute [a one-sample t-test](https://en.wikipedia.org/wiki/Student%27s_t-test#One-sample_t-test), comparing the mean\n * of a sample to a known value, x.\n *\n * in this case, we're trying to determine whether the\n * population mean is equal to the value that we know, which is `x`\n * here. Usually the results here are used to look up a\n * [p-value](http://en.wikipedia.org/wiki/P-value), which, for\n * a certain level of significance, will let you determine that the\n * null hypothesis can or cannot be rejected.\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {number} expectedValue expected value of the population mean\n * @returns {number} value\n * @example\n * tTest([1, 2, 3, 4, 5, 6], 3.385).toFixed(2); // => '0.16'\n */\nfunction tTest(x, expectedValue) {\n    // The mean of the sample\n    var sampleMean = mean(x);\n\n    // The standard deviation of the sample\n    var sd = standardDeviation(x);\n\n    // Square root the length of the sample\n    var rootN = Math.sqrt(x.length);\n\n    // returning the t value\n    return (sampleMean - expectedValue) / (sd / rootN);\n}\n\n/**\n * This is to compute [two sample t-test](http://en.wikipedia.org/wiki/Student's_t-test).\n * Tests whether \"mean(X)-mean(Y) = difference\", (\n * in the most common case, we often have `difference == 0` to test if two samples\n * are likely to be taken from populations with the same mean value) with\n * no prior knowledge on standard deviations of both samples\n * other than the fact that they have the same standard deviation.\n *\n * Usually the results here are used to look up a\n * [p-value](http://en.wikipedia.org/wiki/P-value), which, for\n * a certain level of significance, will let you determine that the\n * null hypothesis can or cannot be rejected.\n *\n * `diff` can be omitted if it equals 0.\n *\n * [This is used to reject](https://en.wikipedia.org/wiki/Exclusion_of_the_null_hypothesis)\n * a null hypothesis that the two populations that have been sampled into\n * `sampleX` and `sampleY` are equal to each other.\n *\n * @param {Array<number>} sampleX a sample as an array of numbers\n * @param {Array<number>} sampleY a sample as an array of numbers\n * @param {number} [difference=0]\n * @returns {number|null} test result\n *\n * @example\n * tTestTwoSample([1, 2, 3, 4], [3, 4, 5, 6], 0); // => -2.1908902300206643\n */\nfunction tTestTwoSample(sampleX, sampleY, difference) {\n    var n = sampleX.length;\n    var m = sampleY.length;\n\n    // If either sample doesn't actually have any values, we can't\n    // compute this at all, so we return `null`.\n    if (!n || !m) {\n        return null;\n    }\n\n    // default difference (mu) is zero\n    if (!difference) {\n        difference = 0;\n    }\n\n    var meanX = mean(sampleX);\n    var meanY = mean(sampleY);\n    var sampleVarianceX = sampleVariance(sampleX);\n    var sampleVarianceY = sampleVariance(sampleY);\n\n    if (\n        typeof meanX === \"number\" &&\n        typeof meanY === \"number\" &&\n        typeof sampleVarianceX === \"number\" &&\n        typeof sampleVarianceY === \"number\"\n    ) {\n        var weightedVariance =\n            ((n - 1) * sampleVarianceX + (m - 1) * sampleVarianceY) /\n            (n + m - 2);\n\n        return (\n            (meanX - meanY - difference) /\n            Math.sqrt(weightedVariance * (1 / n + 1 / m))\n        );\n    }\n}\n\n/**\n * This function calculates the Wilcoxon rank sum statistic for the first sample\n * with respect to the second. The Wilcoxon rank sum test is a non-parametric\n * alternative to the t-test which is equivalent to the\n * [Mann-Whitney U test](https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test).\n * The statistic is calculated by pooling all the observations together, ranking them,\n * and then summing the ranks associated with one of the samples. If this rank sum is\n * sufficiently large or small we reject the hypothesis that the two samples come\n * from the same distribution in favor of the alternative that one is shifted with\n * respect to the other.\n *\n * @param {Array<number>} sampleX a sample as an array of numbers\n * @param {Array<number>} sampleY a sample as an array of numbers\n * @returns {number} rank sum for sampleX\n *\n * @example\n * wilcoxonRankSum([1, 4, 8], [9, 12, 15]); // => 6\n */\nfunction wilcoxonRankSum(sampleX, sampleY) {\n    if (!sampleX.length || !sampleY.length) {\n        throw new Error(\"Neither sample can be empty\");\n    }\n\n    var pooledSamples = sampleX\n        .map(function (x) { return ({ label: \"x\", value: x }); })\n        .concat(sampleY.map(function (y) { return ({ label: \"y\", value: y }); }))\n        .sort(function (a, b) { return a.value - b.value; });\n\n    for (var rank = 0; rank < pooledSamples.length; rank++) {\n        pooledSamples[rank].rank = rank;\n    }\n\n    var tiedRanks = [pooledSamples[0].rank];\n    for (var i = 1; i < pooledSamples.length; i++) {\n        if (pooledSamples[i].value === pooledSamples[i - 1].value) {\n            tiedRanks.push(pooledSamples[i].rank);\n            if (i === pooledSamples.length - 1) {\n                replaceRanksInPlace(pooledSamples, tiedRanks);\n            }\n        } else if (tiedRanks.length > 1) {\n            replaceRanksInPlace(pooledSamples, tiedRanks);\n        } else {\n            tiedRanks = [pooledSamples[i].rank];\n        }\n    }\n\n    function replaceRanksInPlace(pooledSamples, tiedRanks) {\n        var average = (tiedRanks[0] + tiedRanks[tiedRanks.length - 1]) / 2;\n        for (var i = 0; i < tiedRanks.length; i++) {\n            pooledSamples[tiedRanks[i]].rank = average;\n        }\n    }\n\n    var rankSum = 0;\n\n    for (var i$1 = 0; i$1 < pooledSamples.length; i$1++) {\n        var sample = pooledSamples[i$1];\n        if (sample.label === \"x\") {\n            rankSum += sample.rank + 1;\n        }\n    }\n\n    return rankSum;\n}\n\n/**\n * [Bayesian Classifier](http://en.wikipedia.org/wiki/Naive_Bayes_classifier)\n *\n * This is a nave bayesian classifier that takes\n * singly-nested objects.\n *\n * @class\n * @example\n * var bayes = new BayesianClassifier();\n * bayes.train({\n *   species: 'Cat'\n * }, 'animal');\n * var result = bayes.score({\n *   species: 'Cat'\n * })\n * // result\n * // {\n * //   animal: 1\n * // }\n */\nvar BayesianClassifier = function BayesianClassifier() {\n    // The number of items that are currently\n    // classified in the model\n    this.totalCount = 0;\n    // Every item classified in the model\n    this.data = {};\n};\n\n/**\n * Train the classifier with a new item, which has a single\n * dimension of Javascript literal keys and values.\n *\n * @param {Object} item an object with singly-deep properties\n * @param {string} category the category this item belongs to\n * @return {undefined} adds the item to the classifier\n */\nBayesianClassifier.prototype.train = function train (item, category) {\n    // If the data object doesn't have any values\n    // for this category, create a new object for it.\n    if (!this.data[category]) {\n        this.data[category] = {};\n    }\n\n    // Iterate through each key in the item.\n    for (var k in item) {\n        var v = item[k];\n        // Initialize the nested object `data[category][k][item[k]]`\n        // with an object of keys that equal 0.\n        if (this.data[category][k] === undefined) {\n            this.data[category][k] = {};\n        }\n        if (this.data[category][k][v] === undefined) {\n            this.data[category][k][v] = 0;\n        }\n\n        // And increment the key for this key/value combination.\n        this.data[category][k][v]++;\n    }\n\n    // Increment the number of items classified\n    this.totalCount++;\n};\n\n/**\n * Generate a score of how well this item matches all\n * possible categories based on its attributes\n *\n * @param {Object} item an item in the same format as with train\n * @returns {Object} of probabilities that this item belongs to a\n * given category.\n */\nBayesianClassifier.prototype.score = function score (item) {\n    // Initialize an empty array of odds per category.\n    var odds = {};\n    var category;\n    // Iterate through each key in the item,\n    // then iterate through each category that has been used\n    // in previous calls to `.train()`\n    for (var k in item) {\n        var v = item[k];\n        for (category in this.data) {\n            // Create an empty object for storing key - value combinations\n            // for this category.\n            odds[category] = {};\n\n            // If this item doesn't even have a property, it counts for nothing,\n            // but if it does have the property that we're looking for from\n            // the item to categorize, it counts based on how popular it is\n            // versus the whole population.\n            if (this.data[category][k]) {\n                odds[category][k + \"_\" + v] =\n                    (this.data[category][k][v] || 0) / this.totalCount;\n            } else {\n                odds[category][k + \"_\" + v] = 0;\n            }\n        }\n    }\n\n    // Set up a new object that will contain sums of these odds by category\n    var oddsSums = {};\n\n    for (category in odds) {\n        // Tally all of the odds for each category-combination pair -\n        // the non-existence of a category does not add anything to the\n        // score.\n        oddsSums[category] = 0;\n        for (var combination in odds[category]) {\n            oddsSums[category] += odds[category][combination];\n        }\n    }\n\n    return oddsSums;\n};\n\n/**\n * This is a single-layer [Perceptron Classifier](http://en.wikipedia.org/wiki/Perceptron) that takes\n * arrays of numbers and predicts whether they should be classified\n * as either 0 or 1 (negative or positive examples).\n * @class\n * @example\n * // Create the model\n * var p = new PerceptronModel();\n * // Train the model with input with a diagonal boundary.\n * for (var i = 0; i < 5; i++) {\n *     p.train([1, 1], 1);\n *     p.train([0, 1], 0);\n *     p.train([1, 0], 0);\n *     p.train([0, 0], 0);\n * }\n * p.predict([0, 0]); // 0\n * p.predict([0, 1]); // 0\n * p.predict([1, 0]); // 0\n * p.predict([1, 1]); // 1\n */\nvar PerceptronModel = function PerceptronModel() {\n    // The weights, or coefficients of the model;\n    // weights are only populated when training with data.\n    this.weights = [];\n    // The bias term, or intercept; it is also a weight but\n    // it's stored separately for convenience as it is always\n    // multiplied by one.\n    this.bias = 0;\n};\n/**\n * **Predict**: Use an array of features with the weight array and bias\n * to predict whether an example is labeled 0 or 1.\n *\n * @param {Array<number>} features an array of features as numbers\n * @returns {number} 1 if the score is over 0, otherwise 0\n */\nPerceptronModel.prototype.predict = function predict (features) {\n    // Only predict if previously trained\n    // on the same size feature array(s).\n    if (features.length !== this.weights.length) {\n        return null;\n    }\n\n    // Calculate the sum of features times weights,\n    // with the bias added (implicitly times one).\n    var score = 0;\n    for (var i = 0; i < this.weights.length; i++) {\n        score += this.weights[i] * features[i];\n    }\n    score += this.bias;\n\n    // Classify as 1 if the score is over 0, otherwise 0.\n    if (score > 0) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n/**\n * **Train** the classifier with a new example, which is\n * a numeric array of features and a 0 or 1 label.\n *\n * @param {Array<number>} features an array of features as numbers\n * @param {number} label either 0 or 1\n * @returns {PerceptronModel} this\n */\nPerceptronModel.prototype.train = function train (features, label) {\n    // Require that only labels of 0 or 1 are considered.\n    if (label !== 0 && label !== 1) {\n        return null;\n    }\n    // The length of the feature array determines\n    // the length of the weight array.\n    // The perceptron will continue learning as long as\n    // it keeps seeing feature arrays of the same length.\n    // When it sees a new data shape, it initializes.\n    if (features.length !== this.weights.length) {\n        this.weights = features;\n        this.bias = 1;\n    }\n    // Make a prediction based on current weights.\n    var prediction = this.predict(features);\n    // Update the weights if the prediction is wrong.\n    if (typeof prediction === \"number\" && prediction !== label) {\n        var gradient = label - prediction;\n        for (var i = 0; i < this.weights.length; i++) {\n            this.weights[i] += gradient * features[i];\n        }\n        this.bias += gradient;\n    }\n    return this;\n};\n\n/**\n * We use ``, epsilon, as a stopping criterion when we want to iterate\n * until we're \"close enough\". Epsilon is a very small number: for\n * simple statistics, that number is **0.0001**\n *\n * This is used in calculations like the binomialDistribution, in which\n * the process of finding a value is [iterative](https://en.wikipedia.org/wiki/Iterative_method):\n * it progresses until it is close enough.\n *\n * Below is an example of using epsilon in [gradient descent](https://en.wikipedia.org/wiki/Gradient_descent),\n * where we're trying to find a local minimum of a function's derivative,\n * given by the `fDerivative` method.\n *\n * @example\n * // From calculation, we expect that the local minimum occurs at x=9/4\n * var x_old = 0;\n * // The algorithm starts at x=6\n * var x_new = 6;\n * var stepSize = 0.01;\n *\n * function fDerivative(x) {\n *   return 4 * Math.pow(x, 3) - 9 * Math.pow(x, 2);\n * }\n *\n * // The loop runs until the difference between the previous\n * // value and the current value is smaller than epsilon - a rough\n * // meaure of 'close enough'\n * while (Math.abs(x_new - x_old) > ss.epsilon) {\n *   x_old = x_new;\n *   x_new = x_old - stepSize * fDerivative(x_old);\n * }\n *\n * console.log('Local minimum occurs at', x_new);\n */\nvar epsilon = 0.0001;\n\n/**\n * A [Factorial](https://en.wikipedia.org/wiki/Factorial), usually written n!, is the product of all positive\n * integers less than or equal to n. Often factorial is implemented\n * recursively, but this iterative approach is significantly faster\n * and simpler.\n *\n * @param {number} n input, must be an integer number 1 or greater\n * @returns {number} factorial: n!\n * @throws {Error} if n is less than 0 or not an integer\n * @example\n * factorial(5); // => 120\n */\nfunction factorial(n) {\n    // factorial is mathematically undefined for negative numbers\n    if (n < 0) {\n        throw new Error(\"factorial requires a non-negative value\");\n    }\n\n    if (Math.floor(n) !== n) {\n        throw new Error(\"factorial requires an integer input\");\n    }\n\n    // typically you'll expand the factorial function going down, like\n    // 5! = 5 * 4 * 3 * 2 * 1. This is going in the opposite direction,\n    // counting from 2 up to the number in question, and since anything\n    // multiplied by 1 is itself, the loop only needs to start at 2.\n    var accumulator = 1;\n    for (var i = 2; i <= n; i++) {\n        // for each number up to and including the number `n`, multiply\n        // the accumulator my that number.\n        accumulator *= i;\n    }\n    return accumulator;\n}\n\n/**\n * Compute the [gamma function](https://en.wikipedia.org/wiki/Gamma_function) of a value using Nemes' approximation.\n * The gamma of n is equivalent to (n-1)!, but unlike the factorial function, gamma is defined for all real n except zero\n * and negative integers (where NaN is returned). Note, the gamma function is also well-defined for complex numbers,\n * though this implementation currently does not handle complex numbers as input values.\n * Nemes' approximation is defined [here](https://arxiv.org/abs/1003.6020) as Theorem 2.2.\n * Negative values use [Euler's reflection formula](https://en.wikipedia.org/wiki/Gamma_function#Properties) for computation.\n *\n * @param {number} n Any real number except for zero and negative integers.\n * @returns {number} The gamma of the input value.\n *\n * @example\n * gamma(11.5); // 11899423.084037038\n * gamma(-11.5); // 2.29575810481609e-8\n * gamma(5); // 24\n */\nfunction gamma(n) {\n    if (Number.isInteger(n)) {\n        if (n <= 0) {\n            // gamma not defined for zero or negative integers\n            return NaN;\n        } else {\n            // use factorial for integer inputs\n            return factorial(n - 1);\n        }\n    }\n\n    // Decrement n, because approximation is defined for n - 1\n    n--;\n\n    if (n < 0) {\n        // Use Euler's reflection formula for negative inputs\n        // see:  https://en.wikipedia.org/wiki/Gamma_function#Properties\n        return Math.PI / (Math.sin(Math.PI * -n) * gamma(-n));\n    } else {\n        // Nemes' expansion approximation\n        var seriesCoefficient =\n            Math.pow(n / Math.E, n) * Math.sqrt(2 * Math.PI * (n + 1 / 6));\n\n        var seriesDenom = n + 1 / 4;\n\n        var seriesExpansion =\n            1 +\n            1 / 144 / Math.pow(seriesDenom, 2) -\n            1 / 12960 / Math.pow(seriesDenom, 3) -\n            257 / 207360 / Math.pow(seriesDenom, 4) -\n            52 / 2612736 / Math.pow(seriesDenom, 5) +\n            5741173 / 9405849600 / Math.pow(seriesDenom, 6) +\n            37529 / 18811699200 / Math.pow(seriesDenom, 7);\n\n        return seriesCoefficient * seriesExpansion;\n    }\n}\n\n// Define series coefficients\nvar COEFFICIENTS = [\n    0.99999999999999709182,\n    57.156235665862923517,\n    -59.597960355475491248,\n    14.136097974741747174,\n    -0.49191381609762019978,\n    0.33994649984811888699e-4,\n    0.46523628927048575665e-4,\n    -0.98374475304879564677e-4,\n    0.15808870322491248884e-3,\n    -0.21026444172410488319e-3,\n    0.2174396181152126432e-3,\n    -0.16431810653676389022e-3,\n    0.84418223983852743293e-4,\n    -0.2619083840158140867e-4,\n    0.36899182659531622704e-5\n];\n\nvar g = 607 / 128;\nvar LOGSQRT2PI = Math.log(Math.sqrt(2 * Math.PI));\n\n/**\n * Compute the logarithm of the [gamma function](https://en.wikipedia.org/wiki/Gamma_function) of a value using Lanczos' approximation.\n * This function takes as input any real-value n greater than 0.\n * This function is useful for values of n too large for the normal gamma function (n > 165).\n * The code is based on Lanczo's Gamma approximation, defined [here](http://my.fit.edu/~gabdo/gamma.txt).\n *\n * @param {number} n Any real number greater than zero.\n * @returns {number} The logarithm of gamma of the input value.\n *\n * @example\n * gammaln(500); // 2605.1158503617335\n * gammaln(2.4); // 0.21685932244884043\n */\nfunction gammaln(n) {\n    // Return infinity if value not in domain\n    if (n <= 0) {\n        return Infinity;\n    }\n\n    // Decrement n, because approximation is defined for n - 1\n    n--;\n\n    // Create series approximation\n    var a = COEFFICIENTS[0];\n\n    for (var i = 1; i < 15; i++) {\n        a += COEFFICIENTS[i] / (n + i);\n    }\n\n    var tmp = g + 0.5 + n;\n\n    // Return natural logarithm of gamma(n)\n    return LOGSQRT2PI + Math.log(a) - tmp + (n + 0.5) * Math.log(tmp);\n}\n\n/**\n * The [Bernoulli distribution](http://en.wikipedia.org/wiki/Bernoulli_distribution)\n * is the probability discrete\n * distribution of a random variable which takes value 1 with success\n * probability `p` and value 0 with failure\n * probability `q` = 1 - `p`. It can be used, for example, to represent the\n * toss of a coin, where \"1\" is defined to mean \"heads\" and \"0\" is defined\n * to mean \"tails\" (or vice versa). It is\n * a special case of a Binomial Distribution\n * where `n` = 1.\n *\n * @param {number} p input value, between 0 and 1 inclusive\n * @returns {number[]} values of bernoulli distribution at this point\n * @throws {Error} if p is outside 0 and 1\n * @example\n * bernoulliDistribution(0.3); // => [0.7, 0.3]\n */\nfunction bernoulliDistribution(p) /*: number[] */ {\n    // Check that `p` is a valid probability (0  p  1)\n    if (p < 0 || p > 1) {\n        throw new Error(\n            \"bernoulliDistribution requires probability to be between 0 and 1 inclusive\"\n        );\n    }\n\n    return [1 - p, p];\n}\n\n/**\n * The [Binomial Distribution](http://en.wikipedia.org/wiki/Binomial_distribution) is the discrete probability\n * distribution of the number of successes in a sequence of n independent yes/no experiments, each of which yields\n * success with probability `probability`. Such a success/failure experiment is also called a Bernoulli experiment or\n * Bernoulli trial; when trials = 1, the Binomial Distribution is a Bernoulli Distribution.\n *\n * @param {number} trials number of trials to simulate\n * @param {number} probability\n * @returns {number[]} output\n */\nfunction binomialDistribution(trials, probability) /*: ?number[] */ {\n    // Check that `p` is a valid probability (0  p  1),\n    // that `n` is an integer, strictly positive.\n    if (probability < 0 || probability > 1 || trials <= 0 || trials % 1 !== 0) {\n        return undefined;\n    }\n\n    // We initialize `x`, the random variable, and `accumulator`, an accumulator\n    // for the cumulative distribution function to 0. `distribution_functions`\n    // is the object we'll return with the `probability_of_x` and the\n    // `cumulativeProbability_of_x`, as well as the calculated mean &\n    // variance. We iterate until the `cumulativeProbability_of_x` is\n    // within `epsilon` of 1.0.\n    var x = 0;\n    var cumulativeProbability = 0;\n    var cells = [];\n    var binomialCoefficient = 1;\n\n    // This algorithm iterates through each potential outcome,\n    // until the `cumulativeProbability` is very close to 1, at\n    // which point we've defined the vast majority of outcomes\n    do {\n        // a [probability mass function](https://en.wikipedia.org/wiki/Probability_mass_function)\n        cells[x] =\n            binomialCoefficient *\n            Math.pow(probability, x) *\n            Math.pow(1 - probability, trials - x);\n        cumulativeProbability += cells[x];\n        x++;\n        binomialCoefficient = (binomialCoefficient * (trials - x + 1)) / x;\n        // when the cumulativeProbability is nearly 1, we've calculated\n        // the useful range of this distribution\n    } while (cumulativeProbability < 1 - epsilon);\n\n    return cells;\n}\n\n/**\n * The [Poisson Distribution](http://en.wikipedia.org/wiki/Poisson_distribution)\n * is a discrete probability distribution that expresses the probability\n * of a given number of events occurring in a fixed interval of time\n * and/or space if these events occur with a known average rate and\n * independently of the time since the last event.\n *\n * The Poisson Distribution is characterized by the strictly positive\n * mean arrival or occurrence rate, ``.\n *\n * @param {number} lambda location poisson distribution\n * @returns {number[]} values of poisson distribution at that point\n */\nfunction poissonDistribution(lambda) /*: ?number[] */ {\n    // Check that lambda is strictly positive\n    if (lambda <= 0) {\n        return undefined;\n    }\n\n    // our current place in the distribution\n    var x = 0;\n    // and we keep track of the current cumulative probability, in\n    // order to know when to stop calculating chances.\n    var cumulativeProbability = 0;\n    // the calculated cells to be returned\n    var cells = [];\n    var factorialX = 1;\n\n    // This algorithm iterates through each potential outcome,\n    // until the `cumulativeProbability` is very close to 1, at\n    // which point we've defined the vast majority of outcomes\n    do {\n        // a [probability mass function](https://en.wikipedia.org/wiki/Probability_mass_function)\n        cells[x] = (Math.exp(-lambda) * Math.pow(lambda, x)) / factorialX;\n        cumulativeProbability += cells[x];\n        x++;\n        factorialX *= x;\n        // when the cumulativeProbability is nearly 1, we've calculated\n        // the useful range of this distribution\n    } while (cumulativeProbability < 1 - epsilon);\n\n    return cells;\n}\n\n/**\n * **Percentage Points of the 2 (Chi-Squared) Distribution**\n *\n * The [2 (Chi-Squared) Distribution](http://en.wikipedia.org/wiki/Chi-squared_distribution) is used in the common\n * chi-squared tests for goodness of fit of an observed distribution to a theoretical one, the independence of two\n * criteria of classification of qualitative data, and in confidence interval estimation for a population standard\n * deviation of a normal distribution from a sample standard deviation.\n *\n * Values from Appendix 1, Table III of William W. Hines & Douglas C. Montgomery, \"Probability and Statistics in\n * Engineering and Management Science\", Wiley (1980).\n */\nvar chiSquaredDistributionTable = {\n    1: {\n        0.995: 0,\n        0.99: 0,\n        0.975: 0,\n        0.95: 0,\n        0.9: 0.02,\n        0.5: 0.45,\n        0.1: 2.71,\n        0.05: 3.84,\n        0.025: 5.02,\n        0.01: 6.63,\n        0.005: 7.88\n    },\n    2: {\n        0.995: 0.01,\n        0.99: 0.02,\n        0.975: 0.05,\n        0.95: 0.1,\n        0.9: 0.21,\n        0.5: 1.39,\n        0.1: 4.61,\n        0.05: 5.99,\n        0.025: 7.38,\n        0.01: 9.21,\n        0.005: 10.6\n    },\n    3: {\n        0.995: 0.07,\n        0.99: 0.11,\n        0.975: 0.22,\n        0.95: 0.35,\n        0.9: 0.58,\n        0.5: 2.37,\n        0.1: 6.25,\n        0.05: 7.81,\n        0.025: 9.35,\n        0.01: 11.34,\n        0.005: 12.84\n    },\n    4: {\n        0.995: 0.21,\n        0.99: 0.3,\n        0.975: 0.48,\n        0.95: 0.71,\n        0.9: 1.06,\n        0.5: 3.36,\n        0.1: 7.78,\n        0.05: 9.49,\n        0.025: 11.14,\n        0.01: 13.28,\n        0.005: 14.86\n    },\n    5: {\n        0.995: 0.41,\n        0.99: 0.55,\n        0.975: 0.83,\n        0.95: 1.15,\n        0.9: 1.61,\n        0.5: 4.35,\n        0.1: 9.24,\n        0.05: 11.07,\n        0.025: 12.83,\n        0.01: 15.09,\n        0.005: 16.75\n    },\n    6: {\n        0.995: 0.68,\n        0.99: 0.87,\n        0.975: 1.24,\n        0.95: 1.64,\n        0.9: 2.2,\n        0.5: 5.35,\n        0.1: 10.65,\n        0.05: 12.59,\n        0.025: 14.45,\n        0.01: 16.81,\n        0.005: 18.55\n    },\n    7: {\n        0.995: 0.99,\n        0.99: 1.25,\n        0.975: 1.69,\n        0.95: 2.17,\n        0.9: 2.83,\n        0.5: 6.35,\n        0.1: 12.02,\n        0.05: 14.07,\n        0.025: 16.01,\n        0.01: 18.48,\n        0.005: 20.28\n    },\n    8: {\n        0.995: 1.34,\n        0.99: 1.65,\n        0.975: 2.18,\n        0.95: 2.73,\n        0.9: 3.49,\n        0.5: 7.34,\n        0.1: 13.36,\n        0.05: 15.51,\n        0.025: 17.53,\n        0.01: 20.09,\n        0.005: 21.96\n    },\n    9: {\n        0.995: 1.73,\n        0.99: 2.09,\n        0.975: 2.7,\n        0.95: 3.33,\n        0.9: 4.17,\n        0.5: 8.34,\n        0.1: 14.68,\n        0.05: 16.92,\n        0.025: 19.02,\n        0.01: 21.67,\n        0.005: 23.59\n    },\n    10: {\n        0.995: 2.16,\n        0.99: 2.56,\n        0.975: 3.25,\n        0.95: 3.94,\n        0.9: 4.87,\n        0.5: 9.34,\n        0.1: 15.99,\n        0.05: 18.31,\n        0.025: 20.48,\n        0.01: 23.21,\n        0.005: 25.19\n    },\n    11: {\n        0.995: 2.6,\n        0.99: 3.05,\n        0.975: 3.82,\n        0.95: 4.57,\n        0.9: 5.58,\n        0.5: 10.34,\n        0.1: 17.28,\n        0.05: 19.68,\n        0.025: 21.92,\n        0.01: 24.72,\n        0.005: 26.76\n    },\n    12: {\n        0.995: 3.07,\n        0.99: 3.57,\n        0.975: 4.4,\n        0.95: 5.23,\n        0.9: 6.3,\n        0.5: 11.34,\n        0.1: 18.55,\n        0.05: 21.03,\n        0.025: 23.34,\n        0.01: 26.22,\n        0.005: 28.3\n    },\n    13: {\n        0.995: 3.57,\n        0.99: 4.11,\n        0.975: 5.01,\n        0.95: 5.89,\n        0.9: 7.04,\n        0.5: 12.34,\n        0.1: 19.81,\n        0.05: 22.36,\n        0.025: 24.74,\n        0.01: 27.69,\n        0.005: 29.82\n    },\n    14: {\n        0.995: 4.07,\n        0.99: 4.66,\n        0.975: 5.63,\n        0.95: 6.57,\n        0.9: 7.79,\n        0.5: 13.34,\n        0.1: 21.06,\n        0.05: 23.68,\n        0.025: 26.12,\n        0.01: 29.14,\n        0.005: 31.32\n    },\n    15: {\n        0.995: 4.6,\n        0.99: 5.23,\n        0.975: 6.27,\n        0.95: 7.26,\n        0.9: 8.55,\n        0.5: 14.34,\n        0.1: 22.31,\n        0.05: 25,\n        0.025: 27.49,\n        0.01: 30.58,\n        0.005: 32.8\n    },\n    16: {\n        0.995: 5.14,\n        0.99: 5.81,\n        0.975: 6.91,\n        0.95: 7.96,\n        0.9: 9.31,\n        0.5: 15.34,\n        0.1: 23.54,\n        0.05: 26.3,\n        0.025: 28.85,\n        0.01: 32,\n        0.005: 34.27\n    },\n    17: {\n        0.995: 5.7,\n        0.99: 6.41,\n        0.975: 7.56,\n        0.95: 8.67,\n        0.9: 10.09,\n        0.5: 16.34,\n        0.1: 24.77,\n        0.05: 27.59,\n        0.025: 30.19,\n        0.01: 33.41,\n        0.005: 35.72\n    },\n    18: {\n        0.995: 6.26,\n        0.99: 7.01,\n        0.975: 8.23,\n        0.95: 9.39,\n        0.9: 10.87,\n        0.5: 17.34,\n        0.1: 25.99,\n        0.05: 28.87,\n        0.025: 31.53,\n        0.01: 34.81,\n        0.005: 37.16\n    },\n    19: {\n        0.995: 6.84,\n        0.99: 7.63,\n        0.975: 8.91,\n        0.95: 10.12,\n        0.9: 11.65,\n        0.5: 18.34,\n        0.1: 27.2,\n        0.05: 30.14,\n        0.025: 32.85,\n        0.01: 36.19,\n        0.005: 38.58\n    },\n    20: {\n        0.995: 7.43,\n        0.99: 8.26,\n        0.975: 9.59,\n        0.95: 10.85,\n        0.9: 12.44,\n        0.5: 19.34,\n        0.1: 28.41,\n        0.05: 31.41,\n        0.025: 34.17,\n        0.01: 37.57,\n        0.005: 40\n    },\n    21: {\n        0.995: 8.03,\n        0.99: 8.9,\n        0.975: 10.28,\n        0.95: 11.59,\n        0.9: 13.24,\n        0.5: 20.34,\n        0.1: 29.62,\n        0.05: 32.67,\n        0.025: 35.48,\n        0.01: 38.93,\n        0.005: 41.4\n    },\n    22: {\n        0.995: 8.64,\n        0.99: 9.54,\n        0.975: 10.98,\n        0.95: 12.34,\n        0.9: 14.04,\n        0.5: 21.34,\n        0.1: 30.81,\n        0.05: 33.92,\n        0.025: 36.78,\n        0.01: 40.29,\n        0.005: 42.8\n    },\n    23: {\n        0.995: 9.26,\n        0.99: 10.2,\n        0.975: 11.69,\n        0.95: 13.09,\n        0.9: 14.85,\n        0.5: 22.34,\n        0.1: 32.01,\n        0.05: 35.17,\n        0.025: 38.08,\n        0.01: 41.64,\n        0.005: 44.18\n    },\n    24: {\n        0.995: 9.89,\n        0.99: 10.86,\n        0.975: 12.4,\n        0.95: 13.85,\n        0.9: 15.66,\n        0.5: 23.34,\n        0.1: 33.2,\n        0.05: 36.42,\n        0.025: 39.36,\n        0.01: 42.98,\n        0.005: 45.56\n    },\n    25: {\n        0.995: 10.52,\n        0.99: 11.52,\n        0.975: 13.12,\n        0.95: 14.61,\n        0.9: 16.47,\n        0.5: 24.34,\n        0.1: 34.28,\n        0.05: 37.65,\n        0.025: 40.65,\n        0.01: 44.31,\n        0.005: 46.93\n    },\n    26: {\n        0.995: 11.16,\n        0.99: 12.2,\n        0.975: 13.84,\n        0.95: 15.38,\n        0.9: 17.29,\n        0.5: 25.34,\n        0.1: 35.56,\n        0.05: 38.89,\n        0.025: 41.92,\n        0.01: 45.64,\n        0.005: 48.29\n    },\n    27: {\n        0.995: 11.81,\n        0.99: 12.88,\n        0.975: 14.57,\n        0.95: 16.15,\n        0.9: 18.11,\n        0.5: 26.34,\n        0.1: 36.74,\n        0.05: 40.11,\n        0.025: 43.19,\n        0.01: 46.96,\n        0.005: 49.65\n    },\n    28: {\n        0.995: 12.46,\n        0.99: 13.57,\n        0.975: 15.31,\n        0.95: 16.93,\n        0.9: 18.94,\n        0.5: 27.34,\n        0.1: 37.92,\n        0.05: 41.34,\n        0.025: 44.46,\n        0.01: 48.28,\n        0.005: 50.99\n    },\n    29: {\n        0.995: 13.12,\n        0.99: 14.26,\n        0.975: 16.05,\n        0.95: 17.71,\n        0.9: 19.77,\n        0.5: 28.34,\n        0.1: 39.09,\n        0.05: 42.56,\n        0.025: 45.72,\n        0.01: 49.59,\n        0.005: 52.34\n    },\n    30: {\n        0.995: 13.79,\n        0.99: 14.95,\n        0.975: 16.79,\n        0.95: 18.49,\n        0.9: 20.6,\n        0.5: 29.34,\n        0.1: 40.26,\n        0.05: 43.77,\n        0.025: 46.98,\n        0.01: 50.89,\n        0.005: 53.67\n    },\n    40: {\n        0.995: 20.71,\n        0.99: 22.16,\n        0.975: 24.43,\n        0.95: 26.51,\n        0.9: 29.05,\n        0.5: 39.34,\n        0.1: 51.81,\n        0.05: 55.76,\n        0.025: 59.34,\n        0.01: 63.69,\n        0.005: 66.77\n    },\n    50: {\n        0.995: 27.99,\n        0.99: 29.71,\n        0.975: 32.36,\n        0.95: 34.76,\n        0.9: 37.69,\n        0.5: 49.33,\n        0.1: 63.17,\n        0.05: 67.5,\n        0.025: 71.42,\n        0.01: 76.15,\n        0.005: 79.49\n    },\n    60: {\n        0.995: 35.53,\n        0.99: 37.48,\n        0.975: 40.48,\n        0.95: 43.19,\n        0.9: 46.46,\n        0.5: 59.33,\n        0.1: 74.4,\n        0.05: 79.08,\n        0.025: 83.3,\n        0.01: 88.38,\n        0.005: 91.95\n    },\n    70: {\n        0.995: 43.28,\n        0.99: 45.44,\n        0.975: 48.76,\n        0.95: 51.74,\n        0.9: 55.33,\n        0.5: 69.33,\n        0.1: 85.53,\n        0.05: 90.53,\n        0.025: 95.02,\n        0.01: 100.42,\n        0.005: 104.22\n    },\n    80: {\n        0.995: 51.17,\n        0.99: 53.54,\n        0.975: 57.15,\n        0.95: 60.39,\n        0.9: 64.28,\n        0.5: 79.33,\n        0.1: 96.58,\n        0.05: 101.88,\n        0.025: 106.63,\n        0.01: 112.33,\n        0.005: 116.32\n    },\n    90: {\n        0.995: 59.2,\n        0.99: 61.75,\n        0.975: 65.65,\n        0.95: 69.13,\n        0.9: 73.29,\n        0.5: 89.33,\n        0.1: 107.57,\n        0.05: 113.14,\n        0.025: 118.14,\n        0.01: 124.12,\n        0.005: 128.3\n    },\n    100: {\n        0.995: 67.33,\n        0.99: 70.06,\n        0.975: 74.22,\n        0.95: 77.93,\n        0.9: 82.36,\n        0.5: 99.33,\n        0.1: 118.5,\n        0.05: 124.34,\n        0.025: 129.56,\n        0.01: 135.81,\n        0.005: 140.17\n    }\n};\n\n/**\n * The [2 (Chi-Squared) Goodness-of-Fit Test](http://en.wikipedia.org/wiki/Goodness_of_fit#Pearson.27s_chi-squared_test)\n * uses a measure of goodness of fit which is the sum of differences between observed and expected outcome frequencies\n * (that is, counts of observations), each squared and divided by the number of observations expected given the\n * hypothesized distribution. The resulting 2 statistic, `chiSquared`, can be compared to the chi-squared distribution\n * to determine the goodness of fit. In order to determine the degrees of freedom of the chi-squared distribution, one\n * takes the total number of observed frequencies and subtracts the number of estimated parameters. The test statistic\n * follows, approximately, a chi-square distribution with (k  c) degrees of freedom where `k` is the number of non-empty\n * cells and `c` is the number of estimated parameters for the distribution.\n *\n * @param {Array<number>} data\n * @param {Function} distributionType a function that returns a point in a distribution:\n * for instance, binomial, bernoulli, or poisson\n * @param {number} significance\n * @returns {number} chi squared goodness of fit\n * @example\n * // Data from Poisson goodness-of-fit example 10-19 in William W. Hines & Douglas C. Montgomery,\n * // \"Probability and Statistics in Engineering and Management Science\", Wiley (1980).\n * var data1019 = [\n *     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n *     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n *     1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n *     2, 2, 2, 2, 2, 2, 2, 2, 2,\n *     3, 3, 3, 3\n * ];\n * ss.chiSquaredGoodnessOfFit(data1019, ss.poissonDistribution, 0.05); //= false\n */\nfunction chiSquaredGoodnessOfFit(data, distributionType, significance) {\n    // Estimate from the sample data, a weighted mean.\n    var inputMean = mean(data);\n    // Calculated value of the 2 statistic.\n    var chiSquared = 0;\n    // Number of hypothesized distribution parameters estimated, expected to be supplied in the distribution test.\n    // Lose one degree of freedom for estimating `lambda` from the sample data.\n    var c = 1;\n    // The hypothesized distribution.\n    // Generate the hypothesized distribution.\n    var hypothesizedDistribution = distributionType(inputMean);\n    var observedFrequencies = [];\n    var expectedFrequencies = [];\n\n    // Create an array holding a histogram from the sample data, of\n    // the form `{ value: numberOfOcurrences }`\n    for (var i = 0; i < data.length; i++) {\n        if (observedFrequencies[data[i]] === undefined) {\n            observedFrequencies[data[i]] = 0;\n        }\n        observedFrequencies[data[i]]++;\n    }\n\n    // The histogram we created might be sparse - there might be gaps\n    // between values. So we iterate through the histogram, making\n    // sure that instead of undefined, gaps have 0 values.\n    for (var i$1 = 0; i$1 < observedFrequencies.length; i$1++) {\n        if (observedFrequencies[i$1] === undefined) {\n            observedFrequencies[i$1] = 0;\n        }\n    }\n\n    // Create an array holding a histogram of expected data given the\n    // sample size and hypothesized distribution.\n    for (var k in hypothesizedDistribution) {\n        if (k in observedFrequencies) {\n            expectedFrequencies[+k] = hypothesizedDistribution[k] * data.length;\n        }\n    }\n\n    // Working backward through the expected frequencies, collapse classes\n    // if less than three observations are expected for a class.\n    // This transformation is applied to the observed frequencies as well.\n    for (var k$1 = expectedFrequencies.length - 1; k$1 >= 0; k$1--) {\n        if (expectedFrequencies[k$1] < 3) {\n            expectedFrequencies[k$1 - 1] += expectedFrequencies[k$1];\n            expectedFrequencies.pop();\n\n            observedFrequencies[k$1 - 1] += observedFrequencies[k$1];\n            observedFrequencies.pop();\n        }\n    }\n\n    // Iterate through the squared differences between observed & expected\n    // frequencies, accumulating the `chiSquared` statistic.\n    for (var k$2 = 0; k$2 < observedFrequencies.length; k$2++) {\n        chiSquared +=\n            Math.pow(observedFrequencies[k$2] - expectedFrequencies[k$2], 2) /\n            expectedFrequencies[k$2];\n    }\n\n    // Calculate degrees of freedom for this test and look it up in the\n    // `chiSquaredDistributionTable` in order to\n    // accept or reject the goodness-of-fit of the hypothesized distribution.\n    // Degrees of freedom, calculated as (number of class intervals -\n    // number of hypothesized distribution parameters estimated - 1)\n    var degreesOfFreedom = observedFrequencies.length - c - 1;\n    return (\n        chiSquaredDistributionTable[degreesOfFreedom][significance] < chiSquared\n    );\n}\n\nvar SQRT_2PI$1 = Math.sqrt(2 * Math.PI);\n\n/**\n * [Well-known kernels](https://en.wikipedia.org/wiki/Kernel_(statistics)#Kernel_functions_in_common_use)\n * @private\n */\nvar kernels = {\n    /**\n     * The gaussian kernel.\n     * @private\n     */\n    gaussian: function (u) {\n        return Math.exp(-0.5 * u * u) / SQRT_2PI$1;\n    }\n};\n\n/**\n * Well known bandwidth selection methods\n * @private\n */\nvar bandwidthMethods = {\n    /**\n     * The [\"normal reference distribution\"\n     * rule-of-thumb](https://stat.ethz.ch/R-manual/R-devel/library/MASS/html/bandwidth.nrd.html),\n     * a commonly used version of [Silverman's\n     * rule-of-thumb](https://en.wikipedia.org/wiki/Kernel_density_estimation#A_rule-of-thumb_bandwidth_estimator).\n     * @private\n     */\n    nrd: function (x) {\n        var s = sampleStandardDeviation(x);\n        var iqr = interquartileRange(x);\n        if (typeof iqr === \"number\") {\n            s = Math.min(s, iqr / 1.34);\n        }\n        return 1.06 * s * Math.pow(x.length, -0.2);\n    }\n};\n\n/**\n * [Kernel density estimation](https://en.wikipedia.org/wiki/Kernel_density_estimation)\n * is a useful tool for, among other things, estimating the shape of the\n * underlying probability distribution from a sample.\n *\n * @name kernelDensityEstimation\n * @param X sample values\n * @param kernel The kernel function to use. If a function is provided, it should return non-negative values and integrate to 1. Defaults to 'gaussian'.\n * @param bandwidthMethod The \"bandwidth selection\" method to use, or a fixed bandwidth value. Defaults to \"nrd\", the commonly-used [\"normal reference distribution\" rule-of-thumb](https://stat.ethz.ch/R-manual/R-devel/library/MASS/html/bandwidth.nrd.html).\n * @returns {Function} An estimated [probability density function](https://en.wikipedia.org/wiki/Probability_density_function) for the given sample. The returned function runs in `O(X.length)`.\n */\nfunction kernelDensityEstimation(X, kernel, bandwidthMethod) {\n    var kernelFn;\n    if (kernel === undefined) {\n        kernelFn = kernels.gaussian;\n    } else if (typeof kernel === \"string\") {\n        if (!kernels[kernel]) {\n            throw new Error('Unknown kernel \"' + kernel + '\"');\n        }\n        kernelFn = kernels[kernel];\n    } else {\n        kernelFn = kernel;\n    }\n\n    var bandwidth;\n    if (typeof bandwidthMethod === \"undefined\") {\n        bandwidth = bandwidthMethods.nrd(X);\n    } else if (typeof bandwidthMethod === \"string\") {\n        if (!bandwidthMethods[bandwidthMethod]) {\n            throw new Error(\n                'Unknown bandwidth method \"' + bandwidthMethod + '\"'\n            );\n        }\n        bandwidth = bandwidthMethods[bandwidthMethod](X);\n    } else {\n        bandwidth = bandwidthMethod;\n    }\n\n    return function (x) {\n        var i = 0;\n        var sum = 0;\n        for (i = 0; i < X.length; i++) {\n            sum += kernelFn((x - X[i]) / bandwidth);\n        }\n        return sum / bandwidth / X.length;\n    };\n}\n\n/**\n * The [Z-Score, or Standard Score](http://en.wikipedia.org/wiki/Standard_score).\n *\n * The standard score is the number of standard deviations an observation\n * or datum is above or below the mean. Thus, a positive standard score\n * represents a datum above the mean, while a negative standard score\n * represents a datum below the mean. It is a dimensionless quantity\n * obtained by subtracting the population mean from an individual raw\n * score and then dividing the difference by the population standard\n * deviation.\n *\n * The z-score is only defined if one knows the population parameters;\n * if one only has a sample set, then the analogous computation with\n * sample mean and sample standard deviation yields the\n * Student's t-statistic.\n *\n * @param {number} x\n * @param {number} mean\n * @param {number} standardDeviation\n * @return {number} z score\n * @example\n * zScore(78, 80, 5); // => -0.4\n */\nfunction zScore(x, mean, standardDeviation) {\n    return (x - mean) / standardDeviation;\n}\n\nvar SQRT_2PI = Math.sqrt(2 * Math.PI);\n\nfunction cumulativeDistribution(z) {\n    var sum = z,\n        tmp = z;\n\n    // 15 iterations are enough for 4-digit precision\n    for (var i = 1; i < 15; i++) {\n        tmp *= (z * z) / (2 * i + 1);\n        sum += tmp;\n    }\n    return (\n        Math.round((0.5 + (sum / SQRT_2PI) * Math.exp((-z * z) / 2)) * 1e4) /\n        1e4\n    );\n}\n\n/**\n * A standard normal table, also called the unit normal table or Z table,\n * is a mathematical table for the values of  (phi), which are the values of\n * the [cumulative distribution function](https://en.wikipedia.org/wiki/Normal_distribution#Cumulative_distribution_function)\n * of the normal distribution. It is used to find the probability that a\n * statistic is observed below, above, or between values on the standard\n * normal distribution, and by extension, any normal distribution.\n */\nvar standardNormalTable = [];\n\nfor (var z = 0; z <= 3.09; z += 0.01) {\n    standardNormalTable.push(cumulativeDistribution(z));\n}\n\n/**\n * **[Cumulative Standard Normal Probability](http://en.wikipedia.org/wiki/Standard_normal_table)**\n *\n * Since probability tables cannot be\n * printed for every normal distribution, as there are an infinite variety\n * of normal distributions, it is common practice to convert a normal to a\n * standard normal and then use the standard normal table to find probabilities.\n *\n * You can use `.5 + .5 * errorFunction(x / Math.sqrt(2))` to calculate the probability\n * instead of looking it up in a table.\n *\n * @param {number} z\n * @returns {number} cumulative standard normal probability\n */\nfunction cumulativeStdNormalProbability(z) {\n    // Calculate the position of this value.\n    var absZ = Math.abs(z);\n    // Each row begins with a different\n    // significant digit: 0.5, 0.6, 0.7, and so on. Each value in the table\n    // corresponds to a range of 0.01 in the input values, so the value is\n    // multiplied by 100.\n    var index = Math.min(\n        Math.round(absZ * 100),\n        standardNormalTable.length - 1\n    );\n\n    // The index we calculate must be in the table as a positive value,\n    // but we still pay attention to whether the input is positive\n    // or negative, and flip the output value as a last step.\n    if (z >= 0) {\n        return standardNormalTable[index];\n    } else {\n        // due to floating-point arithmetic, values in the table with\n        // 4 significant figures can nevertheless end up as repeating\n        // fractions when they're computed here.\n        return +(1 - standardNormalTable[index]).toFixed(4);\n    }\n}\n\n/**\n * **[Logistic Cumulative Distribution Function](https://en.wikipedia.org/wiki/Logistic_distribution)**\n *\n * @param {number} x\n * @returns {number} cumulative standard logistic probability\n */\nfunction cumulativeStdLogisticProbability(x) {\n    return 1 / (Math.exp(-x) + 1);\n}\n\n/**\n * **[Gaussian error function](http://en.wikipedia.org/wiki/Error_function)**\n *\n * The `errorFunction(x/(sd * Math.sqrt(2)))` is the probability that a value in a\n * normal distribution with standard deviation sd is within x of the mean.\n *\n * This function returns a numerical approximation to the exact value.\n * It uses Horner's method to evaluate the polynomial of  (tau).\n *\n * @param {number} x input\n * @return {number} error estimation\n * @example\n * errorFunction(1).toFixed(2); // => '0.84'\n */\nfunction errorFunction(x) {\n    var t = 1 / (1 + 0.5 * Math.abs(x));\n    var tau =\n        t *\n        Math.exp(\n            -x * x +\n                ((((((((0.17087277 * t - 0.82215223) * t + 1.48851587) * t -\n                    1.13520398) *\n                    t +\n                    0.27886807) *\n                    t -\n                    0.18628806) *\n                    t +\n                    0.09678418) *\n                    t +\n                    0.37409196) *\n                    t +\n                    1.00002368) *\n                    t -\n                1.26551223\n        );\n    if (x >= 0) {\n        return 1 - tau;\n    } else {\n        return tau - 1;\n    }\n}\n\n/**\n * The Inverse [Gaussian error function](http://en.wikipedia.org/wiki/Error_function)\n * returns a numerical approximation to the value that would have caused\n * `errorFunction()` to return x.\n *\n * @param {number} x value of error function\n * @returns {number} estimated inverted value\n */\nfunction inverseErrorFunction(x) {\n    var a = (8 * (Math.PI - 3)) / (3 * Math.PI * (4 - Math.PI));\n\n    var inv = Math.sqrt(\n        Math.sqrt(\n            Math.pow(2 / (Math.PI * a) + Math.log(1 - x * x) / 2, 2) -\n                Math.log(1 - x * x) / a\n        ) -\n            (2 / (Math.PI * a) + Math.log(1 - x * x) / 2)\n    );\n\n    if (x >= 0) {\n        return inv;\n    } else {\n        return -inv;\n    }\n}\n\n/**\n * The [Probit](http://en.wikipedia.org/wiki/Probit)\n * is the inverse of cumulativeStdNormalProbability(),\n * and is also known as the normal quantile function.\n *\n * It returns the number of standard deviations from the mean\n * where the p'th quantile of values can be found in a normal distribution.\n * So, for example, probit(0.5 + 0.6827/2)  1 because 68.27% of values are\n * normally found within 1 standard deviation above or below the mean.\n *\n * @param {number} p\n * @returns {number} probit\n */\nfunction probit(p) {\n    if (p === 0) {\n        p = epsilon;\n    } else if (p >= 1) {\n        p = 1 - epsilon;\n    }\n    return Math.sqrt(2) * inverseErrorFunction(2 * p - 1);\n}\n\n/**\n * The [Logit](https://en.wikipedia.org/wiki/Logit)\n * is the inverse of cumulativeStdLogisticProbability,\n * and is also known as the logistic quantile function.\n *\n * @param {number} p\n * @returns {number} logit\n */\nfunction logit(p) {\n    if (p <= 0 || p >= 1) {\n        throw new Error(\"p must be strictly between zero and one\");\n    }\n    return Math.log(p / (1 - p));\n}\n\n/**\n * Conducts a [permutation test](https://en.wikipedia.org/wiki/Resampling_(statistics)#Permutation_tests)\n * to determine if two data sets are *significantly* different from each other, using\n * the difference of means between the groups as the test statistic.\n * The function allows for the following hypotheses:\n * - two_tail = Null hypothesis: the two distributions are equal.\n * - greater = Null hypothesis: observations from sampleX tend to be smaller than those from sampleY.\n * - less = Null hypothesis: observations from sampleX tend to be greater than those from sampleY.\n * [Learn more about one-tail vs two-tail tests.](https://en.wikipedia.org/wiki/One-_and_two-tailed_tests)\n *\n * @param {Array<number>} sampleX first dataset (e.g. treatment data)\n * @param {Array<number>} sampleY second dataset (e.g. control data)\n * @param {string} alternative alternative hypothesis, either 'two_sided' (default), 'greater', or 'less'\n * @param {number} k number of values in permutation distribution.\n * @param {Function} [randomSource=Math.random] an optional entropy source\n * @returns {number} p-value The probability of observing the difference between groups (as or more extreme than what we did), assuming the null hypothesis.\n *\n * @example\n * var control = [2, 5, 3, 6, 7, 2, 5];\n * var treatment = [20, 5, 13, 12, 7, 2, 2];\n * permutationTest(control, treatment); // ~0.1324\n */\nfunction permutationTest(sampleX, sampleY, alternative, k, randomSource) {\n    // Set default arguments\n    if (k === undefined) {\n        k = 10000;\n    }\n    if (alternative === undefined) {\n        alternative = \"two_side\";\n    }\n    if (\n        alternative !== \"two_side\" &&\n        alternative !== \"greater\" &&\n        alternative !== \"less\"\n    ) {\n        throw new Error(\n            \"`alternative` must be either 'two_side', 'greater', or 'less'\"\n        );\n    }\n\n    // get means for each sample\n    var meanX = mean(sampleX);\n    var meanY = mean(sampleY);\n\n    // calculate initial test statistic. This will be our point of comparison with\n    // the generated test statistics.\n    var testStatistic = meanX - meanY;\n\n    // create test-statistic distribution\n    var testStatDsn = new Array(k);\n\n    // combine datsets so we can easily shuffle later\n    var allData = sampleX.concat(sampleY);\n    var midIndex = Math.floor(allData.length / 2);\n\n    for (var i = 0; i < k; i++) {\n        // 1. shuffle data assignments\n        shuffleInPlace(allData, randomSource);\n        var permLeft = allData.slice(0, midIndex);\n        var permRight = allData.slice(midIndex, allData.length);\n\n        // 2.re-calculate test statistic\n        var permTestStatistic = mean(permLeft) - mean(permRight);\n\n        // 3. store test statistic to build test statistic distribution\n        testStatDsn[i] = permTestStatistic;\n    }\n\n    // Calculate p-value depending on alternative\n    // For this test, we calculate the percentage of 'extreme' test statistics (subject to our hypothesis)\n    // more info on permutation test p-value calculations: https://onlinecourses.science.psu.edu/stat464/node/35\n    var numExtremeTStats = 0;\n    if (alternative === \"two_side\") {\n        for (var i$1 = 0; i$1 <= k; i$1++) {\n            if (Math.abs(testStatDsn[i$1]) >= Math.abs(testStatistic)) {\n                numExtremeTStats += 1;\n            }\n        }\n    } else if (alternative === \"greater\") {\n        for (var i$2 = 0; i$2 <= k; i$2++) {\n            if (testStatDsn[i$2] >= testStatistic) {\n                numExtremeTStats += 1;\n            }\n        }\n    } else {\n        // alternative === 'less'\n        for (var i$3 = 0; i$3 <= k; i$3++) {\n            if (testStatDsn[i$3] <= testStatistic) {\n                numExtremeTStats += 1;\n            }\n        }\n    }\n\n    return numExtremeTStats / k;\n}\n\n/**\n * [Sign](https://en.wikipedia.org/wiki/Sign_function) is a function\n * that extracts the sign of a real number\n *\n * @param {number} x input value\n * @returns {number} sign value either 1, 0 or -1\n * @throws {TypeError} if the input argument x is not a number\n * @private\n *\n * @example\n * sign(2); // => 1\n */\nfunction sign(x) {\n    if (typeof x === \"number\") {\n        if (x < 0) {\n            return -1;\n        } else if (x === 0) {\n            return 0;\n        } else {\n            return 1;\n        }\n    } else {\n        throw new TypeError(\"not a number\");\n    }\n}\n\n/**\n * [Bisection method](https://en.wikipedia.org/wiki/Bisection_method) is a root-finding\n * method that repeatedly bisects an interval to find the root.\n *\n * This function returns a numerical approximation to the exact value.\n *\n * @param {Function} func input function\n * @param {number} start - start of interval\n * @param {number} end - end of interval\n * @param {number} maxIterations - the maximum number of iterations\n * @param {number} errorTolerance - the error tolerance\n * @returns {number} estimated root value\n * @throws {TypeError} Argument func must be a function\n *\n * @example\n * bisect(Math.cos,0,4,100,0.003); // => 1.572265625\n */\nfunction bisect(func, start, end, maxIterations, errorTolerance) {\n    if (typeof func !== \"function\")\n        { throw new TypeError(\"func must be a function\"); }\n\n    for (var i = 0; i < maxIterations; i++) {\n        var output = (start + end) / 2;\n\n        if (\n            func(output) === 0 ||\n            Math.abs((end - start) / 2) < errorTolerance\n        ) {\n            return output;\n        }\n\n        if (sign(func(output)) === sign(func(start))) {\n            start = output;\n        } else {\n            end = output;\n        }\n    }\n\n    throw new Error(\"maximum number of iterations exceeded\");\n}\n\n/**\n * Calculate Euclidean distance between two points.\n * @param {Array<number>} left First N-dimensional point.\n * @param {Array<number>} right Second N-dimensional point.\n * @returns {number} Distance.\n */\nfunction euclideanDistance(left, right) {\n    var sum = 0;\n    for (var i = 0; i < left.length; i++) {\n        var diff = left[i] - right[i];\n        sum += diff * diff;\n    }\n    return Math.sqrt(sum);\n}\n\n/**\n * @typedef {Object} kMeansReturn\n * @property {Array<number>} labels The labels.\n * @property {Array<Array<number>>} centroids The cluster centroids.\n */\n\n/**\n * Perform k-means clustering.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points to be clustered.\n * @param {number} numCluster How many clusters to create.\n * @param {Function} randomSource An optional entropy source that generates uniform values in [0, 1).\n * @return {kMeansReturn} Labels (same length as data) and centroids (same length as numCluster).\n * @throws {Error} If any centroids wind up friendless (i.e., without associated points).\n *\n * @example\n * kMeansCluster([[0.0, 0.5], [1.0, 0.5]], 2); // => {labels: [0, 1], centroids: [[0.0, 0.5], [1.0 0.5]]}\n */\nfunction kMeansCluster(points, numCluster, randomSource) {\n    if ( randomSource === void 0 ) randomSource = Math.random;\n\n    var oldCentroids = null;\n    var newCentroids = sample(points, numCluster, randomSource);\n    var labels = null;\n    var change = Number.MAX_VALUE;\n    while (change !== 0) {\n        labels = labelPoints(points, newCentroids);\n        oldCentroids = newCentroids;\n        newCentroids = calculateCentroids(points, labels, numCluster);\n        change = calculateChange(newCentroids, oldCentroids);\n    }\n    return {\n        labels: labels,\n        centroids: newCentroids\n    };\n}\n\n/**\n * Label each point according to which centroid it is closest to.\n *\n * @private\n * @param {Array<Array<number>>} points Array of XY coordinates.\n * @param {Array<Array<number>>} centroids Current centroids.\n * @return {Array<number>} Group labels.\n */\nfunction labelPoints(points, centroids) {\n    return points.map(function (p) {\n        var minDist = Number.MAX_VALUE;\n        var label = -1;\n        for (var i = 0; i < centroids.length; i++) {\n            var dist = euclideanDistance(p, centroids[i]);\n            if (dist < minDist) {\n                minDist = dist;\n                label = i;\n            }\n        }\n        return label;\n    });\n}\n\n/**\n * Calculate centroids for points given labels.\n *\n * @private\n * @param {Array<Array<number>>} points Array of XY coordinates.\n * @param {Array<number>} labels Which groups points belong to.\n * @param {number} numCluster Number of clusters being created.\n * @return {Array<Array<number>>} Centroid for each group.\n * @throws {Error} If any centroids wind up friendless (i.e., without associated points).\n */\nfunction calculateCentroids(points, labels, numCluster) {\n    // Initialize accumulators.\n    var dimension = points[0].length;\n    var centroids = makeMatrix(numCluster, dimension);\n    var counts = Array(numCluster).fill(0);\n\n    // Add points to centroids' accumulators and count points per centroid.\n    var numPoints = points.length;\n    for (var i = 0; i < numPoints; i++) {\n        var point = points[i];\n        var label = labels[i];\n        var current = centroids[label];\n        for (var j = 0; j < dimension; j++) {\n            current[j] += point[j];\n        }\n        counts[label] += 1;\n    }\n\n    // Rescale centroids, checking for any that have no points.\n    for (var i$1 = 0; i$1 < numCluster; i$1++) {\n        if (counts[i$1] === 0) {\n            throw new Error((\"Centroid \" + i$1 + \" has no friends\"));\n        }\n        var centroid = centroids[i$1];\n        for (var j$1 = 0; j$1 < dimension; j$1++) {\n            centroid[j$1] /= counts[i$1];\n        }\n    }\n\n    return centroids;\n}\n\n/**\n * Calculate the difference between old centroids and new centroids.\n *\n * @private\n * @param {Array<Array<number>>} left One list of centroids.\n * @param {Array<Array<number>>} right Another list of centroids.\n * @return {number} Distance between centroids.\n */\nfunction calculateChange(left, right) {\n    var total = 0;\n    for (var i = 0; i < left.length; i++) {\n        total += euclideanDistance(left[i], right[i]);\n    }\n    return total;\n}\n\n/**\n * Calculate the [silhouette values](https://en.wikipedia.org/wiki/Silhouette_(clustering))\n * for clustered data.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {Array<number>} The silhouette value for each point.\n *\n * @example\n * silhouette([[0.25], [0.75]], [0, 0]); // => [1.0, 1.0]\n */\nfunction silhouette(points, labels) {\n    if (points.length !== labels.length) {\n        throw new Error(\"must have exactly as many labels as points\");\n    }\n    var groupings = createGroups(labels);\n    var distances = calculateAllDistances(points);\n    var result = [];\n    for (var i = 0; i < points.length; i++) {\n        var s = 0;\n        if (groupings[labels[i]].length > 1) {\n            var a = meanDistanceFromPointToGroup(\n                i,\n                groupings[labels[i]],\n                distances\n            );\n            var b = meanDistanceToNearestGroup(\n                i,\n                labels,\n                groupings,\n                distances\n            );\n            s = (b - a) / Math.max(a, b);\n        }\n        result.push(s);\n    }\n    return result;\n}\n\n/**\n * Create a lookup table mapping group IDs to point IDs.\n *\n * @private\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {Array<Array<number>>} An array of length G, each of whose entries is an array\n * containing the indices of the points in that group.\n */\nfunction createGroups(labels) {\n    var numGroups = 1 + max(labels);\n    var result = Array(numGroups);\n    for (var i = 0; i < labels.length; i++) {\n        var label = labels[i];\n        if (result[label] === undefined) {\n            result[label] = [];\n        }\n        result[label].push(i);\n    }\n    return result;\n}\n\n/**\n * Create a lookup table of all inter-point distances.\n *\n * @private\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @return {Array<Array<number>>} A symmetric square array of inter-point distances\n * (zero on the diagonal).\n */\nfunction calculateAllDistances(points) {\n    var numPoints = points.length;\n    var result = makeMatrix(numPoints, numPoints);\n    for (var i = 0; i < numPoints; i++) {\n        for (var j = 0; j < i; j++) {\n            result[i][j] = euclideanDistance(points[i], points[j]);\n            result[j][i] = result[i][j];\n        }\n    }\n    return result;\n}\n\n/**\n * Calculate the mean distance between this point and all the points in the\n * nearest group (as determined by which point in another group is closest).\n *\n * @private\n * @param {number} which The index of this point.\n * @param {Array<number>} labels Labels of points.\n * @param {Array<Array<number>>} groupings An array whose entries are arrays\n * containing the indices of the points in that group.\n * @param {Array<Array<number>>} distances A symmetric square array of inter-point\n * distances.\n * @return {number} The mean distance from this point to others in the nearest\n * group.\n */\nfunction meanDistanceToNearestGroup(which, labels, groupings, distances) {\n    var label = labels[which];\n    var result = Number.MAX_VALUE;\n    for (var i = 0; i < groupings.length; i++) {\n        if (i !== label) {\n            var d = meanDistanceFromPointToGroup(\n                which,\n                groupings[i],\n                distances\n            );\n            if (d < result) {\n                result = d;\n            }\n        }\n    }\n    return result;\n}\n\n/**\n * Calculate the mean distance between a point and all the points in a group\n * (possibly its own).\n *\n * @private\n * @param {number} which The index of this point.\n * @param {Array<number>} group The indices of all the points in the group in\n * question.\n * @param {Array<Array<number>>} distances A symmetric square array of inter-point\n * distances.\n * @return {number} The mean distance from this point to others in the\n * specified group.\n */\nfunction meanDistanceFromPointToGroup(which, group, distances) {\n    var total = 0;\n    for (var i = 0; i < group.length; i++) {\n        total += distances[which][group[i]];\n    }\n    return total / group.length;\n}\n\n/**\n * Calculate the [silhouette metric](https://en.wikipedia.org/wiki/Silhouette_(clustering))\n * for a set of N-dimensional points arranged in groups. The metric is the largest\n * individual silhouette value for the data.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {number} The silhouette metric for the groupings.\n *\n * @example\n * silhouetteMetric([[0.25], [0.75]], [0, 0]); // => 1.0\n */\nfunction silhouetteMetric(points, labels) {\n    var values = silhouette(points, labels);\n    return max(values);\n}\n\n/**\n * Relative error.\n *\n * This is more difficult to calculate than it first appears [1,2].  The usual\n * formula for the relative error between an actual value A and an expected\n * value E is `|(A-E)/E|`, but:\n *\n * 1. If the expected value is 0, any other value has infinite relative error,\n *    which is counter-intuitive: if the expected voltage is 0, getting 1/10th\n *    of a volt doesn't feel like an infinitely large error.\n *\n * 2. This formula does not satisfy the mathematical definition of a metric [3].\n *    [4] solved this problem by defining the relative error as `|ln(|A/E|)|`,\n *    but that formula only works if all values are positive: for example, it\n *    reports the relative error of -10 and 10 as 0.\n *\n * Our implementation sticks with convention and returns:\n *\n * - 0 if the actual and expected values are both zero\n * - Infinity if the actual value is non-zero and the expected value is zero\n * - `|(A-E)/E|` in all other cases\n *\n * [1] https://math.stackexchange.com/questions/677852/how-to-calculate-relative-error-when-true-value-is-zero\n * [2] https://en.wikipedia.org/wiki/Relative_change_and_difference\n * [3] https://en.wikipedia.org/wiki/Metric_(mathematics)#Definition\n * [4] F.W.J. Olver: \"A New Approach to Error Arithmetic.\" SIAM Journal on\n *     Numerical Analysis, 15(2), 1978, 10.1137/0715024.\n *\n * @param {number} actual The actual value.\n * @param {number} expected The expected value.\n * @return {number} The relative error.\n */\nfunction relativeError(actual, expected) {\n    if (actual === 0 && expected === 0) {\n        return 0;\n    }\n    return Math.abs((actual - expected) / expected);\n}\n\n/**\n * Approximate equality.\n *\n * @param {number} actual The value to be tested.\n * @param {number} expected The reference value.\n * @param {number} tolerance The acceptable relative difference.\n * @return {boolean} Whether numbers are within tolerance.\n */\nfunction approxEqual(actual, expected, tolerance) {\n    if ( tolerance === void 0 ) tolerance = epsilon;\n\n    return relativeError(actual, expected) <= tolerance;\n}\n\nexport { BayesianClassifier, PerceptronModel, addToMean, approxEqual, mean as average, meanSimple as averageSimple, BayesianClassifier as bayesian, bernoulliDistribution, binomialDistribution, bisect, chiSquaredDistributionTable, chiSquaredGoodnessOfFit, chunk, ckmeans, coefficientOfVariation, combinations, combinationsReplacement, combineMeans, combineVariances, cumulativeStdLogisticProbability, cumulativeStdNormalProbability, epsilon, equalIntervalBreaks, errorFunction as erf, errorFunction, extent, extentSorted, factorial, gamma, gammaln, geometricMean, harmonicMean, interquartileRange, inverseErrorFunction, interquartileRange as iqr, kMeansCluster, kernelDensityEstimation as kde, kernelDensityEstimation, linearRegression, linearRegressionLine, logAverage, logit, medianAbsoluteDeviation as mad, max, maxSorted, mean, meanSimple, median, medianAbsoluteDeviation, medianSorted, min, minSorted, mode, modeFast, modeSorted, numericSort, PerceptronModel as perceptron, permutationTest, permutationsHeap, poissonDistribution, probit, product, quantile, quantileRank, quantileRankSorted, quantileSorted, quickselect, rSquared, relativeError, rootMeanSquare as rms, rootMeanSquare, sample, sampleCorrelation, sampleCovariance, sampleKurtosis, sampleRankCorrelation, sampleSkewness, sampleStandardDeviation, sampleVariance, sampleWithReplacement, shuffle, shuffleInPlace, sign, silhouette, silhouetteMetric, standardDeviation, standardNormalTable, subtractFromMean, sum, sumNthPowerDeviations, sumSimple, tTest, tTestTwoSample, uniqueCountSorted, variance, wilcoxonRankSum, zScore };\n//# sourceMappingURL=simple-statistics.mjs.map\n"],"names":["isSupported","options","failIfMajorPerformanceCaveat","window","document","Array","prototype","every","filter","forEach","indexOf","lastIndexOf","map","some","reduce","reduceRight","isArray","Function","bind","Object","keys","create","getPrototypeOf","getOwnPropertyNames","isSealed","isFrozen","isExtensible","getOwnPropertyDescriptor","defineProperty","defineProperties","seal","freeze","preventExtensions","JSON","isWorkerSupported","supported","worker","blob","Blob","type","workerURL","URL","createObjectURL","Worker","e","terminate","revokeObjectURL","ArrayBuffer","isView","isCanvasGetImageDataSupported","canvas","createElement","width","height","context","getContext","imageData","getImageData","undefined","isWebGLSupportedCache","isWebGLSupported","attributes","shader","gl","webGLContextAttributes","createShader","VERTEX_SHADER","isContextLost","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","documentMode","exports","Z","antialias","alpha","stencil","depth","rgbaToHsva","_ref","r","g","b","a","max","Math","delta","min","hh","h","s","v","hsvaToHslString","hsva","l","hsvaToHsla","round","hsvaToHsvString","_ref2","hsvaToHsvaString","_ref3","hsvaToHslaString","hslStringToHsla","str","match","Number","hslaStringToHsva","hslString","matcher","exec","hslaToHsva","parseHue","hslStringToHsva","_ref4","SV_MAX","_ref5","hsvaStringToHsva","hsvString","angleUnits","grad","HUE_MAX","turn","rad","PI","value","unit","hsvStringToHsva","rgbaStringToHsva","rgbaString","rgbStringToHsva","rgbaToHex","_ref6","bin","toString","length","join","rgbaToHexa","_ref7","slice","hexToHsva","hex","hexToRgba","htemp","replace","test","charAt","parseInt","hsvaToRgba","_ref8","_h","_s","_v","f","floor","_p","RGB_MAX","_q","_t","rgba","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__","hsvaToRgbString","hsvaToRgbaString","rgbaToRgb","_ref9","hslaToHsl","_ref10","hsvaToHex","hsvaToHexa","hsvaToHsv","_ref11","hexToXY","rgbToXY","xyToHex","xy","xyToRgb","_ref12","x","y","bri","translate","color","pow","_ref13","translateColor","red","green","blue","xyz","rgb","hsl","hsv","hsla","hexa","validHex","getContrastingColor","col","yiq","equalColorObjects","first","second","prop","equalColorString","equalHex","toLowerCase","baseAssignValue","__webpack_require__","eq","module","object","key","Stack","assignMergeValue","baseFor","baseMergeDeep","isObject","keysIn","safeGet","baseMerge","source","srcIndex","customizer","stack","srcValue","newValue","cloneBuffer","cloneTypedArray","copyArray","initCloneObject","isArguments","isArrayLikeObject","isBuffer","isFunction","isPlainObject","isTypedArray","toPlainObject","mergeFunc","objValue","stacked","get","isCommon","isArr","isBuff","isTyped","set","baseRest","isIterateeCall","assigner","sources","index","guard","isArrayLike","isObjectLike","merge","createAssigner","copyObject","_objectWithoutProperties","require","_defineProperty","_excluded","ownKeys","t","getOwnPropertySymbols","o","enumerable","push","apply","_objectSpread","arguments","getOwnPropertyDescriptors","Image","_interop_require_default","_interop_require_wildcard","_jsxruntime","_react","_","_reactdom","_head","_getimgprops","_imageconfig","_imageconfigcontextsharedruntime","_routercontextsharedruntime","_imageloader","configEnv","process","handleLoading","img","placeholder","onLoadRef","onLoadingCompleteRef","setBlurComplete","unoptimized","sizesInput","src","p","decode","Promise","resolve","catch","then","parentElement","isConnected","current","event","Event","writable","prevented","stopped","nativeEvent","currentTarget","target","isDefaultPrevented","isPropagationStopped","persist","preventDefault","stopPropagation","getDynamicProps","fetchPriority","use","fetchpriority","ImageElement","forwardRef","param","forwardedRef","srcSet","sizes","decoding","className","style","loading","fill","setShowAltText","onLoad","onError","rest","jsx","ref","useCallback","complete","ImagePreload","isAppRouter","imgAttributes","opts","as","imageSrcSet","imageSizes","crossOrigin","referrerPolicy","default","preload","children","rel","href","props","pagesRouter","useContext","RouterContext","configContext","ImageConfigContext","config","useMemo","_c_qualities","c","imageConfigDefault","allSizes","deviceSizes","sort","qualities","onLoadingComplete","useRef","useEffect","blurComplete","useState","showAltText","meta","imgMeta","getImgProps","defaultLoader","imgConf","jsxs","Fragment","priority","__esModule","assign","_excluded2","_imageblursvg","isStaticRequire","getInt","isFinite","NaN","_state","blurWidth","blurHeight","quality","overrideSrc","blurDataURL","layout","objectFit","objectPosition","lazyBoundary","lazyRoot","loader","isDefaultLoader","customImageLoader","obj","layoutStyle","layoutToStyle","intrinsic","maxWidth","responsive","layoutSizes","layoutToSizes","staticSrc","widthInt","heightInt","staticImageData","stringify","ratio","isLazy","startsWith","endsWith","dangerouslyAllowSVG","qualityInt","imgStyle","position","left","top","right","bottom","backgroundImage","getImageBlurSvg","placeholderStyle","backgroundSize","backgroundPosition","backgroundRepeat","generateImgAttrs","widths","kind","getWidths","viewportWidthRe","percentSizes","smallestRatio","Set","w","find","last","i","svgWidth","svgHeight","viewBox","_export","all","name","_default","getImageProps","_imagecomponent","imgProps","entries","_config_qualities","q","prev","cur","abs","path","encodeURIComponent","__next_img_default","MountedMapsContext","react","createContext","useMap","maps","currentMap","map_MapContext","transformToViewState","tr","longitude","center","lng","latitude","lat","zoom","pitch","bearing","padding","applyViewStateToTransform","viewState","changed","constructor","isPaddingEqual","refProps","normalizeStyle","toJS","layers","layerIndex","layer","id","layerRef","normalizedLayer","interactive","propName","deep_equal_deepEqual","aKeys","bKeys","hasOwnProperty","pointerEvents","mousedown","mouseup","mouseover","mousemove","click","dblclick","mouseenter","mouseleave","mouseout","contextmenu","touchstart","touchend","touchmove","touchcancel","cameraEvents","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomend","rotatestart","rotate","rotateend","pitchstart","pitchend","otherEvents","wheel","boxzoomstart","boxzoomend","boxzoomcancel","resize","load","render","idle","remove","data","styledata","sourcedata","error","settingNames","handlerNames","Mapbox","MapClass","container","_map","_internalUpdate","_inRender","_hoveredFeatures","_deferredEvents","_onEvent","cb","_onPointerEvent","_updateHover","interactiveLayerIds","features","queryRenderedFeatures","point","_onCameraEvent","_MapClass","_initialize","transform","_renderTransform","setProps","oldProps","settingsChanged","_updateSettings","clone","sizeChanged","_updateSize","viewStateChanged","_updateViewState","_updateStyle","_updateStyleComponents","_updateHandlers","isMoving","redraw","reuse","that","savedMaps","pop","oldContainer","getContainer","childNodes","appendChild","_container","initialViewState","styleDiffing","isStyleLoaded","fire","once","mapOptions","accessToken","mapboxAccessToken","getAccessTokenFromEnv","location","search","env","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","mapStyle","HTMLCanvasElement","setPadding","cursor","getCanvas","renderMap","_render","call","arg","runRenderTaskQueue","_renderTaskQueue","run","_onBeforeRepaint","on","_onAfterRepaint","fireEvent","eventName","_fireEvent","recycle","destroy","_frame","cancel","nextProps","triggerEvents","deferredEvents","currProps","toUpperCase","diff","localIdeographFontFamily","setStyle","loaded","light","setLight","fog","setFog","terrain","getSource","setTerrain","elevation","enable","disable","onMouseMove","onMouseEnter","onMouseLeave","eventType","wasHovering","isHovering","baseFire","properties","skipMethods","useIsomorphicLayoutEffect","useLayoutEffect","globalSettings","Map","mountedMapsContext","mapInstance","setMapInstance","containerRef","contextValue","mapLib","mapbox","isMounted","mapboxgl","setGlobals","RTLTextPlugin","getRTLTextPluginStatus","setRTLTextPlugin","console","reuseMaps","createRef","result","getMap","getCenter","getZoom","getBearing","getPitch","getPadding","getBounds","project","locationPoint","LngLat","convert","lnglat","unproject","pointLocation","Point","getMethodNames","proto","add","from","includes","onMapMount","originalEvent","onMapUnmount","use_isomorphic_layout_effect","useImperativeHandle","Provider","displayName","defaultProps","minZoom","maxZoom","minPitch","maxPitch","scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch","version","projection","renderWorldCopies","unitlessNumber","applyReactStyle","element","styles","Marker","thisRef","marker","hasChildren","Children","el","mk","setLngLat","getElement","addEventListener","onClick","evt","lngLat","getLngLat","onDragStart","onDrag","onDragEnd","addTo","offset","arePointsEqual","ax","ay","bx","by","getOffset","setOffset","isDraggable","draggable","setDraggable","getRotation","rotation","setRotation","getRotationAlignment","rotationAlignment","setRotationAlignment","getPitchAlignment","pitchAlignment","setPitchAlignment","getPopup","popup","setPopup","react_dom","createPortal","getClassList","trim","split","useControl","onCreate","onRemove","ctrl","hasControl","addControl","removeControl","memo","pp","Popup","onOpen","onClose","setDOMContent","isOpen","anchor","setMaxWidth","prevClassList","nextClassList","has","removeClassName","addClassName","AttributionControl","FullscreenControl","containerId","getElementById","_controlContainer","GeolocateControl","gc","onGeolocate","onOutOfMaxBounds","onTrackUserLocationStart","onTrackUserLocationEnd","trigger","ScaleControl","setUnit","NavigationControl","identity","feature","topology","objects","geometries","feature_feature","bbox","geometry","transformPoint","x0","y0","kx","scale","ky","dx","dy","input","j","n","output","arcs","line","points","arc","k","reverse","array","ring","polygon","coordinates","_extends","channelHandles","animationHandles","Timeline","time","channels","animations","playing","lastEngineTime","addChannel","delay","duration","POSITIVE_INFINITY","rate","repeat","channelId","channel","_setChannelTime","removeChannel","animationHandle","animation","delete","detachAnimation","isFinished","getTime","setTime","values","animationData","play","pause","reset","attachAnimation","channelHandle","update","engineTime","offsetTime","DEFAULT_MODULES","SHADER_HOOKS","uniformBlock","layerUniforms","vs","fs","getUniforms","opacity","uniformTypes","Resource","_loadCount","_subscribers","setData","subscribe","consumer","unsubscribe","inUse","size","getData","isLoaded","_error","reject","_content","_loader","forceUpdate","_data","loadCount","subscriber","z","onChange","ResourceManager","protocol","_context","device","resourceManager","_resources","_consumers","_pruneRequest","contains","resourceId","persistent","res","consumerId","requestId","request","resource","prune","resources","_track","setTimeout","_prune","finalize","consumers","oldResource","LayerManager","_lastRenderedLayers","_needsRedraw","_needsUpdate","_nextLayers","_debug","_defaultShaderModulesChanged","activateViewport","debug","viewport","deck","stats","timeline","mousePosition","userData","layerManager","shaderAssembler","getShaderAssembler","shader_assembler","getDefaultShaderAssembler","shaderModule","addDefaultModule","shaderHook","addShaderHook","defaultShaderModules","renderPass","dist","jk","viewports_viewport","_finalizeLayer","needsRedraw","clearRedrawFlags","layerNeedsRedraw","getNeedsRedraw","needsUpdate","setNeedsRedraw","reason","setNeedsUpdate","getLayers","layerIds","layerId","setLayers","newLayers","flatLayers","flatten","Boolean","_updateLayers","updateLayers","addDefaultShaderModule","m","removeDefaultShaderModule","findIndex","splice","_handleError","stage","raiseError","oldLayers","oldLayerMap","oldLayer","log","warn","setChangeFlags","extensionsChanged","generatedLayers","_updateSublayersRecursively","_finalizeOldLayers","hasUniformTransition","newLayer","sublayers","validateProps","_transferLayerState","_updateLayer","_initializeLayer","isComposite","getSubLayers","err","lifecycle","constants","dt","INITIALIZED","_transferState","MATCHED","AWAITING_GC","_update","AWAITING_FINALIZATION","_finalize","FINALIZED","ViewManager","views","controllers","_viewports","_viewportMap","_isUpdating","_eventManager","eventManager","_eventCallbacks","onViewStateChange","onInteractionStateChange","controller","updateViewStates","viewId","updateTransition","getViewports","rect","containsPixel","getViews","viewMap","view","getView","getViewState","viewOrViewId","getViewStateId","filterViewState","getViewport","viewports","pixel","_setViews","_setViewState","_setSize","_rebuildViewports","_diffViews","deep_equal","_createController","onStateChange","makeViewport","_updateController","controllerProps","resolvedProps","oldControllers","invalidateControllers","oldController","hasController","unshift","_buildViewportMap","newViews","oldViews","equals","PERCENT_OR_PIXELS_REGEX","parsePosition","relative","parseFloat","getPosition","extent","View","_x","_y","_width","_height","_padding","viewportDimensions","getDimensions","getViewportType","newViewState","dimensions","ControllerType","noop","TRANSITION_EVENTS","BREAK","SNAP_TO_END","IGNORE","DEFAULT_EASING","DEFAULT_INTERRUPTION","TransitionManager","_onTransitionUpdate","transition","settings","interpolator","startProps","endProps","easing","interpolateProps","propsInTransition","getControllerState","getViewportProps","oldViewState","getViewportInTransition","processViewStateChange","transitionTriggered","currentProps","_shouldIgnoreViewportChange","_isTransitionEnabled","inProgress","interruption","_triggerTransition","transitionDuration","transitionInterpolator","_isUpdateDueToCurrentTransition","arePropsEqual","transitionSettings","startViewstate","endViewStateProps","shortestPathFrom","getDuration","initialProps","initializeProps","transitionEasing","transitionInterruption","start","end","onStart","onTransitionStart","onUpdate","onInterrupt","_onTransitionEnd","onTransitionInterrupt","onEnd","onTransitionEnd","inTransition","callback","isZooming","isPanning","isRotating","TransitionInterpolator","compare","extract","required","_propsToCompare","_propsToExtract","_requiredProps","common","fS","startViewStateProps","_checkRequiredProps","assert","DEFAULT_PROPS","DEFAULT_REQUIRED_PROPS","LinearInterpolator","transitionProps","normalizedOpts","around","startViewport","endViewport","aroundPosition","t7","panByPosition","NO_TRANSITION_PROPS","INERTIA_EASING","pinchEventWorkaround","Controller","state","_events","_interactionState","isDragging","_customEvents","_eventStartBlocked","_panMove","invertPan","dragMode","inertia","touchZoom","touchRotate","transitionManager","ControllerState","_onTransition","_setInteractionState","handleEvent","events","customEvents","toggleEvents","off","_controllerState","eventStartBlocked","_onPanStart","_onPan","_onPanEnd","_onPinchStart","_onPinch","_onPinchEnd","_onMultiPanStart","_onMultiPan","_onMultiPanEnd","_onDoubleClick","_onWheel","_onKeyDown","controllerState","offsetCenter","isPointInBounds","pos","handled","inside","isFunctionKeyPressed","srcEvent","metaKey","altKey","ctrlKey","shiftKey","blockEvents","timeout","timer","_getTransitionProps","isInteractive","eventNames","enabled","updateViewport","newControllerState","extraProps","interactionState","getState","params","newStates","alternateMode","rightButton","_onPanMove","_onPanRotate","_onPanMoveEnd","_onPanRotateEnd","pan","velocity","endPos","velocityX","velocityY","panEnd","rotateEnd","speed","smooth","exp","rotateStart","deltaX","zoomStart","_startPinchRotation","_lastPinchEvent","deltaAngleX","log2","velocityZ","deltaTime","endScale","zoomEnd","isZoomOut","funcKey","zoomSpeed","moveSpeed","rotateSpeedX","rotateSpeedY","code","zoomOut","zoomIn","rotateLeft","moveLeft","rotateRight","moveRight","rotateUp","moveUp","rotateDown","moveDown","ViewState","_viewportProps","applyConstraints","MapState","altitude","startPanLngLat","startZoomLngLat","startRotatePos","startBearing","startPitch","startZoom","normalize","panStart","_getUpdatedState","_unproject","startPos","newProps","deltaAngleY","newRotation","_getNewRotation","uZ","zoomedViewport","_zoomFromCenter","_panFromCenter","fromProps","web_mercator_dist","QA","deltaY","centerY","startY","deltaScaleY","MapController","MapView","web_mercator_viewport","DEFAULT_LIGHT_COLOR","idCount","AmbientLight","intensity","directional_light_DEFAULT_LIGHT_COLOR","DEFAULT_LIGHT_DIRECTION","directional_light_idCount","DirectionalLight","direction","_shadow","vector3","P","toArray","shadow","getProjectedLight","Pass","cleanup","LayersPass","_lastRenderIndex","canvasContext","getDrawingBufferSize","clearCanvas","clearColor","colorMask","parameters","scissorRect","beginRenderPass","framebuffer","clearDepth","clearStencil","_drawLayers","shaderModuleProps","onViewportActive","clearStack","pass","renderStats","drawLayerParams","_getDrawLayerParams","subViewport","subViewports","_drawLayersInViewport","isPicking","layerFilter","cullRect","effects","evaluateShouldDrawOnly","indexResolver","layerIndexResolver","startIndex","layerIndices","resolvers","resolveLayerIndex","isDrawn","indexOverride","_offset","parentId","parent","resolver","drawContext","layerFilterCache","shouldDrawLayer","_shouldDrawLayer","layerParam","layerRenderIndex","_getShaderModuleProps","layerParameters","getLayerParameters","globalModuleParameters","glViewport","getGLViewport","pixelRatio","devicePixelRatio","cssToDeviceRatio","drawingBufferHeight","clear","clearOpts","clearRenderPass","renderStatus","totalCount","visibleCount","compositeCount","pickableCount","setParameters","drawLayerParameters","pickable","isDrawable","_drawLayer","uniforms","getShaderModuleProps","otherShaderModuleProps","visible","filterSubLayer","rootLayerId","overrides","layerProps","internalState","picking","isActive","modelMatrix","coordinateSystem","coordinateOrigin","autoWrapLongitude","wrapLongitude","effect","mergeModuleParameters","ShadowPass","shadowMap","createTexture","format","sampler","minFilter","magFilter","addressModeU","addressModeV","mipmaps","depthBuffer","fbo","createFramebuffer","colorAttachments","depthStencilAttachment","getShadowMap","texture","blend","depthWriteEnabled","depthCompare","shadowEnabled","drawToShadowMap","shadow_uniformBlock","vertex","fragment","getMemoizedViewportCenterPosition","memoize","matrix4","viewProjectionMatrix","invert","getMemoizedViewProjectionMatrices","shadowMatrices","projectionMatrices","pixelUnprojectionMatrix","farZ","isGeospatial","corners","screenToCommonSpace","coord","CT","shadowMatrix","viewMatrix","negate","positions","corner","projectionMatrix","ortho","near","far","multiplyRight","DEFAULT_SHADOW_COLOR","VECTOR_TO_POINT_MATRIX","dependencies","inject","projectProps","drawShadowMap","useShadowMap","shadow_uShadowMap0","dummyShadowMap","shadow_uShadowMap1","projectUniforms","projectCenters","viewProjectionMatrices","viewProjectionMatrixCentered","lib_constants","COORDINATE_SYSTEM","LNGLAT","projectionMode","zG","WEB_MERCATOR","shadowMaps","shadowColor","lightId","shadowLightId","lightCount","viewProjectionMatrix0","viewProjectionMatrix1","projectCenter0","projectCenter1","DEFAULT_AMBIENT_LIGHT_PROPS","DEFAULT_DIRECTIONAL_LIGHT_PROPS","lighting_effect_DEFAULT_SHADOW_COLOR","LightingEffect","directionalLights","pointLights","shadowPasses","setup","_createShadowPasses","_addDefaultShaderModule","ambientLight","lightSource","_applyDefaultLights","preRender","_calculateMatrices","shadowPass","shadowProps","lightingProps","directionalLight","pointLight","materialProps","material","lighting","phongMaterial","gouraudMaterial","_removeDefaultShaderModule","lightMatrices","lookAt","eye","DEFAULT_LIGHTING_EFFECT","EffectManager","_resolvedEffects","_defaultEffects","_setEffects","addDefaultEffect","defaultEffects","e1","order","Infinity","e2","getEffects","oldEffectsMap","nextEffects","oldEffect","effectToAdd","removedEffectId","concat","DrawLayersPass","operation","PICKING_BLENDING","blendColorOperation","blendColorSrcFactor","blendColorDstFactor","blendAlphaOperation","blendAlphaSrcFactor","blendAlphaDstFactor","PickLayersPass","_colorEncoderState","_drawPickingBuffer","pickingFBO","deviceRect","pickZ","colorEncoderState","_resetColorEncoder","useInPicking","decodePickingColor","decodeColor","isAttribute","pickParameters","blendColor","encodeColor","encoded","byLayer","byAlpha","entry","pickedColor","pickedLayer","pickedViewports","pickedObjectIndex","DeckRenderer","drawPickingColors","drawLayersPass","pickLayersPass","renderCount","renderBuffers","lastPostProcessEffect","renderLayers","layerPass","renderOpts","_preRender","outputBuffer","_postRender","buffer","preRenderStats","postRender","_resizeRenderBuffers","inputBuffer","swapBuffer","NO_PICKED_OBJECT","getEmptyPickingInfo","pickInfo","coordinate","pickedViewport","getViewportFromCoordinates","picked","devicePixel","pickedX","pickedY","getLayerPickingInfo","info","mode","sourceLayer","getPickingInfo","DeckPicker","_pickable","lastPickedInfo","depthFBO","pickObject","_pickClosestObject","pickObjects","_pickVisibleObjects","getLastPickedObject","lastPickedLayerId","lastPickedViewportId","_resizeBuffer","isTextureFormatRenderable","getDefaultCanvasContext","_getPickable","pickableLayers","radius","unproject3D","infos","emptyInfo","devicePixelRange","cssToDevicePixels","deviceRadius","_getPickingRect","deviceX","deviceY","deviceWidth","deviceHeight","affectedLayers","getClosestObject","pickedColors","minSquareDistanceToCenter","closestPixelIndex","row","dy2","pickedLayerIndex","d2","pickedObject","_drawAndSample","pickedColors2","disablePickingIndex","processPickInfo","lastPickedPixelIndex","pickedLayerId","lastPickedLayer","baseInfo","rootLayer","updateAutoHighlight","restorePickingColors","maxObjects","leftTop","deviceLeft","deviceTop","rightBottom","deviceRight","deviceBottom","pickInfos","getUniqueObjects","uniqueColors","colorKey","uniquePickedObjects","uniqueInfos","limitMaxObjects","uniqueObjectsInLayer","pickedObjectKey","Float32Array","Uint8Array","readPixelsToArrayWebGL","sourceX","sourceY","sourceWidth","sourceHeight","PLACEMENTS","ROOT_CONTAINER_ID","WidgetManager","defaultWidgets","widgets","resolvedWidgets","containers","lastViewports","getWidgets","_setWidgets","widget","_remove","addDefault","_add","nextWidgets","oldWidgetMap","oldWidget","placement","onAdd","_getContainer","append","_element","viewContainer","overflow","querySelector","zIndex","_updateContainers","canvasWidth","canvasHeight","display","onRedraw","viewportsById","acc","onViewportChange","onHover","onEvent","eventHandlerProp","Hu","defaultStyle","backgroundColor","Tooltip","isVisible","lastViewport","setTooltip","getTooltip","displayInfo","innerText","text","html","innerHTML","json_loader","dataType","batchType","extensions","mimeTypes","testText","firstChar","lastChar","parseTextSync","parse","VERSION","checkVersion","existingVersion","globalThis","_registerLoggers","register_loaders","fh","image_loader","S","imagebitmap","premultiplyAlpha","isPage","is_browser","isPageLoaded","readyState","ERROR_MESSAGE","Luma","AS","adapters","waitForPageLoad","pageLoaded","getPageLoadPromise","utils_log","probe","stats_manager","spector","preregisteredAdapters","luma","registerAdapters","deviceClass","getSupportedAdapters","getAdapterMap","adapter","getBestAvailableAdapter","adapterMap","setDefaultDeviceProps","createDevice","attachDevice","handle","WebGL2RenderingContext","createCanvasContext","attach","enforceWebGL2","enforce","webgl2Adapter","registerDevices","deviceClasses","Adapter","WEBGL1_STATIC_EXTENSIONS","WEBGL_depth_texture","UNSIGNED_INT_24_8_WEBGL","OES_element_index_uint","OES_texture_float","OES_texture_half_float","HALF_FLOAT_OES","EXT_color_buffer_float","OES_standard_derivatives","FRAGMENT_SHADER_DERIVATIVE_HINT_OES","EXT_frag_depth","EXT_blend_minmax","MIN_EXT","MAX_EXT","EXT_shader_texture_lod","getWEBGL_draw_buffers","drawBuffersWEBGL","drawBuffers","buffers","COLOR_ATTACHMENT0_WEBGL","COLOR_ATTACHMENT1_WEBGL","COLOR_ATTACHMENT2_WEBGL","COLOR_ATTACHMENT3_WEBGL","getOES_vertex_array_object","VERTEX_ARRAY_BINDING_OES","createVertexArrayOES","createVertexArray","deleteVertexArrayOES","deleteVertexArray","vertexArray","isVertexArrayOES","isVertexArray","bindVertexArrayOES","bindVertexArray","getANGLE_instanced_arrays","VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE","drawArraysInstancedANGLE","args","drawArraysInstanced","drawElementsInstancedANGLE","drawElementsInstanced","vertexAttribDivisorANGLE","vertexAttribDivisor","WebGLAdapter","rq","webgl_device","originalGetContext","contextId","HTMLElement","polyfillWebGL1Extensions","getExtension","boundExtensions","WEBGL_disjoint_timer_query","WEBGL_draw_buffers","OES_vertex_array_object","ANGLE_instanced_arrays","originalGetExtension","extensionName","originalGetSupportedExtensions","getSupportedExtensions","_version","_handle","autoResize","groupCollapsed","promises","debugWebGL","webgl_developer_tools","debugSpectorJS","J$","allSettled","status","message","_reused","vendor","renderer","table","groupEnd","statIdCounter","DEFAULT_ANIMATION_LOOP_PROPS","onAddHTML","onInitialize","onRender","onFinalize","useDevicePixels","autoResizeViewport","autoResizeDrawingBuffer","AnimationLoop","animationProps","cpuTime","gpuTime","frameRate","_initialized","_running","_animationFrameId","_nextFramePromise","_resolveNextFrame","_cpuStartTime","stop","_onMousemove","_onMouseleave","_setDisplay","setError","Error","errorDiv","body","appContext","_initDevice","_getAnimationProps","_cancelAnimationFrame","_requestAnimationFrame","isLost","_beginFrameTimers","_setupFrame","_updateAnimationProps","_renderFrame","_clearNeedsRedraw","_endFrameTimers","attachTimeline","detachTimeline","waitForRender","toDataURL","_startEventHandling","_initializeAnimationProps","_resizeCanvasDrawingBuffer","_resizeViewport","animationLoop","_animationFrame","requestAnimationFrame","timerId","cancelAnimationFrame","clearTimeout","submit","aspect","startTime","Date","now","tick","tock","_mousePosition","_getSizeAndAspect","_createInfoDiv","wrapperDiv","div","background","getPixelSize","clientHeight","clientWidth","drawingBufferWidth","timeEnd","timeStart","MouseEvent","offsetX","offsetY","deck_noop","pickingRadius","deviceProps","touchAction","eventRecognizerOptions","_framebuffer","_animate","_typedArrayManagerProps","_customRender","onDeviceInitialized","onWebGLInitialized","onResize","onBeforeRender","onAfterRender","cause","_onMetrics","getCursor","Deck","viewManager","effectManager","deckRenderer","deckPicker","widgetManager","tooltip","cursorState","metrics","fps","setPropsTime","updateAttributesTime","framesRedrawn","pickTime","pickCount","gpuTimePerFrame","cpuTimePerFrame","bufferMemory","textureMemory","renderbufferMemory","gpuMemory","_metricsCounter","_pickRequest","_lastPointerDownInfo","_onPointerMove","leftButton","layerHandler","rootHandler","_onPointerDown","pickedInfo","_pick","deviceOrPromise","WebGLRenderingContext","_reuseDevices","_createCanvas","_createAnimationLoop","typed_array_manager","setOptions","removeChild","removed","_setCanvasSize","_getViews","_getViewState","viewManagerNeedsRedraw","layerManagerNeedsRedraw","effectManagerNeedsRedraw","deckRendererNeedsRedraw","redrawReason","incrementCount","isInitialized","pickMultipleObjects","_addResources","_removeResources","resourceIds","_addDefaultEffect","method","statKey","cssWidth","cssHeight","_updateCanvasSize","newWidth","newHeight","_setDevice","_onRenderFrame","normalizedViews","_onContextLost","_pickAndCallback","_updateCursor","setParametersWebGL","blendFunc","polygonOffsetFill","depthTest","depthFunc","mjolnir_js_dist","Qz","recognizers","_i","RecognizerConstructor","defaultOptions","recognizeWith","requestFailure","optionsOverride","recognizer","pointerdown","pointermove","pointerleave","_onViewStateChange","_onInteractionStateChange","renderOptions","_getFrameStats","_getMetrics","animationLoopStats","addTime","lastTiming","getHz","count","getAverageTime","memoryStats","GlobeState","math_utils","wQ","LO","GlobeController","GlobeView","globe_viewport","DEGREES_TO_RADIANS","getDeckInstance","deckInstance","__deck","customRender","deckProps","triggerRepaint","getDefaultParameters","getDefaultView","watchMapMove","isExternal","removeDeckInstance","mapboxLayers","afterRender","mapboxLayerIds","hasNonMapboxLayers","deckLayers","mapboxViewportIdx","vp","hasNonMapboxViews","currentViewport","_handleMapMove","interleaved","depthBias","getProjection","cullMode","getRenderWorldCopies","getTerrain","centerCameraOnTerrain","getFreeCameraOptions","cameraX","cameraY","cameraZ","w5","pitchRadians","altitudePixels","cos","sin","sqrt","cameraZFromSurface","surfaceElevation","NC","renderParameters","nearZMultiplier","nearZ","_nearZ","_farZ","deckLayer","MapboxLayer","renderingMode","drawLayer","UNDEFINED_BEFORE_ID","resolveLayers","_loaded","prevLayerIds","prevLayers","getLayer","removeLayer","mapboxLayer","layerInstance","implementation","addLayer","beforeId","mapLayers","_order","layerGroups","layerGroup","lastLayerIndex","lastLayerId","moveLayer","MapboxOverlay","_handleStyleChange","_deck","_props","_updateContainerSize","_handleMouseEvent","mockEvent","lastDown","_lastMouseDownPoint","clientX","clientY","tapCount","otherProps","_interleaved","_onAddInterleaved","_onAddOverlaid","textAlign","painter","_onRemoveInterleaved","_onRemoveOverlaid","getDefaultPosition","Adder","_partials","Float64Array","_n","hi","lo","valueOf","range","step","ceil","translateX","translateY","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","ticks","domain","spacing","range0","range1","bandwidth","d","copy","selection","selectAll","tickExit","exit","tickEnter","enter","attr","select","insert","getAttribute","parentNode","each","tickSize","axisRight","axisBottom","axisLeft","radians","degrees","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","Ss","SU","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hcl","hclConvert","atan2","isNaN","src_define","Il","brighter","K","darker","Xn","Yn","Zn","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaRingSum","d3_array__WEBPACK_IMPORTED_MODULE_0__","dU","areaSum","areaStream","_noop_js__WEBPACK_IMPORTED_MODULE_1__","lineStart","lineEnd","polygonStart","areaRingStart","areaRingEnd","polygonEnd","areaRing","_math_js__WEBPACK_IMPORTED_MODULE_2__","BZ","sphere","areaPointFirst","areaPoint","lambda","phi","uR","mC","pu","O$","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","fv","__WEBPACK_DEFAULT_EXPORT__","_stream_js__WEBPACK_IMPORTED_MODULE_3__","phi0","lambda1","phi1","lambda2","p0","deltaSum","ranges","cartesianCross","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","fsum","src_area","gL","L9","math","Ho","linePoint","spherical","normal","inflection","_b","cartesian","ZR","phii","sign","lambdai","RW","antimeridian","Wn","angle","rangeCompare","rangeContains","bounds","merged","deltaMax","stream","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","centroidStream","_noop_js__WEBPACK_IMPORTED_MODULE_0__","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","_math_js__WEBPACK_IMPORTED_MODULE_1__","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cx","cy","cz","_m","d3_array__WEBPACK_IMPORTED_MODULE_2__","aW","epsilon","epsilon2","pi","halfPi","quarterPi","tau","hypot","asin","streamGeometry","streamGeometryType","streamObjectType","Feature","FeatureCollection","Sphere","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","closed","transformPow","exponent","transformSqrt","transformSquare","_continuous_js__WEBPACK_IMPORTED_MODULE_0__","l4","yR","_linear_js__WEBPACK_IMPORTED_MODULE_1__","Q","JG","_init_js__WEBPACK_IMPORTED_MODULE_2__","quantile_quantile","unknown","thresholds","rescale","quantileSorted","valueof","src_number","i0","value0","value1","bisect","ZP","invertExtent","ascending","quantiles","init","quantize","x1","_init_js__WEBPACK_IMPORTED_MODULE_1__","_linear_js__WEBPACK_IMPORTED_MODULE_2__","sequential","_linear_js__WEBPACK_IMPORTED_MODULE_3__","transformer","k10","clamp","interpolate","r0","r1","d3_interpolate__WEBPACK_IMPORTED_MODULE_1__","rangeRound","d3_interpolate__WEBPACK_IMPORTED_MODULE_2__","_init_js__WEBPACK_IMPORTED_MODULE_4__","O","threshold","makeMatrix","columns","rows","matrix","column","ssq","sums","sumsOfSquares","sji","muji","ckmeans","nClusters","sorted","uniqueCount","uniqueCountSorted","lastSeenValue","uniqueValueCount","backtrackMatrix","fillMatrices","nValues","shift","shiftedValue","cluster","fillMatrixColumn","iMin","iMax","ssqjlow","ssqj","jlow","jhigh","sjlowi","clusters","clusterRight","clusterLeft","BayesianClassifier","train","item","category","score","odds","oddsSums","combination","PerceptronModel","weights","bias","predict","label","prediction","gradient","SQRT_2PI","standardNormalTable","cumulativeDistribution","sum","tmp"],"sourceRoot":""}