"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87570],{43334:function(e,t,r){r.d(t,{g:function(){return s},p:function(){return i}});var n=r(43137),l=r(24246);let i=()=>{let{bounds:{chartWidth:e,chartHeight:t,margins:{top:r,left:i,bottom:s}}}=(0,n.gH)();return(0,l.jsx)("rect",{x:i-1,y:t+r,width:e+2,height:s,fill:"white"})},s=()=>{let{bounds:{chartHeight:e,margins:{top:t,left:r}}}=(0,n.gH)();return(0,l.jsx)("rect",{x:0,y:t-1,width:r,height:e+2,fill:"white"})}},40964:function(e,t,r){r.d(t,{x:function(){return p}});var n=r(27378),l=r(17043),i=r(24246);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let o=e=>{let{renderData:t,margins:r,isHorizontal:n}=e;return(0,i.jsx)("g",{id:n?"horizontal-limits":"vertical-limits",transform:`translate(${r.left}, ${r.top})`,children:(0,i.jsx)("g",{children:t.map(e=>(0,i.jsxs)("g",{children:[(0,i.jsx)(u,{limit:e}),e.symbolType?(0,i.jsx)("g",{className:"symbol",children:(0,i.jsx)(c,{limit:e})}):(0,i.jsx)(x,{limit:e,isHorizontal:n})]},e.key))})})},u=e=>{let{limit:t}=e;return(0,i.jsx)("line",{className:"middle-line",x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,stroke:t.fill,strokeWidth:3,strokeDasharray:"dashed"===t.lineType?"3 3":"none"})},c=e=>{let{limit:t}=e;if(!t.symbolType)return null;let r={cx:(t.x1+t.x2)/2,cy:(t.y1+t.y2)/2,fill:t.fill};switch(t.symbolType){case"circle":return(0,i.jsx)(y,a({},r));case"cross":return(0,i.jsx)(d,a({},r));case"triangle":return(0,i.jsx)(m,a({},r));default:return t.symbolType}},y=e=>{let{cx:t,cy:r,fill:n}=e;return(0,i.jsx)("circle",{cx:t,cy:r,r:4.5,fill:n})},d=e=>{let{cx:t,cy:r,fill:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{cx:t,cy:r,fill:n,rotation:45}),(0,i.jsx)(f,{cx:t,cy:r,fill:n,rotation:-45})]})},f=e=>{let{cx:t,cy:r,fill:n,rotation:l}=e;return(0,i.jsx)("rect",{x:t-6,y:r-1.5,width:12,height:3,fill:n,style:{transform:`rotate(${l}deg)`,transformBox:"fill-box",transformOrigin:"center"}})},m=e=>{let{cx:t,cy:r,fill:n}=e;return(0,i.jsx)("path",{d:"M0,-2.5L2.2,2.5L-2.2,2.5Z",fill:n,transform:`translate(${t}, ${r}) scale(2)`})},x=e=>{let{limit:t,isHorizontal:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h,{type:"top",limit:t,isHorizontal:r}),(0,i.jsx)(h,{type:"bottom",limit:t,isHorizontal:r})]})},h=e=>{let{type:t,limit:r,isHorizontal:n}=e,l=n?r.x1!==r.x2:r.y1!==r.y2,s=n?{x1:"top"===t?r.x2:r.x1,x2:"top"===t?r.x2:r.x1,y1:r.y1+r.size/2,y2:r.y2-r.size/2}:{y1:"top"===t?r.y2:r.y1,y2:"top"===t?r.y2:r.y1,x1:r.x1+r.size/2,x2:r.x2-r.size/2};return(0,i.jsx)("line",a(a({},s),{},{className:`${t}-line`,stroke:r.fill,strokeWidth:3,strokeDasharray:l||"solid"===r.lineType?"none":"3 3"}))},p=e=>{let{isHorizontal:t,getChartState:r}=e,l=e=>{let{axisDimension:l,limits:s}=e,{bounds:{margins:a,chartWidth:u,chartHeight:c},xScale:y,yScale:d,getX:f,getY:m}=r(),x=t?m:f,h=t?d:y,p=t?y:d,g=t?c:u,j=(0,n.useMemo)(()=>{if(!s.length)return[];let e="bandwidth"in h,r=e?h.bandwidth():15;return s.flatMap(n=>{let i,s,a,o,{configLimit:u,measureLimit:c,relatedAxisDimensionValueLabel:y}=n,{axis1Value:d,axis2Value:f,measure1Value:m,measure2Value:j}=b({measureLimit:c,getAxisValue:x,observationKey:l?.id??"",observationLabel:y??"",axisDimensionId:l?.id}),w=h(d),v=h(f),k=p(m),O=p(j),z=u.related.map(e=>e.dimensionId+e.value).join(),I=void 0===w?g:"time-range"===c.type?0:r,$=e?I/2:0,M=void 0===y;t?(a=w?w+$:0,o=v?v+$:g,i=k??0,s=O??0):(i=w?w+$:0,s=v?v+$:g,a=k??0,o=O??0);let D={key:z,x1:i,x2:s,y1:a,y2:o,size:I,fill:u.color,lineType:u.lineType,symbolType:u.symbolType};return void 0!==w&&void 0!==v||M?[D]:[]})},[s,l?.id,x,h,p,g]);return(0,i.jsx)(o,{renderData:j,margins:a,isHorizontal:t})};return l.displayName=t?"HorizontalLimitsInner":"VerticalLimitsInner",l},b=e=>{let t,r,n,l,{measureLimit:i,getAxisValue:s,observationKey:a,observationLabel:o,axisDimensionId:u}=e;switch(i.type){case"single":t=r=s({[a]:o}),n=l=i.value;break;case"value-range":t=r=s({[a]:o}),n=i.min,l=i.max;break;case"time-range":{let{related:e}=i,o=e.find(e=>"time-from"===e.type&&e.dimensionId===u)?.label??"",c=e.find(e=>"time-to"===e.type&&e.dimensionId===u)?.label??"";t=s({[a]:o}),r=s({[a]:c}),n=l=i.value;break}default:return i}return{axis1Value:t,axis2Value:r,measure1Value:n,measure2Value:l}}},91160:function(e,t,r){r.d(t,{L:function(){return n}});let n=40},83540:function(e,t,r){r.d(t,{HD:function(){return i},hy:function(){return o},oG:function(){return u}});var n=r(80491),l=r(32597);let i=(e,t,r)=>{let{transition:l,rotate:i,textAnchor:o,dx:u=0,dy:c=-8,fontFamily:y,fontSize:d,strokeWidth:f=3}=r,m=o??a(i);e.selectAll("text").data(t,e=>e.key).join(e=>e.append("text").attr("font-size",d).attr("font-family",y).attr("text-anchor",m).attr("paint-order","stroke").attr("stroke","white").attr("stroke-width",f).style("transform",e=>s(e,{rotate:i,labelHeight:d,dx:u,dy:c})).style("line-height",1).style("opacity",0).text(e=>e.valueLabel).call(e=>(0,n.u5)(e,{transition:l,s:e=>e.style("opacity",1)})),e=>(0,n.u5)(e,{s:e=>e.attr("text-anchor",m).style("transform",e=>s(e,{rotate:i,labelHeight:d,dx:u,dy:c})).style("opacity",1).text(e=>e.valueLabel),transition:l}),e=>(0,n.u5)(e,{transition:l,s:e=>e.style("opacity",0).remove()}))},s=(e,t)=>{let{rotate:r,labelHeight:n,dx:l,dy:i}=t;return r?`translate(${e.x+n/3}px, ${e.y-2*n/3}px) rotate(-90deg)`:`translate(${e.x+l}px, ${e.y+i}px) rotate(0deg)`},a=e=>e?"start":"middle",o=e=>e.style("display","flex").style("justify-content","center").style("align-items","center").style("width","100%").style("height","100%").style("padding","2px"),u=e=>e.attr(l.I1,!0).style("overflow","hidden").style("font-size","12px").style("white-space","nowrap").style("text-overflow","ellipsis")},26006:function(e,t,r){r.d(t,{II:function(){return y},ND:function(){return d},Yf:function(){return f},fv:function(){return c},wI:function(){return m}});var n=r(27378),l=r(43137),i=r(18185),s=r(3663),a=r(17510),o=r(41494),u=r(87358);let c=(e,t)=>{let{chartData:r,dimensions:l,measures:i,getValue:a,getErrorRange:o,scale:c,bandwidth:y}=t,{showValues:d=!1}=e,f=i.find(t=>t.id===e.componentId);if(!f)throw Error(`No dimension <${e.componentId}> in cube! (useShowBandValueLabelsVariables)`);let x=!y,{labelFontSize:h}=(0,s.$)(),p=x||y>h?1:Math.ceil(h/y),b=m({measureId:f.id,dimensions:l,measures:i}),g=(0,n.useCallback)(e=>{let t=a(e);if(null===t)return 0;let r=o?.(e)[1];return void 0===r?0:x?c(r-t):c(r)-c(t)},[a,o,x,c]),{offset:j,rotateValues:w}=(0,n.useMemo)(()=>{let e=0,t=!1;if(d){let n=0;r.forEach(e=>{let r=b(a(e)),l=(0,u.m)(r,{fontSize:h});!x&&l-2>y&&(t=!0),l>n&&(n=l)}),e=x||t?n:h}return{offset:e,rotateValues:t}},[d,r,x,a,b,h,y]);return{offset:j,getValueOffset:g,showValues:d,rotateValues:w,renderEveryNthValue:p,valueLabelFormatter:b}},y=(e,t)=>{let{dimensions:r,measures:n,segment:l}=t,{showValues:i=!1}=e,a=n.find(t=>t.id===e.componentId);if(!a)throw Error(`No dimension <${e.componentId}> in cube! (useShowLineValueLabelsVariables)`);let{labelFontSize:o}=(0,s.$)(),u=m({measureId:a.id,dimensions:r,measures:n}),c=i&&!l;return{yOffset:c?o:0,showValues:c,valueLabelFormatter:u}},d=()=>{let{bounds:{width:e,height:t,margins:{left:r,right:i}},showValues:o,chartData:c,xScale:y,getX:d,getXAsString:m,yScale:x,getY:h,valueLabelFormatter:p}=(0,l.gH)(),{labelFontSize:b}=(0,s.$)(),g=(0,n.useMemo)(()=>c.reduce((e,t,r)=>{let n=p(h(t)),l=(0,u.m)(n,{fontSize:b});return e[r]=l,e},{}),[c,p,h,b]);return(0,n.useMemo)(()=>{if(!o||!e||!t)return[];let n=[];return c.map((t,l)=>{let s=g[l]??0,a=m(t),o=h(t),u=y(d(t)),c=null===o||isNaN(o)?0:o,j={key:a,x:Math.min(Math.max(Math.min(r-s/2+8,s/2),u),e-i-r-s/2+8),y:x(Math.max(c,0)),valueLabel:p(c),width:s};return f({previousArray:n,current:j,labelHeight:b})?null:(n.push(j),j)}).filter(a.y)},[o,e,t,c,g,m,h,y,d,x,p,r,i,b])},f=e=>{let{previousArray:t,current:r,labelHeight:n,horizontalOffset:l=8}=e;return t.some(e=>Math.abs(r.x-e.x)-l<e.width/2+r.width/2&&Math.abs(r.y-e.y)<n)},m=e=>{let{measureId:t,dimensions:r,measures:l,normalize:s}=e,a=(0,o.D2)({decimals:0}),u=(0,o.D2)({decimals:"auto"}),c=(0,i.c)({dimensions:r,measures:l}),y=s?a:c[t]??u;return(0,n.useCallback)(e=>(0,o._1)(e,y),[y])}},18185:function(e,t,r){r.d(t,{c:function(){return i}});var n=r(27378),l=r(41494);let i=e=>{let{dimensions:t,measures:r}=e,i=(0,n.useMemo)(()=>[...t,...r],[t,r]);return(0,l.sz)(i)}},63122:function(e,t,r){r.d(t,{h:function(){return n}});let n=e=>{let{data:t,order:r,getCategory:n,sortingOrder:l}=e;return t.sort((e,t)=>{let i=n(e),s=n(t);return r.indexOf(i)>r.indexOf(s)?"asc"===l?1:-1:"asc"===l?-1:1}),t}}}]);
//# sourceMappingURL=87570.f57481207c4653fd.js.map