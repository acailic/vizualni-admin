{"version":3,"file":"static/chunks/pages/_charts-26afed9975a82d3d.js","mappings":"0rCA2EA,IAAMA,EAAgCC,CAAAA,EAAAA,EAAAA,UAAAA,EAIpC,CAAAC,EAWEC,KACG,GAXH,CACEC,WAAAA,CAAU,CACVC,MAAAA,CAAK,CACLC,YAAAA,CAAW,CACXC,UAAAA,CAAS,CACTC,SAAAA,CAAQ,CACRC,YAAAA,CAAW,CACXC,aAAAA,CAAAA,CAED,CAAAR,EADIS,EAAIC,CAAAA,EAAAA,EAAAA,CAAAA,EAAAV,EAAAW,GAIHC,EAAqBC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAMC,CAAAA,EAAAA,EAAAA,EAAAA,IAA4B,EAAE,EACvE,MACEC,CAAAA,EAAAA,EAAAA,GAAAA,EAACC,EAAAA,EAAyB,CAACC,QAAQ,EAACC,MAAON,EAAmBN,SAC5DS,CAAAA,EAAAA,EAAAA,GAAAA,EAACI,EAAAA,EAAyB,EAAAb,SACxBS,CAAAA,EAAAA,EAAAA,GAAAA,EAACK,EAAAA,EAAY,CAAAC,EAAAA,EAAA,CAEXC,OAAQnB,EAAMmB,MAAO,CACrBrB,IAAKA,EACLsB,SAAUnB,EAAYoB,GAAAA,EAClBf,GAAI,IAAAH,SAERS,CAAAA,EAAAA,EAAAA,GAAAA,EAACU,EAAmB,CAElBvB,WAAYA,EACZC,MAAOA,EACPC,YAAaA,EACbC,UAAWA,EACXO,mBAAoBA,EACpBL,YAAaA,EACbC,aAAcA,EAAaF,SAE1BA,CAAQ,EATJF,EAAYoB,GAUE,CAAC,GAjBjBpB,EAAYoB,GAkBL,CAAC,EApBepB,EAAYoB,GAqBjB,CAAC,EAGlC,GAGWE,EAAiBC,IAUxB,GAVyB,CAC7BtB,UAAAA,CAAS,CACTE,YAAAA,CAAW,CACXC,aAAAA,CAAY,CACZoB,UAAAA,CAAAA,CAMD,CAAAD,EACO,CAACxB,EAAM,CAAG0B,CAAAA,EAAAA,EAAAA,EAAAA,EAAqBC,EAAAA,EAAW,EAC1C,CAAE5B,WAAAA,CAAAA,CAAY,CAAGC,EACjB4B,EAASC,CAAAA,EAAAA,EAAAA,EAAAA,IACTpB,EAAqBC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAMC,CAAAA,EAAAA,EAAAA,EAAAA,IAA4B,EAAE,EACjEmB,EAAwBC,EAAwB,CAAEC,OAAQ,EAAK,GAC/DC,EAAcC,CAAAA,EAAAA,EAAAA,WAAAA,EACjBjC,GACCW,CAAAA,EAAAA,EAAAA,GAAAA,EAACjB,EAA6B,CAE5BI,WAAYA,EACZC,MAAOA,EACPC,YAAaA,EACbC,UAAWA,EACXE,YAAaA,CAAY,EALpBH,EAAYoB,GAMlB,EAEH,CAACnB,EAAWH,EAAYK,EAAaJ,EACvC,EACMmC,EAAcD,CAAAA,EAAAA,EAAAA,WAAAA,EACjBE,IACC,OAAQA,EAAMC,IAAI,EAChB,IAAK,QAIH,OAAOJ,EAHajC,EAAMsC,YAAY,CAACC,IAAI,CACxCC,GAAMA,EAAEnB,GAAG,GAAKe,EAAMf,GACzB,EAEF,KAAK,OACH,MAAOoB,CAAAA,EAAAA,EAAAA,EAAAA,EAAoBL,EAC7B,SAEE,OADgCA,CAEpC,CACF,EACA,CAACpC,EAAMsC,YAAY,CAAEL,EACvB,EAEMS,EAAqBR,CAAAA,EAAAA,EAAAA,WAAAA,EACzBS,IAAmD,GAAlD,CAAEC,OAAAA,CAAAA,CAA2C,CAAAD,EAC5CE,OAAOC,MAAM,CAACC,WAAW,CAAC,CAAEV,KAAMW,EAAAA,EAAuB,CAAEJ,OAAAA,CAAO,EAAG,IACvE,EACA,EACF,EACM,CAAC9C,EAAI,CAAGmD,CAAAA,EAAAA,EAAAA,CAAAA,EAAkBP,GAEhC,MACE9B,CAAAA,EAAAA,EAAAA,GAAAA,EAACC,EAAAA,EAAyB,CAACC,QAAQ,EAACC,MAAON,EAAmBN,SAC5DS,CAAAA,EAAAA,EAAAA,GAAAA,EAACsC,EAAAA,EAA0B,EAACZ,aAActC,EAAMsC,YAAa,CAAAnC,SAC3DS,CAAAA,EAAAA,EAAAA,GAAAA,EAACuC,EAAAA,CAAG,EAACrD,IAAKA,EAAIK,SACXH,cAAAA,EAAMmB,MAAM,CAACkB,IAAI,CAChBe,CAAAA,EAAAA,EAAAA,IAAAA,EAACD,EAAAA,CAAG,EAACE,UAAWvB,EAAsBwB,mBAAoB,CAAAnD,SAAA,CACvDH,EAAMmB,MAAM,CAACoC,IAAI,CAACC,KAAK,CAAC5B,EAAO,EAChC5B,EAAMmB,MAAM,CAACoC,IAAI,CAACE,WAAW,CAAC7B,EAAO,CACnCwB,CAAAA,EAAAA,EAAAA,IAAAA,EAACM,EAAAA,CAAI,EAACC,cAAc,SAAQxD,SAAA,CACzBH,EAAMmB,MAAM,CAACoC,IAAI,CAACC,KAAK,CAAC5B,EAAO,EAC9BhB,CAAAA,EAAAA,EAAAA,GAAAA,EAACgD,EAAAA,EAAK,EAACC,KAAM7D,EAAMmB,MAAM,CAACoC,IAAI,CAACC,KAAK,CAAC5B,EAAM,GAE5C5B,EAAMmB,MAAM,CAACoC,IAAI,CAACE,WAAW,CAAC7B,EAAO,EACpChB,CAAAA,EAAAA,EAAAA,GAAAA,EAACkD,EAAAA,EAAW,EAACD,KAAM7D,EAAMmB,MAAM,CAACoC,IAAI,CAACE,WAAW,CAAC7B,EAAM,GACxD,GAED,KACJhB,CAAAA,EAAAA,EAAAA,GAAAA,EAACmD,EAAAA,EAAgB,EACfC,WAAYhE,EAAMmB,MAAM,CAACA,MAAO,CAChCgB,YAAaA,CAAY,GAE1BnC,IAAAA,EAAMsC,YAAY,CAAC2B,MAAM,EAAU/D,GAClCU,CAAAA,EAAAA,EAAAA,GAAAA,EAACsD,EAAAA,EAAa,EACZhE,UAAWA,EACXiE,YAAWC,EAAAA,EAAA,CAAAC,CAAA,CAAI,CAAEC,GAAI,4BAA6B,EAAG,GAExD,GAGHlB,CAAAA,EAAAA,EAAAA,IAAAA,EAAAmB,EAAAA,QAAA,EAAApE,SAAA,CACEiD,CAAAA,EAAAA,EAAAA,IAAAA,EAACM,EAAAA,CAAI,EACHc,GAAI,CACFb,cAAe,SACfc,GACEzE,EAAMmB,MAAM,CAACoC,IAAI,CAACC,KAAK,CAAC5B,EAAO,EAC/B5B,EAAMmB,MAAM,CAACoC,IAAI,CAACE,WAAW,CAAC7B,EAAO,CACjC,EACA,CACR,EAAEzB,SAAA,CAEDH,EAAMmB,MAAM,CAACoC,IAAI,CAACC,KAAK,CAAC5B,EAAO,EAC9BhB,CAAAA,EAAAA,EAAAA,GAAAA,EAACgD,EAAAA,EAAK,EAACC,KAAM7D,EAAMmB,MAAM,CAACoC,IAAI,CAACC,KAAK,CAAC5B,EAAM,GAE5C5B,EAAMmB,MAAM,CAACoC,IAAI,CAACE,WAAW,CAAC7B,EAAO,EACpChB,CAAAA,EAAAA,EAAAA,GAAAA,EAACkD,EAAAA,EAAW,EAACD,KAAM7D,EAAMmB,MAAM,CAACoC,IAAI,CAACE,WAAW,CAAC7B,EAAM,GACxD,GAEHwB,CAAAA,EAAAA,EAAAA,IAAAA,EAACpC,EAAAA,EAAyB,EAAAb,SAAA,CACxBS,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8D,EAAAA,CAA2B,KAC5B9D,CAAAA,EAAAA,EAAAA,GAAAA,EAACK,EAAAA,EAAY,EACXE,OAAQnB,EAAMmB,MAAO,CACrBC,SAAUpB,EAAM2E,cAAe,CAAAxE,SAE/BS,CAAAA,EAAAA,EAAAA,GAAAA,EAACU,EAAmB,CAClBvB,WAAYA,EACZC,MAAOA,EACPC,YAAa2E,CAAAA,EAAAA,EAAAA,EAAAA,EAAe5E,GAC5BE,UAAWA,EACXO,mBAAoBA,EACpBL,YAAaA,EACbC,aAAcA,EACdoB,UAAWA,CAAU,EACrB,GACW,GACW,EAE/B,EACG,EACqB,EAGnC,EAEMM,EAA0B8C,CAAAA,EAAAA,EAAAA,CAAAA,EAG7BC,GAAW,EACZC,KAAM,CAEJC,SAAU,WACVC,YAAaC,IAAA,GAAC,CAAElD,OAAAA,CAAAA,CAAQ,CAAAkD,EAAA,MACrB,QAAOJ,EAAMK,OAAO,CAAC,GAAG,KAAKnD,EAASoD,EAAAA,EAAY,CAAG,EAAE,IAAI,EAC9DC,QAASC,IAAA,GAAC,CAAEC,cAAAA,CAAAA,CAAe,CAAAD,EAAA,OACzBC,EAAgBT,EAAMK,OAAO,CAAC,GAAKL,EAAMK,OAAO,CAAC,EAAE,EACrDK,WAAY,oBACd,EACAlC,oBAAqB,CACnB,CAACwB,EAAMW,WAAW,CAACC,EAAE,CAAC,MAAK,CAAG,CAC5BL,QAASP,EAAMK,OAAO,CAAC,EAAG,EAAG,EAAG,EAClC,EACA,CAACL,EAAMW,WAAW,CAACC,EAAE,CAAC,MAAK,CAAG,CAC5BL,QAASP,EAAMK,OAAO,CAAC,EACzB,EACA,CAACL,EAAMW,WAAW,CAACC,EAAE,CAAC,MAAK,CAAG,CAC5BL,QAASP,EAAMK,OAAO,CAAC,EACzB,EACAQ,IAAK,GACLC,QAAS,OACTjC,cAAe,SACfkC,gBAAiBf,EAAMgB,OAAO,CAACC,MAAM,CAAC,GAAE,CAE5C,IAeMC,EAA0BC,IAWF,GAXG,CAC/BlG,WAAAA,EAAamG,EAAAA,EAAmB,CAChClG,MAAAA,CAAK,CACLC,YAAAA,CAAW,CACXC,UAAAA,CAAS,CACTmD,UAAAA,CAAS,CACTlD,SAAAA,CAAQ,CACRM,mBAAAA,CAAkB,CAClBL,YAAAA,CAAW,CACXC,aAAc8F,CAAa,CAC3B1E,UAAAA,CAAAA,CACuB,CAAAwE,EACjB,CAAE1C,KAAAA,CAAAA,CAAM,CAAGtD,EACXmG,EAAUC,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MACjC,CAAEC,QAAAA,CAAO,CAAEC,uBAAAA,CAAAA,CAAwB,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,IACtCC,EAAoBC,CAAAA,EAAAA,EAAAA,EAAAA,EAASjG,EAAqBT,GAAUA,EAAM2G,IAAI,EACtEtG,EAAeK,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC3B,IAAMkG,EAAYR,EAAQS,OAAO,EAAEC,wBAAwBC,YAE3D,EAAKH,GAIET,CAAAA,GAAkBM,CAAAA,GAAqBG,EAAYxB,EAAAA,EAAAA,EAAY,CAAI,CAC5E,EAAG,CAACe,EAAeM,EAAkB,EAErCO,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMC,EAAcxG,EAAmByG,SAAS,CAAC,KAC/CX,GACF,GAEA,MAAO,IAAMU,GACf,GAEA,IAAME,EAAeC,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,CAClCC,aAAcjH,GAAaiH,YAC7B,GACMvF,EAAwBC,EAAwB,CACpDC,OAAQ3B,EACRkF,cAAenF,GAAamF,aAC9B,GACM3D,EAASC,CAAAA,EAAAA,EAAAA,EAAAA,IACTyF,EAAsBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAuBxH,GAC7CyH,EAAuB,CAC3BC,WAAY1H,EAAWsC,IAAI,CAC3BqF,UAAW3H,EAAW4H,GAAG,CACzB/F,OAAAA,CACF,EACM,CAAC,CAAEgG,KAAMC,CAAAA,CAAc,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAA0B,CACzDC,UAAW,CACTN,WAAY1H,EAAWsC,IAAI,CAC3BqF,UAAW3H,EAAW4H,GAAG,CACzB/F,OAAAA,EACAoG,YAAa/H,EAAYgI,KAAK,CAACC,GAAG,CAAEC,GAAU,EAAEC,IAAKD,EAAKC,GAAAA,CAAI,EAChE,CACF,GACMC,EAAWR,GAAcS,kBACzBC,EAAeC,CAAAA,EAAAA,EAAAA,EAAAA,EAAgCxI,EAAMsC,YAAY,EACjE,CAAC,CAAEsF,KAAMa,CAAAA,CAAgB,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAA4B,CAC7DzI,YAAAA,EACA8H,UAAS7G,EAAAA,EAAA,GACJsG,GAAoB,IACvBQ,YAAa/H,EAAYgI,KAAK,CAACC,GAAG,CAAEC,GAAU,EAC5CC,IAAKD,EAAKC,GAAG,CACbG,aAAAA,EACAI,OAAQR,EAAKQ,MAAAA,CACf,EAAG,EAEP,GACMC,EAAaH,GAAgBI,oBAC7BC,GAAaF,GAAYE,WACzBC,GAAWH,GAAYG,SACvBC,GAAgBtI,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAC5B,IAAoBqI,GAIb,IAAID,MAAeC,GAAS,CAH1B,EAAE,CAIV,CAACD,GAAYC,GAAS,EAEzB,MACE3F,CAAAA,EAAAA,EAAAA,IAAAA,EAACD,EAAAA,CAAG,EACFrD,IAAKsG,EACL/C,UAAW4F,CAAAA,EAAAA,EAAAA,CAAAA,EACT9B,EAAapC,IAAI,CACjBoC,EAAa+B,WAAW,CACxBpH,EAAsBiD,IAAI,CAC1B1B,GACAlD,SAAA,CAEDA,EACDiD,CAAAA,EAAAA,EAAAA,IAAAA,EAAC+F,EAAAA,CAAkB,EAACC,UAAW,CAACnJ,EAAa,CAAAE,SAAA,CAC3CiD,CAAAA,EAAAA,EAAAA,IAAAA,EAAA,OAAAjD,SAAA,CACGkI,GAAUgB,KACRC,GAAMA,EAAEC,iBAAiB,GAAKC,EAAAA,EAAyB,CAACC,KAC3D,GACE7I,CAAAA,EAAAA,EAAAA,GAAAA,EAACuC,EAAAA,CAAG,EAACqB,GAAI,CAAEC,GAAI,CAAE,EAAEtE,SACjBS,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8I,EAAAA,EAAS,EAAAvJ,SACRS,CAAAA,EAAAA,EAAAA,GAAAA,EAAA+I,EAAAA,EAAA,EAAArF,GAAA,0CAAAsE,WAAA,CAAAgB,EAEEhJ,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,SAAMiJ,EACNjJ,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,YAA8C,GACxC,EACE,GAGfyH,GAAUgB,KAAMC,GAAMA,EAAEQ,OAAO,GAC9BlJ,CAAAA,EAAAA,EAAAA,GAAAA,EAACuC,EAAAA,CAAG,EAACqB,GAAI,CAAEC,GAAI,CAAE,EAAEtE,SACjBS,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8I,EAAAA,EAAS,EAAAvJ,SACRS,CAAAA,EAAAA,EAAAA,GAAAA,EAAA+I,EAAAA,EAAA,EAAArF,GAAA,4CAAAsE,WAAA,CAAAgB,EAEEhJ,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,SAAMiJ,EACNjJ,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,YAA8C,GACxC,EACE,GAGf,CAAC0G,GACA1G,CAAAA,EAAAA,EAAAA,GAAAA,EAACuC,EAAAA,CAAG,EAACqB,GAAI,CAAEC,GAAI,CAAE,EAAEtE,SACjBS,CAAAA,EAAAA,EAAAA,GAAAA,EAACmJ,EAAAA,EAAW,EAAA5J,SACVS,CAAAA,EAAAA,EAAAA,GAAAA,EAAA+I,EAAAA,EAAA,EAAArF,GAAA,0BAEQ,EACI,GAGjB0F,CAAAA,EAAAA,EAAAA,EAAAA,EAAkB/J,IACjBW,CAAAA,EAAAA,EAAAA,GAAAA,EAACuC,EAAAA,CAAG,EAACqB,GAAI,CAAEC,GAAI,CAAE,EAAEtE,SACjBS,CAAAA,EAAAA,EAAAA,GAAAA,EAACqJ,EAAAA,EAAQ,EAAA9J,SACPS,CAAAA,EAAAA,EAAAA,GAAAA,EAAA+I,EAAAA,EAAA,EAAArF,GAAA,4BAGQ,EACC,GAEd,GAEH1D,CAAAA,EAAAA,EAAAA,GAAAA,EAACsJ,EAAAA,CAAoB,EAAA/J,SACnBiD,CAAAA,EAAAA,EAAAA,IAAAA,EAAC+G,EAAAA,EAA+B,EAACC,eAAgBnK,EAAYoB,GAAI,CAAAlB,SAAA,CAC/DiD,CAAAA,EAAAA,EAAAA,IAAAA,EAACM,EAAAA,CAAI,EACHc,GAAI,CACF5B,OAAQ,cACRyH,eAAgB9G,EAAKC,KAAK,CAAC5B,EAAO,CAC9B,gBACA,WACJ+D,IAAK,CACP,EAAExF,SAAA,CAEDoD,EAAKC,KAAK,CAAC5B,EAAO,CACjBhB,CAAAA,EAAAA,EAAAA,GAAAA,EAACgD,EAAAA,EAAK,EAACC,KAAMN,EAAKC,KAAK,CAAC5B,EAAQ,CAAC0I,QAAO,KAIxC1J,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,QAAM2J,MAAO,CAAE3H,OAAQ,CAAE,CAAE,GAE5BxC,GAAaoK,wBAA0B,KACtC5J,CAAAA,EAAAA,EAAAA,GAAAA,EAAC6J,EAAAA,CAAuB,EAAAtK,SACtBS,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8J,EAAAA,EAAe,EACdxK,UAAWA,EACXkB,SAAUnB,EAAYoB,GAAI,CAC1BsJ,iBAAkBvE,EAAQS,OAAQ,CAClC+B,WAAYI,GACZ4B,8BAA+BnJ,CAAU,EACzC,GAEL,GAEF8B,EAAKE,WAAW,CAAC7B,EAAO,CACvBhB,CAAAA,EAAAA,EAAAA,GAAAA,EAACkD,EAAAA,EAAW,EAACD,KAAMN,EAAKE,WAAW,CAAC7B,EAAQ,CAAC0I,QAAO,KAIpD1J,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,QAAM2J,MAAO,CAAE3H,OAAQ,CAAE,CAAE,GAE7BhC,CAAAA,EAAAA,EAAAA,GAAAA,EAACiK,EAAAA,EAAa,EACZ9K,WAAYA,EACZE,YAAaA,EACb6K,iBAAkB9K,EAAM8K,gBAAiB,CACzCC,mBACE3K,GAAaoK,wBACTQ,KAAAA,EACA,CACEpC,WAAYI,GACZiC,UAAW7E,EAAQS,OAAO,CAC1BqE,kBAAmB,EACrB,CACL,GAEHtK,CAAAA,EAAAA,EAAAA,GAAAA,EAACuK,EAAAA,EAAwB,EAAAhL,SACtBmG,EACC1F,CAAAA,EAAAA,EAAAA,GAAAA,EAACwK,EAAAA,CAAqB,EACpBrL,WAAYA,EACZE,YAAaA,EACb6K,iBAAkB9K,EAAM8K,gBAAiB,CACzCtG,GAAI,CAAE6G,UAAW,MAAO,CAAE,GAG5BzK,CAAAA,EAAAA,EAAAA,GAAAA,EAAC0K,EAAAA,CAAgB,EACfvL,WAAYA,EACZwI,aAAcA,EACdtI,YAAaA,EACb6K,iBAAkB9K,EAAM8K,gBAAiB,CACzC1K,YAAaA,CAAY,EAE5B,GAEHQ,CAAAA,EAAAA,EAAAA,GAAAA,EAAC2K,EAAAA,EAAc,EACbrL,UAAWA,EACXH,WAAYA,EACZE,YAAaA,EACb6K,iBAAkB9K,EAAM8K,gBAAiB,CACzClC,WAAYI,GACZwC,kBACExL,cAAAA,EAAMmB,MAAM,CAACkB,IAAI,EAChBrC,cAAAA,EAAMmB,MAAM,CAACkB,IAAI,EAChBrC,IAAAA,EAAMsC,YAAY,CAAC2B,MAAM,CAE7BwH,YAAarL,GAAasL,cAC1BC,aAAcvL,GAAawL,gBAC3Bb,mBACE3K,GAAaoK,wBACT,CACE5B,WAAYI,GACZiC,UAAW7E,EAAQS,OAAO,CAC1BqE,kBAAmB,EACrB,EACAF,KAAAA,CACL,GACD,EAC8B,GACb,GACJ,EAG3B,EAEM1J,EAAuBuK,GAG3BC,CAAAA,EAAAA,EAAAA,aAAAA,EAAC9F,EAAuB9E,EAAAA,EAAA,GAAK2K,GAAK,IAAExK,IAAKwK,EAAM5L,WAAW,CAACoB,GAAAA,o0BC/f7D,IAAM0K,EAAa,SACjBC,CAAuB,EAGpB,IAFHC,EAAyBC,UAAAjI,MAAA,IAAAiI,KAAAlB,IAAAkB,SAAA,IAAAA,SAAA,IAAG,IAC5BC,EAA0CD,UAAAjI,MAAA,GAAAiI,SAAA,IAAAlB,KAAAA,EAEpClL,EAAMuG,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MAC7B,GAAC+F,CAAO,GAAEC,CAAAA,CAAU,CAAIC,CAAAA,EAAAA,EAAAA,QAAAA,EAASN,GAyBvC,MAxBAhF,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMH,EAAU/G,EAAI+G,OAAO,CACrB0F,EAAW,IAAIC,qBAClBC,IACC,IAAK,IAAIC,KAASD,EACZC,EAAMT,iBAAiB,CAAGA,EAC5BI,EAAW,IAEXA,EAAW,GAGjB,EAACnL,EAAA,CAECyL,UAAW,GAAI,EACZR,IAMP,OAHItF,GACF0F,EAASK,OAAO,CAAC/F,GAEZ,KACL0F,EAASM,UAAU,EACrB,CACF,EAAG,CAACZ,EAAmBE,EAAgB,EAChC,CAACrM,EAAKsM,EAAQ,EAGjBU,EAAoB,WACxB,GAAM,CAAChN,EAAKsM,EAAQ,CAAGL,KAAWG,WAC5Ba,EAAiB1G,CAAAA,EAAAA,EAAAA,MAAAA,EAAO+F,GAE9B,OADAW,EAAelG,OAAO,CAAGkG,EAAelG,OAAO,EAAIuF,EAC5C,CAACtM,EAAKiN,EAAelG,OAAO,CAAC,EACpC,IAAAmG,EAAA,GAEK,IAAMC,EAAwBpN,IAQ/B,GARgC,CACpCM,SAAAA,CAAQ,CACR6L,eAAAA,EAAiB,EAAK,CACtBkB,SAAAA,CAAAA,CAKD,CAAArN,EACO,CAACC,EAAKiN,EAAe,CAAGD,EAAkBd,GAChD,MAAOpL,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,OAAKd,IAAKA,EAAIK,SAAE4M,EAAiB5M,EAAW+M,CAAQ,EAC7D,CAkEAC,CAAAA,EAAA,QAtDkC3L,IAA2B,GAA1B,CAAE4L,kBAAAA,CAAAA,CAAmB,CAAA5L,EAChD6L,EAAsBC,EAAAA,EAAAA,CAAAA,WAAqB,CAACF,GAKlD,MACExM,CAAAA,EAAAA,EAAAA,GAAAA,EAAC2M,EAAAA,EAAa,EAAApN,SACZS,CAAAA,EAAAA,EAAAA,GAAAA,EAACuC,EAAAA,CAAG,EAACqK,GAAI,EAAGhJ,GAAI,CAAEqB,gBAAiB,YAAa,EAAGpB,GAAG,OAAMtE,SAC1DS,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8C,EAAAA,CAAI,EAACc,GAAI,CAAEiJ,GAAI,EAAGC,SAAU,MAAO,EAAEvN,SACnCkN,EAAoBnF,GAAG,CAAC,CAACyF,EAAQC,IAE9BhN,CAAAA,EAAAA,EAAAA,GAAAA,EAACuC,EAAAA,CAAG,EAEFmB,GAAK,SAAQqJ,EAAOtM,GAAI,EAAE,CAC1BmD,GAAI,CAAEuC,MAAO,CAAC,OAAQ,MAAO,MAAO,SAAS,CAAE8G,EAAG,CAAE,EAAE1N,SAEtDiD,CAAAA,EAAAA,EAAAA,IAAAA,EAAC0K,EAAAA,EAAyB,EACxBC,QAAQ,YACRC,aAAY9M,EAAAA,EAAA,GAELyM,EAAO/F,IAAI,MACd5H,MAAO,WAAW,GAErBG,SAAA,CAEDS,CAAAA,EAAAA,EAAAA,GAAAA,EAACqM,EAAqB,CACpBjB,eAAgB4B,EAAI,EACpBV,SAAUtM,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,OAAAT,SAAK,YAAU,GAAOA,SAEhCS,CAAAA,EAAAA,EAAAA,GAAAA,EAACW,EAAAA,CAAc,IAAG,GAEpB6B,CAAAA,EAAAA,EAAAA,IAAAA,EAACD,EAAAA,CAAG,EACFsB,GAAI,EACJwJ,GAAI,EACJC,GAAI,EACJC,UAAU,QACVC,WAAW,UAASjO,SAAA,CACrB,OACMwN,EAAOtM,GAAG,CAAC,KAAG,IACnBT,CAAAA,EAAAA,EAAAA,GAAAA,EAACyN,IAAQ,CAACC,KAAO,MAAKX,EAAOtM,GAAI,EAAE,CAACkN,SAAQ,GAACC,eAAc,GAAArO,SACzDS,CAAAA,EAAAA,EAAAA,GAAAA,EAAC6N,EAAAA,CAAI,EAAAtO,SAAC,MAAI,EAAO,GACP,IAAG,GACX,EACoB,EA/BvBwN,EAAOtM,GAgCT,EAEP,EACG,EACH,EAGZ,yBCxIA,CAAAwB,OAAA6L,QAAA,CAAA7L,OAAA6L,QAAA,MAAAC,IAAA,EACA,WACA,WACA,OAAeC,EAAQ,MACvB,EACA","sources":["webpack://_N_E/./components/chart-published.tsx","webpack://_N_E/./pages/_charts.tsx","webpack://_N_E/?9574"],"sourcesContent":["import { t, Trans } from \"@lingui/macro\";\nimport { Box, Theme } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport clsx from \"clsx\";\nimport {\n  forwardRef,\n  ReactNode,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n} from \"react\";\nimport { useStore } from \"zustand\";\n\nimport { extractChartConfigsComponentIds } from \"@/charts/shared/chart-helpers\";\nimport { LoadingStateProvider } from \"@/charts/shared/chart-loading-state\";\nimport { isUsingImputation } from \"@/charts/shared/imputation\";\nimport { CHART_RESIZE_EVENT_TYPE } from \"@/charts/shared/use-size\";\nimport { ActionElementsContainer } from \"@/components/action-elements-container\";\nimport { ChartDataTablePreview } from \"@/components/chart-data-table-preview/ui\";\nimport { ChartErrorBoundary } from \"@/components/chart-error-boundary\";\nimport { ChartFootnotes, VisualizeLink } from \"@/components/chart-footnotes\";\nimport { ChartPanelLayout, ChartWrapper } from \"@/components/chart-panel\";\nimport {\n  ChartControls,\n  ChartMoreButton,\n  useChartStyles,\n} from \"@/components/chart-shared\";\nimport {\n  ChartTablePreviewProvider,\n  ChartTablePreviewWrapper,\n  useChartTablePreview,\n} from \"@/components/chart-table-preview\";\nimport { ChartWithFilters } from \"@/components/chart-with-filters\";\nimport { DashboardInteractiveFilters } from \"@/components/dashboard-interactive-filters\";\nimport { EmbedQueryParams } from \"@/components/embed-params\";\nimport { Flex } from \"@/components/flex\";\nimport { HintError, HintInfo, HintWarning } from \"@/components/hint\";\nimport {\n  createMetadataPanelStore,\n  MetadataPanelStoreContext,\n} from \"@/components/metadata-panel-store\";\nimport { renderBaseTextBlock } from \"@/components/text-block\";\nimport { getChartConfig } from \"@/config-utils\";\nimport {\n  ChartConfig,\n  ConfiguratorStatePublished,\n  DataSource,\n  isPublished,\n  LayoutBlock,\n  useConfiguratorState,\n} from \"@/configurator\";\nimport { Description, Title } from \"@/configurator/components/annotators\";\nimport { DRAWER_WIDTH } from \"@/configurator/components/drawers\";\nimport {\n  DEFAULT_DATA_SOURCE,\n  useIsTrustedDataSource,\n} from \"@/domain/data-source\";\nimport {\n  useDataCubesComponentsQuery,\n  useDataCubesMetadataQuery,\n} from \"@/graphql/hooks\";\nimport { DataCubePublicationStatus } from \"@/graphql/resolver-types\";\nimport { useLocale } from \"@/locales/use-locale\";\nimport {\n  InteractiveFiltersChartProvider,\n  InteractiveFiltersProvider,\n} from \"@/stores/interactive-filters\";\nimport { useResizeObserver } from \"@/utils/use-resize-observer\";\n\ntype ChartPublishedIndividualChartProps = Omit<\n  ChartPublishInnerProps,\n  \"metadataPanelStore\"\n>;\n\nconst ChartPublishedIndividualChart = forwardRef<\n  HTMLDivElement,\n  ChartPublishedIndividualChartProps\n>(\n  (\n    {\n      dataSource,\n      state,\n      chartConfig,\n      configKey,\n      children,\n      embedParams,\n      shouldShrink,\n      ...rest\n    },\n    ref\n  ) => {\n    const metadataPanelStore = useMemo(() => createMetadataPanelStore(), []);\n    return (\n      <MetadataPanelStoreContext.Provider value={metadataPanelStore}>\n        <ChartTablePreviewProvider key={chartConfig.key}>\n          <ChartWrapper\n            key={chartConfig.key}\n            layout={state.layout}\n            ref={ref}\n            chartKey={chartConfig.key}\n            {...rest}\n          >\n            <ChartPublishedInner\n              key={chartConfig.key}\n              dataSource={dataSource}\n              state={state}\n              chartConfig={chartConfig}\n              configKey={configKey}\n              metadataPanelStore={metadataPanelStore}\n              embedParams={embedParams}\n              shouldShrink={shouldShrink}\n            >\n              {children}\n            </ChartPublishedInner>\n          </ChartWrapper>\n        </ChartTablePreviewProvider>\n      </MetadataPanelStoreContext.Provider>\n    );\n  }\n);\n\nexport const ChartPublished = ({\n  configKey,\n  embedParams,\n  shouldShrink,\n  isPreview,\n}: {\n  configKey?: string;\n  embedParams?: EmbedQueryParams;\n  shouldShrink?: boolean;\n  isPreview?: boolean;\n}) => {\n  const [state] = useConfiguratorState(isPublished);\n  const { dataSource } = state;\n  const locale = useLocale();\n  const metadataPanelStore = useMemo(() => createMetadataPanelStore(), []);\n  const publishedChartClasses = usePublishedChartStyles({ shrink: true });\n  const renderChart = useCallback(\n    (chartConfig: ChartConfig) => (\n      <ChartPublishedIndividualChart\n        key={chartConfig.key}\n        dataSource={dataSource}\n        state={state}\n        chartConfig={chartConfig}\n        configKey={configKey}\n        embedParams={embedParams}\n      />\n    ),\n    [configKey, dataSource, embedParams, state]\n  );\n  const renderBlock = useCallback(\n    (block: LayoutBlock) => {\n      switch (block.type) {\n        case \"chart\":\n          const chartConfig = state.chartConfigs.find(\n            (c) => c.key === block.key\n          ) as ChartConfig;\n          return renderChart(chartConfig);\n        case \"text\":\n          return renderBaseTextBlock(block);\n        default:\n          const _exhaustiveCheck: never = block;\n          return _exhaustiveCheck;\n      }\n    },\n    [state.chartConfigs, renderChart]\n  );\n  // Sends out the height of the chart, so the iframe can be resized accordingly.\n  const handleHeightChange = useCallback(\n    ({ height }: { width: number; height: number }) => {\n      window.parent.postMessage({ type: CHART_RESIZE_EVENT_TYPE, height }, \"*\");\n    },\n    []\n  );\n  const [ref] = useResizeObserver(handleHeightChange);\n\n  return (\n    <MetadataPanelStoreContext.Provider value={metadataPanelStore}>\n      <InteractiveFiltersProvider chartConfigs={state.chartConfigs}>\n        <Box ref={ref}>\n          {state.layout.type === \"dashboard\" ? (\n            <Box className={publishedChartClasses.dashboardBoxWrapper}>\n              {state.layout.meta.title[locale] ||\n              state.layout.meta.description[locale] ? (\n                <Flex flexDirection=\"column\">\n                  {state.layout.meta.title[locale] && (\n                    <Title text={state.layout.meta.title[locale]} />\n                  )}\n                  {state.layout.meta.description[locale] && (\n                    <Description text={state.layout.meta.description[locale]} />\n                  )}\n                </Flex>\n              ) : null}\n              <ChartPanelLayout\n                layoutType={state.layout.layout}\n                renderBlock={renderBlock}\n              />\n              {state.chartConfigs.length !== 1 && configKey && (\n                <VisualizeLink\n                  configKey={configKey}\n                  createdWith={t({ id: \"metadata.link.created.with\" })}\n                />\n              )}\n            </Box>\n          ) : (\n            <>\n              <Flex\n                sx={{\n                  flexDirection: \"column\",\n                  mb:\n                    state.layout.meta.title[locale] ||\n                    state.layout.meta.description[locale]\n                      ? 4\n                      : 0,\n                }}\n              >\n                {state.layout.meta.title[locale] && (\n                  <Title text={state.layout.meta.title[locale]} />\n                )}\n                {state.layout.meta.description[locale] && (\n                  <Description text={state.layout.meta.description[locale]} />\n                )}\n              </Flex>\n              <ChartTablePreviewProvider>\n                <DashboardInteractiveFilters />\n                <ChartWrapper\n                  layout={state.layout}\n                  chartKey={state.activeChartKey}\n                >\n                  <ChartPublishedInner\n                    dataSource={dataSource}\n                    state={state}\n                    chartConfig={getChartConfig(state)}\n                    configKey={configKey}\n                    metadataPanelStore={metadataPanelStore}\n                    embedParams={embedParams}\n                    shouldShrink={shouldShrink}\n                    isPreview={isPreview}\n                  />\n                </ChartWrapper>\n              </ChartTablePreviewProvider>\n            </>\n          )}\n        </Box>\n      </InteractiveFiltersProvider>\n    </MetadataPanelStoreContext.Provider>\n  );\n};\n\nconst usePublishedChartStyles = makeStyles<\n  Theme,\n  { shrink: boolean; optimizeSpace?: boolean }\n>((theme) => ({\n  root: {\n    // Needed for the metadata panel to be contained inside the root.\n    position: \"relative\",\n    paddingLeft: ({ shrink }) =>\n      `calc(${theme.spacing(5)} + ${shrink ? DRAWER_WIDTH : 0}px)`,\n    padding: ({ optimizeSpace }) =>\n      optimizeSpace ? theme.spacing(3) : theme.spacing(6),\n    transition: \"padding 0.25s ease\",\n  },\n  dashboardBoxWrapper: {\n    [theme.breakpoints.up(\"xs\")]: {\n      padding: theme.spacing(5, 4, 2, 4),\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      padding: theme.spacing(5),\n    },\n    [theme.breakpoints.up(\"lg\")]: {\n      padding: theme.spacing(6),\n    },\n    gap: 16,\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.cobalt[50],\n  },\n}));\n\ntype ChartPublishInnerProps = {\n  dataSource: DataSource | undefined;\n  state: ConfiguratorStatePublished;\n  chartConfig: ChartConfig;\n  configKey: string | undefined;\n  className?: string;\n  children?: ReactNode;\n  metadataPanelStore: ReturnType<typeof createMetadataPanelStore>;\n  embedParams?: EmbedQueryParams;\n  shouldShrink?: boolean;\n  isPreview?: boolean;\n};\n\nconst ChartPublishedInnerImpl = ({\n  dataSource = DEFAULT_DATA_SOURCE,\n  state,\n  chartConfig,\n  configKey,\n  className,\n  children,\n  metadataPanelStore,\n  embedParams,\n  shouldShrink: _shouldShrink,\n  isPreview,\n}: ChartPublishInnerProps) => {\n  const { meta } = chartConfig;\n  const rootRef = useRef<HTMLDivElement>(null);\n  const { isTable, computeContainerHeight } = useChartTablePreview();\n  const metadataPanelOpen = useStore(metadataPanelStore, (state) => state.open);\n  const shouldShrink = useMemo(() => {\n    const rootWidth = rootRef.current?.getBoundingClientRect().width;\n\n    if (!rootWidth) {\n      return false;\n    }\n\n    return _shouldShrink ?? (metadataPanelOpen && rootWidth > DRAWER_WIDTH * 2);\n  }, [_shouldShrink, metadataPanelOpen]);\n\n  useEffect(() => {\n    const unsubscribe = metadataPanelStore.subscribe(() => {\n      computeContainerHeight();\n    });\n\n    return () => unsubscribe();\n  });\n\n  const chartClasses = useChartStyles({\n    removeBorder: embedParams?.removeBorder,\n  });\n  const publishedChartClasses = usePublishedChartStyles({\n    shrink: shouldShrink,\n    optimizeSpace: embedParams?.optimizeSpace,\n  });\n  const locale = useLocale();\n  const isTrustedDataSource = useIsTrustedDataSource(dataSource);\n  const commonQueryVariables = {\n    sourceType: dataSource.type,\n    sourceUrl: dataSource.url,\n    locale,\n  };\n  const [{ data: metadataData }] = useDataCubesMetadataQuery({\n    variables: {\n      sourceType: dataSource.type,\n      sourceUrl: dataSource.url,\n      locale,\n      cubeFilters: chartConfig.cubes.map((cube) => ({ iri: cube.iri })),\n    },\n  });\n  const metadata = metadataData?.dataCubesMetadata;\n  const componentIds = extractChartConfigsComponentIds(state.chartConfigs);\n  const [{ data: componentsData }] = useDataCubesComponentsQuery({\n    chartConfig,\n    variables: {\n      ...commonQueryVariables,\n      cubeFilters: chartConfig.cubes.map((cube) => ({\n        iri: cube.iri,\n        componentIds,\n        joinBy: cube.joinBy,\n      })),\n    },\n  });\n  const components = componentsData?.dataCubesComponents;\n  const dimensions = components?.dimensions;\n  const measures = components?.measures;\n  const allComponents = useMemo(() => {\n    if (!dimensions || !measures) {\n      return [];\n    }\n\n    return [...dimensions, ...measures];\n  }, [dimensions, measures]);\n\n  return (\n    <Box\n      ref={rootRef}\n      className={clsx(\n        chartClasses.root,\n        chartClasses.pastEditing,\n        publishedChartClasses.root,\n        className\n      )}\n    >\n      {children}\n      <ChartErrorBoundary resetKeys={[chartConfig]}>\n        <div>\n          {metadata?.some(\n            (d) => d.publicationStatus === DataCubePublicationStatus.Draft\n          ) && (\n            <Box sx={{ mb: 4 }}>\n              <HintError>\n                <Trans id=\"dataset.publicationStatus.draft.warning\">\n                  Careful, this dataset is only a draft.\n                  <br />\n                  <strong>Don&apos;t use for reporting!</strong>\n                </Trans>\n              </HintError>\n            </Box>\n          )}\n          {metadata?.some((d) => d.expires) && (\n            <Box sx={{ mb: 4 }}>\n              <HintError>\n                <Trans id=\"dataset.publicationStatus.expires.warning\">\n                  Careful, the data for this chart has expired.\n                  <br />\n                  <strong>Don&apos;t use for reporting!</strong>\n                </Trans>\n              </HintError>\n            </Box>\n          )}\n          {!isTrustedDataSource && (\n            <Box sx={{ mb: 4 }}>\n              <HintWarning>\n                <Trans id=\"data.source.notTrusted\">\n                  This chart is not using a trusted data source.\n                </Trans>\n              </HintWarning>\n            </Box>\n          )}\n          {isUsingImputation(chartConfig) && (\n            <Box sx={{ mb: 4 }}>\n              <HintInfo>\n                <Trans id=\"dataset.hasImputedValues\">\n                  Some data in this dataset is missing and has been interpolated\n                  to fill the gaps.\n                </Trans>\n              </HintInfo>\n            </Box>\n          )}\n        </div>\n        <LoadingStateProvider>\n          <InteractiveFiltersChartProvider chartConfigKey={chartConfig.key}>\n            <Flex\n              sx={{\n                height: \"fit-content\",\n                justifyContent: meta.title[locale]\n                  ? \"space-between\"\n                  : \"flex-end\",\n                gap: 2,\n              }}\n            >\n              {meta.title[locale] ? (\n                <Title text={meta.title[locale]} smaller />\n              ) : (\n                // We need to have a span here to keep the space between the\n                // title and the chart (subgrid layout)\n                <span style={{ height: 1 }} />\n              )}\n              {embedParams?.removeMoreOptionsButton ? null : (\n                <ActionElementsContainer>\n                  <ChartMoreButton\n                    configKey={configKey}\n                    chartKey={chartConfig.key}\n                    chartWrapperNode={rootRef.current}\n                    components={allComponents}\n                    disableDatabaseRelatedActions={isPreview}\n                  />\n                </ActionElementsContainer>\n              )}\n            </Flex>\n            {meta.description[locale] ? (\n              <Description text={meta.description[locale]} smaller />\n            ) : (\n              // We need to have a span here to keep the space between the\n              // title and the chart (subgrid layout)\n              <span style={{ height: 1 }} />\n            )}\n            <ChartControls\n              dataSource={dataSource}\n              chartConfig={chartConfig}\n              dashboardFilters={state.dashboardFilters}\n              metadataPanelProps={\n                embedParams?.removeMoreOptionsButton\n                  ? undefined\n                  : {\n                      components: allComponents,\n                      container: rootRef.current,\n                      allowMultipleOpen: true,\n                    }\n              }\n            />\n            <ChartTablePreviewWrapper>\n              {isTable ? (\n                <ChartDataTablePreview\n                  dataSource={dataSource}\n                  chartConfig={chartConfig}\n                  dashboardFilters={state.dashboardFilters}\n                  sx={{ maxHeight: \"100%\" }}\n                />\n              ) : (\n                <ChartWithFilters\n                  dataSource={dataSource}\n                  componentIds={componentIds}\n                  chartConfig={chartConfig}\n                  dashboardFilters={state.dashboardFilters}\n                  embedParams={embedParams}\n                />\n              )}\n            </ChartTablePreviewWrapper>\n            <ChartFootnotes\n              configKey={configKey}\n              dataSource={dataSource}\n              chartConfig={chartConfig}\n              dashboardFilters={state.dashboardFilters}\n              components={allComponents}\n              showVisualizeLink={\n                state.layout.type !== \"dashboard\" ||\n                (state.layout.type === \"dashboard\" &&\n                  state.chartConfigs.length === 1)\n              }\n              hideFilters={embedParams?.removeFilters}\n              hideMetadata={embedParams?.removeFootnotes}\n              metadataPanelProps={\n                embedParams?.removeMoreOptionsButton\n                  ? {\n                      components: allComponents,\n                      container: rootRef.current,\n                      allowMultipleOpen: true,\n                    }\n                  : undefined\n              }\n            />\n          </InteractiveFiltersChartProvider>\n        </LoadingStateProvider>\n      </ChartErrorBoundary>\n    </Box>\n  );\n};\n\nconst ChartPublishedInner = (props: ChartPublishInnerProps) => (\n  // Enforce re-mounting of the component when the chart config changes\n  // to ensure we do not use any out of date data.\n  <ChartPublishedInnerImpl {...props} key={props.chartConfig.key} />\n);\n","import { Box, Link } from \"@mui/material\";\nimport { NextPage } from \"next\";\nimport NextLink from \"next/link\";\nimport { ReactNode, useEffect, useRef, useState } from \"react\";\nimport SuperJSON from \"superjson\";\nimport { SuperJSONResult } from \"superjson/dist/types\";\n\nimport { ChartPublished } from \"@/components/chart-published\";\nimport { Flex } from \"@/components/flex\";\nimport { ContentLayout } from \"@/components/layout\";\nimport {\n  Config,\n  ConfiguratorStateProvider,\n  ConfiguratorStatePublished,\n} from \"@/configurator\";\nimport { getAllConfigs } from \"@/db/config\";\n\ntype PageProps = {\n  serializedConfigs: SuperJSONResult;\n};\n\nconst useVisible = (\n  initialVisible: boolean,\n  intersectionRatio: number = 0.25,\n  observerOptions?: IntersectionObserverInit\n) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const [visible, setVisible] = useState(initialVisible);\n  useEffect(() => {\n    const current = ref.current;\n    const observer = new IntersectionObserver(\n      (entries) => {\n        for (let entry of entries) {\n          if (entry.intersectionRatio > intersectionRatio) {\n            setVisible(true);\n          } else {\n            setVisible(false);\n          }\n        }\n      },\n      {\n        threshold: 0.25,\n        ...observerOptions,\n      }\n    );\n    if (current) {\n      observer.observe(current);\n    }\n    return () => {\n      observer.disconnect();\n    };\n  }, [intersectionRatio, observerOptions]);\n  return [ref, visible] as const;\n};\n\nconst useHasBeenVisible = (...options: Parameters<typeof useVisible>) => {\n  const [ref, visible] = useVisible(...options);\n  const hasBeenVisible = useRef(visible);\n  hasBeenVisible.current = hasBeenVisible.current || visible;\n  return [ref, hasBeenVisible.current] as const;\n};\n\nexport const HiddenUntilScrolledTo = ({\n  children,\n  initialVisible = false,\n  fallback,\n}: {\n  children: ReactNode;\n  initialVisible?: boolean;\n  fallback: ReactNode;\n}) => {\n  const [ref, hasBeenVisible] = useHasBeenVisible(initialVisible);\n  return <div ref={ref}>{hasBeenVisible ? children : fallback}</div>;\n};\n\nexport const getServerSideProps = async () => {\n  const configs = await getAllConfigs();\n\n  return {\n    props: {\n      serializedConfigs: SuperJSON.serialize(configs.filter((c) => c.data)),\n    },\n  };\n};\n\nconst Page: NextPage<PageProps> = ({ serializedConfigs }) => {\n  const deserializedConfigs = SuperJSON.deserialize(serializedConfigs) as {\n    key: string;\n    data: Config;\n  }[];\n\n  return (\n    <ContentLayout>\n      <Box px={4} sx={{ backgroundColor: \"muted.main\" }} mb=\"auto\">\n        <Flex sx={{ pt: 4, flexWrap: \"wrap\" }}>\n          {deserializedConfigs.map((config, i) => {\n            return (\n              <Box\n                key={config.key}\n                id={`chart-${config.key}`}\n                sx={{ width: [\"100%\", \"50%\", \"50%\", \"33.33%\"], p: 1 }}\n              >\n                <ConfiguratorStateProvider\n                  chartId=\"published\"\n                  initialState={\n                    {\n                      ...config.data,\n                      state: \"PUBLISHED\",\n                    } as ConfiguratorStatePublished\n                  }\n                >\n                  <HiddenUntilScrolledTo\n                    initialVisible={i < 5}\n                    fallback={<div>Loading...</div>}\n                  >\n                    <ChartPublished />\n                  </HiddenUntilScrolledTo>\n                  <Box\n                    mb={2}\n                    mx={4}\n                    mr={6}\n                    textAlign=\"right\"\n                    typography=\"caption\"\n                  >\n                    Id: {config.key} -{\" \"}\n                    <NextLink href={`/v/${config.key}`} passHref legacyBehavior>\n                      <Link>Open</Link>\n                    </NextLink>{\" \"}\n                  </Box>\n                </ConfiguratorStateProvider>\n              </Box>\n            );\n          })}\n        </Flex>\n      </Box>\n    </ContentLayout>\n  );\n};\n\nexport default Page;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_charts\",\n      function () {\n        return require(\"private-next-pages/_charts.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_charts\"])\n      });\n    }\n  "],"names":["ChartPublishedIndividualChart","forwardRef","_ref","ref","dataSource","state","chartConfig","configKey","children","embedParams","shouldShrink","rest","_objectWithoutProperties","_excluded","metadataPanelStore","useMemo","createMetadataPanelStore","_jsx","MetadataPanelStoreContext","Provider","value","ChartTablePreviewProvider","ChartWrapper","_objectSpread","layout","chartKey","key","ChartPublishedInner","ChartPublished","_ref2","isPreview","useConfiguratorState","isPublished","locale","useLocale","publishedChartClasses","usePublishedChartStyles","shrink","renderChart","useCallback","renderBlock","block","type","chartConfigs","find","c","renderBaseTextBlock","handleHeightChange","_ref3","height","window","parent","postMessage","CHART_RESIZE_EVENT_TYPE","useResizeObserver","InteractiveFiltersProvider","Box","_jsxs","className","dashboardBoxWrapper","meta","title","description","Flex","flexDirection","Title","text","Description","ChartPanelLayout","layoutType","length","VisualizeLink","createdWith","i18n","_","id","_Fragment","sx","mb","DashboardInteractiveFilters","activeChartKey","getChartConfig","makeStyles","theme","root","position","paddingLeft","_ref4","spacing","DRAWER_WIDTH","padding","_ref5","optimizeSpace","transition","breakpoints","up","gap","display","backgroundColor","palette","cobalt","ChartPublishedInnerImpl","_ref6","DEFAULT_DATA_SOURCE","_shouldShrink","rootRef","useRef","isTable","computeContainerHeight","useChartTablePreview","metadataPanelOpen","useStore","open","rootWidth","current","getBoundingClientRect","width","useEffect","unsubscribe","subscribe","chartClasses","useChartStyles","removeBorder","isTrustedDataSource","useIsTrustedDataSource","commonQueryVariables","sourceType","sourceUrl","url","data","metadataData","useDataCubesMetadataQuery","variables","cubeFilters","cubes","map","cube","iri","metadata","dataCubesMetadata","componentIds","extractChartConfigsComponentIds","componentsData","useDataCubesComponentsQuery","joinBy","components","dataCubesComponents","dimensions","measures","allComponents","clsx","pastEditing","ChartErrorBoundary","resetKeys","some","d","publicationStatus","DataCubePublicationStatus","Draft","HintError","Trans","0","1","expires","HintWarning","isUsingImputation","HintInfo","LoadingStateProvider","InteractiveFiltersChartProvider","chartConfigKey","justifyContent","smaller","style","removeMoreOptionsButton","ActionElementsContainer","ChartMoreButton","chartWrapperNode","disableDatabaseRelatedActions","ChartControls","dashboardFilters","metadataPanelProps","undefined","container","allowMultipleOpen","ChartTablePreviewWrapper","ChartDataTablePreview","maxHeight","ChartWithFilters","ChartFootnotes","showVisualizeLink","hideFilters","removeFilters","hideMetadata","removeFootnotes","props","_createElement","useVisible","initialVisible","intersectionRatio","arguments","observerOptions","visible","setVisible","useState","observer","IntersectionObserver","entries","entry","threshold","observe","disconnect","useHasBeenVisible","hasBeenVisible","__N_SSP","HiddenUntilScrolledTo","fallback","__webpack_exports__","serializedConfigs","deserializedConfigs","SuperJSON","ContentLayout","px","pt","flexWrap","config","i","p","ConfiguratorStateProvider","chartId","initialState","mx","mr","textAlign","typography","NextLink","href","passHref","legacyBehavior","Link","__NEXT_P","push","__webpack_require__"],"sourceRoot":""}