{"version":3,"file":"static/chunks/pages/profile-32b69432282edc8a.js","mappings":"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","sources":["webpack://_N_E/./login/components/color-palettes/color-palette-examples.tsx","webpack://_N_E/./login/components/color-palettes/profile-color-palette-form.tsx","webpack://_N_E/./components/overflow-tooltip.tsx","webpack://_N_E/./components/rename-dialog.tsx","webpack://_N_E/./components/use-flip-menu.tsx","webpack://_N_E/./components/row-actions.tsx","webpack://_N_E/./login/components/profile-tables.tsx","webpack://_N_E/./login/components/color-palettes/profile-color-palette-content.tsx","webpack://_N_E/./login/components/profile-content-tabs.tsx","webpack://_N_E/./login/components/profile-header.tsx","webpack://_N_E/./pages/profile.tsx","webpack://_N_E/./statistics/formatters.ts","webpack://_N_E/?4d22"],"sourcesContent":["import { Trans } from \"@lingui/macro\";\nimport { interpolatePurples, interpolateRdYlGn } from \"d3-scale-chromatic\";\nimport { ReactNode } from \"react\";\n\nimport { Flex } from \"@/components/flex\";\nimport { Label } from \"@/components/form\";\nimport { CustomPaletteType } from \"@/config-types\";\nimport { ColorSquare } from \"@/configurator/components/chart-controls/color-palette\";\nimport { ColorRamp } from \"@/configurator/components/chart-controls/color-ramp\";\n\ntype ColorPaletteExampleProps = {\n  type: CustomPaletteType[\"type\"];\n};\n\nconst categoricalExamplePalette = [\n  \"#663778\",\n  \"#FF9900\",\n  \"#FF5F55\",\n  \"#3F7397\",\n  \"#00B040\",\n  \"#9F2020\",\n  \"#BCBD21\",\n];\n\nexport const ColorPaletteExample = ({ type }: ColorPaletteExampleProps) => {\n  let example: ReactNode = null;\n\n  switch (type) {\n    case \"sequential\":\n      example = (\n        <ColorRamp\n          height={20}\n          width={146}\n          colorInterpolator={interpolatePurples}\n        />\n      );\n      break;\n    case \"diverging\":\n      example = (\n        <ColorRamp\n          height={20}\n          width={146}\n          colorInterpolator={interpolateRdYlGn}\n        />\n      );\n      break;\n\n    case \"categorical\":\n      example = (\n        <Flex gap={\"1px\"}>\n          {categoricalExamplePalette.map((color) => (\n            <ColorSquare key={`option-${color}`} color={color} />\n          ))}\n        </Flex>\n      );\n      break;\n\n    default:\n      const _exhaustiveCheck: never = type;\n      return _exhaustiveCheck;\n  }\n\n  return (\n    <Flex flexDirection={\"column\"}>\n      <Label htmlFor=\"custom-color-palette-example\">\n        <Trans id=\"controls.custom-color-palettes.example\">Example</Trans>\n      </Label>\n      {example}\n    </Flex>\n  );\n};\n","import { useEvent } from \"@dnd-kit/utilities\";\nimport { t, Trans } from \"@lingui/macro\";\nimport { Box, Button, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { ChangeEvent, useCallback, useRef, useState } from \"react\";\n\nimport { Flex } from \"@/components/flex\";\nimport { RadioGroup } from \"@/components/form\";\nimport { Input, Radio } from \"@/components/form\";\nimport { BackButton, CustomPaletteType } from \"@/configurator\";\nimport { ColorItem, ColorsByType, getDefaultColorValues } from \"@/palettes\";\nimport { theme } from \"@/themes/theme\";\nimport {\n  createCustomColorPalette,\n  updateCustomColorPalette,\n} from \"@/utils/chart-config/api\";\nimport { createColorId } from \"@/utils/color-palette-utils\";\nimport { useMutate } from \"@/utils/use-fetch-data\";\n\nimport { ColorPaletteExample } from \"./color-palette-examples\";\nimport { ColorPaletteCreator } from \"./color-palette-types\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    padding: \"8px 0px\",\n  },\n  backButton: {\n    width: \"fit-content\",\n  },\n  colorPickerContainer: {\n    gap: theme.spacing(5),\n    width: \"510px\",\n    paddingLeft: theme.spacing(4),\n  },\n  inputContainer: {\n    width: \"304px\",\n  },\n  addColorButton: {\n    minWidth: \"fit-content\",\n    paddingLeft: 0,\n  },\n  saveButtonContainer: {\n    marginTop: theme.spacing(2),\n  },\n});\n\ntype ProfileColorPaletteProps = {\n  onBack: () => void;\n  palette?: CustomPaletteType;\n  formMode: \"add\" | \"edit\";\n  customColorPalettes?: CustomPaletteType[];\n};\n\nexport const ProfileColorPaletteForm = ({\n  onBack,\n  palette,\n  formMode,\n  customColorPalettes,\n}: ProfileColorPaletteProps) => {\n  const [type, setType] = useState<CustomPaletteType[\"type\"]>(\n    palette?.type || \"categorical\"\n  );\n  const [colorValues, setColorValues] = useState<ColorItem[]>(() =>\n    getDefaultColorValues(type, palette?.colors || [])\n  );\n\n  const colorsByTypeRef = useRef<ColorsByType>({\n    categorical: getDefaultColorValues(\"categorical\", palette?.colors || []),\n    sequential: getDefaultColorValues(\"sequential\", palette?.colors || []),\n    diverging: getDefaultColorValues(\"diverging\", palette?.colors || []),\n  });\n\n  const [isNotAvailable, setIsNotAvailable] = useState(false);\n  const [titleInput, setTitleInput] = useState<string>(palette?.name || \"\");\n\n  const classes = useStyles();\n\n  const createColorPalette = useMutate(createCustomColorPalette);\n  const updateColorPalette = useMutate(updateCustomColorPalette);\n\n  const updateColor = useCallback(\n    (color: string, id: string) => {\n      setColorValues((prevColors) => {\n        const newColors = prevColors.map((oldColor) =>\n          oldColor.id === id ? { ...oldColor, color } : oldColor\n        );\n        colorsByTypeRef.current[type] = newColors;\n        return newColors;\n      });\n    },\n    [type]\n  );\n\n  const removeColor = useCallback(\n    (colorId: string) => {\n      setColorValues((prevColors) => {\n        const newColors = prevColors.filter(\n          (oldColor) => oldColor.id !== colorId\n        );\n        colorsByTypeRef.current[type] = newColors;\n        return newColors;\n      });\n    },\n    [type]\n  );\n\n  const addColor = useCallback(\n    (color?: string) => {\n      setColorValues((prevColors) => {\n        const newColors = [\n          ...prevColors,\n          { color: color ?? \"#000000\", id: createColorId() },\n        ];\n        colorsByTypeRef.current[type] = newColors;\n        return newColors;\n      });\n    },\n    [type]\n  );\n\n  const handleTypeChange = useCallback(\n    (newType: CustomPaletteType[\"type\"]) => {\n      setType(newType);\n\n      const currentColors = colorValues.map((item) => item.color);\n\n      const newColorValues = getDefaultColorValues(newType, currentColors);\n\n      colorsByTypeRef.current[newType] = newColorValues;\n      setColorValues(newColorValues);\n    },\n    [colorValues]\n  );\n\n  const saveColorPalette = useEvent(async () => {\n    const titleExistsAlready = customColorPalettes?.find(\n      (palette) => palette.name === titleInput\n    );\n\n    if (titleExistsAlready && formMode === \"add\") {\n      setIsNotAvailable(true);\n    } else {\n      setIsNotAvailable(false);\n      if (palette) {\n        await updateColorPalette.mutate({\n          paletteId: palette.paletteId,\n          name: titleInput,\n          colors: colorValues.map((c) => c.color),\n          type,\n        });\n      } else {\n        await createColorPalette.mutate({\n          name: titleInput,\n          colors: colorValues.map((c) => c.color),\n          type,\n        });\n      }\n      onBack();\n    }\n  });\n\n  const noChanges =\n    palette?.name === titleInput &&\n    palette?.colors?.length === colorValues.length &&\n    palette?.colors?.every(\n      (color, index) => color === colorValues[index].color\n    );\n\n  const captions: Record<CustomPaletteType[\"type\"], string> = {\n    sequential: t({\n      id: \"controls.custom-color-palettes.caption-sequential\",\n      message:\n        \"Select a dark endpoint color for a strong contrast between low and high values; the light color is calculated automatically. Sequential color palettes are suitable for ordered data such as temperatures or population densities.\",\n    }),\n    diverging: t({\n      id: \"controls.custom-color-palettes.caption-diverging\",\n      message:\n        \"Choose contrasting colors for the start and end points. These colors will help visually separate extreme values. Diverging palettes are ideal for data with a meaningful midpoint, such as zero or an average.\",\n    }),\n    categorical: t({\n      id: \"controls.custom-color-palettes.caption-categorical\",\n      message:\n        \"Use distinct, high-contrast colors. Avoid using too many colors, maximum 5â€“7. Apply sequential palettes for ordered data and diverging palettes for extremes.\",\n    }),\n  };\n\n  return (\n    <Flex flexDirection=\"column\" gap={8}>\n      <BackButton className={classes.backButton} onClick={onBack}>\n        <Trans id=\"login.profile.my-color-palettes.create.back-button\">\n          My palette\n        </Trans>\n      </BackButton>\n      <Flex flexDirection=\"column\" className={classes.colorPickerContainer}>\n        <ColorPaletteTypeSelector\n          onChange={handleTypeChange}\n          selectedType={type}\n        />\n        <Typography variant=\"body2\">{captions[type]}</Typography>\n\n        <Box className={classes.inputContainer}>\n          <Flex flexDirection=\"column\">\n            <Input\n              error={isNotAvailable}\n              label={t({ id: \"controls.custom-color-palettes.title\" })}\n              name=\"custom-color-palette-title\"\n              value={titleInput}\n              onChange={(e) => setTitleInput(e.target.value)}\n            />\n            {isNotAvailable && (\n              <Typography color=\"error.main\" variant=\"caption\">\n                <Trans id=\"controls.custom-color-palettes.title-unavailable\">\n                  This name is already in use. Please choose a unique name for\n                  your color palette.\n                </Trans>\n              </Typography>\n            )}\n          </Flex>\n        </Box>\n        <ColorPaletteCreator\n          type={type}\n          title={titleInput}\n          colorValues={colorValues}\n          onRemove={removeColor}\n          onUpdate={updateColor}\n          onAdd={addColor}\n        />\n\n        <Box className={classes.saveButtonContainer}>\n          <Button\n            onClick={saveColorPalette}\n            disabled={\n              colorValues.length === 0 || titleInput === \"\" || noChanges\n            }\n          >\n            {formMode === \"add\" ? (\n              <Trans id=\"controls.custom-color-palettes.create-palette\">\n                Create color palette\n              </Trans>\n            ) : (\n              <Trans id=\"controls.custom-color-palettes.update-palette\">\n                Update color palette\n              </Trans>\n            )}\n          </Button>\n        </Box>\n      </Flex>\n    </Flex>\n  );\n};\n\ntype ColorPaletteTypeSelectorProps = {\n  onChange: (type: CustomPaletteType[\"type\"]) => void;\n  selectedType: CustomPaletteType[\"type\"];\n};\n\nconst ColorPaletteTypeSelector = ({\n  onChange,\n  selectedType,\n}: ColorPaletteTypeSelectorProps) => {\n  const types: CustomPaletteType[\"type\"][] = [\n    \"categorical\",\n    \"sequential\",\n    \"diverging\",\n  ];\n  const colorTypes: Record<CustomPaletteType[\"type\"], string> = {\n    sequential: t({\n      id: \"controls.custom-color-palettes.sequential\",\n    }),\n    diverging: t({\n      id: \"controls.custom-color-palettes.diverging\",\n    }),\n    categorical: t({\n      id: \"controls.custom-color-palettes.categorical\",\n    }),\n  };\n\n  const handleChange = useEvent((e: ChangeEvent<HTMLInputElement>) => {\n    onChange(e.target.value as CustomPaletteType[\"type\"]);\n  });\n\n  return (\n    <Box sx={{ fontSize: \"1rem\", pb: 2 }}>\n      <Typography variant=\"caption\" component=\"p\" sx={{ mb: 2 }}>\n        <Trans id=\"controls.custom-color-palettes.type\">\n          Select a color palette type\n        </Trans>\n      </Typography>\n      <RadioGroup>\n        {types.map((type) => {\n          return (\n            <Flex\n              key={`color-palettes-${type}`}\n              flexDirection={\"column\"}\n              gap={2}\n            >\n              <Radio\n                label={colorTypes[type]}\n                value={type}\n                checked={type === selectedType}\n                onChange={handleChange}\n              />\n              <ColorPaletteExample type={type} />\n            </Flex>\n          );\n        })}\n      </RadioGroup>\n    </Box>\n  );\n};\n","import { Tooltip, TooltipProps } from \"@mui/material\";\nimport { MouseEvent, useState } from \"react\";\n\nimport { useEvent } from \"@/utils/use-event\";\n\nexport const OverflowTooltip = ({\n  children,\n  ...props\n}: Omit<TooltipProps, \"open\">) => {\n  const [open, setOpen] = useState(false);\n  const handleMouseEnter = useEvent(\n    ({ currentTarget: { scrollWidth, clientWidth } }: MouseEvent) => {\n      if (scrollWidth > clientWidth) {\n        setOpen(true);\n      }\n    }\n  );\n\n  return (\n    <Tooltip\n      {...props}\n      open={open}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={() => setOpen(false)}\n      disableHoverListener={!open}\n    >\n      {children}\n    </Tooltip>\n  );\n};\n","import { t, Trans } from \"@lingui/macro\";\nimport { LoadingButton } from \"@mui/lab\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogProps,\n  DialogTitle,\n  Typography,\n  useEventCallback,\n} from \"@mui/material\";\nimport { FormEvent } from \"react\";\n\nimport { Flex } from \"@/components/flex\";\nimport { Input } from \"@/components/form\";\nimport { ParsedConfig } from \"@/db/config\";\nimport { useUserConfigs } from \"@/domain/user-configs\";\nimport { Locale } from \"@/locales/locales\";\nimport { updateConfig } from \"@/utils/chart-config/api\";\nimport { useMutate } from \"@/utils/use-fetch-data\";\n\nexport const RenameDialog = ({\n  config,\n  locale,\n  onClose,\n  userId,\n  ...props\n}: {\n  config: ParsedConfig;\n  locale: Locale;\n  onClose: () => void;\n  userId: number;\n} & Omit<DialogProps, \"onClose\">) => {\n  const { invalidate: invalidateUserConfigs } = useUserConfigs();\n  const updateConfigMut = useMutate(updateConfig);\n  const isSingleChart = config.data.chartConfigs.length === 1;\n  const handleRename = useEventCallback(\n    async (ev: FormEvent<HTMLFormElement>) => {\n      ev.preventDefault();\n\n      const formData = Object.fromEntries(\n        new FormData(ev.currentTarget).entries()\n      ) as Record<Locale, string>;\n\n      if (isSingleChart) {\n        const chartConfig = config.data.chartConfigs[0];\n        await updateConfigMut.mutate({\n          key: config.key,\n          data: {\n            ...config.data,\n            chartConfigs: [\n              {\n                ...chartConfig,\n                meta: {\n                  ...chartConfig.meta,\n                  title: formData ?? chartConfig.meta.title,\n                },\n              },\n            ],\n          },\n        });\n      } else {\n        const layout = config.data.layout;\n        await updateConfigMut.mutate({\n          key: config.key,\n          data: {\n            ...config.data,\n            layout: {\n              ...layout,\n              meta: {\n                ...layout.meta,\n                title: formData ?? layout.meta.title,\n              },\n            },\n          },\n        });\n      }\n\n      invalidateUserConfigs();\n      onClose?.();\n    }\n  );\n\n  const meta = isSingleChart\n    ? config.data.chartConfigs[0].meta\n    : config.data.layout.meta;\n\n  return (\n    <Dialog {...props} fullWidth>\n      <form style={{ display: \"contents\" }} onSubmit={handleRename}>\n        <DialogTitle>\n          <Typography variant=\"h5\" component=\"p\" sx={{ fontWeight: 700 }}>\n            <Trans id=\"profile.chart.rename-dialog.title\">\n              Rename the visualization\n            </Trans>\n          </Typography>\n        </DialogTitle>\n        <DialogContent>\n          <Flex sx={{ flexDirection: \"column\", gap: 4 }}>\n            <Input\n              name=\"de\"\n              label={t({ id: \"controls.language.german\" })}\n              defaultValue={meta.title.de}\n            />\n            <Input\n              name=\"fr\"\n              label={t({ id: \"controls.language.french\" })}\n              defaultValue={meta.title.fr}\n            />\n            <Input\n              name=\"it\"\n              label={t({ id: \"controls.language.italian\" })}\n              defaultValue={meta.title.it}\n            />\n            <Input\n              name=\"en\"\n              label={t({ id: \"controls.language.english\" })}\n              defaultValue={meta.title.en}\n            />\n          </Flex>\n        </DialogContent>\n        <DialogActions sx={{ pb: 6, pr: 6 }}>\n          <Button variant=\"outlined\" onClick={onClose}>\n            Cancel\n          </Button>\n          <LoadingButton\n            type=\"submit\"\n            variant=\"contained\"\n            loading={updateConfigMut.status === \"fetching\"}\n            sx={{ minWidth: \"auto\" }}\n          >\n            Ok\n          </LoadingButton>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n","import { useMemo, useRef, useState } from \"react\";\n\nimport {\n  ArrowMenuBottomCenter,\n  ArrowMenuTopCenter,\n} from \"@/components/arrow-menu\";\nimport { useEvent } from \"@/utils/use-event\";\n\nconst MENU_ITEM_HEIGHT = 40;\n\ntype FlipMenuOrigin = {\n  vertical: \"top\" | \"bottom\";\n  horizontal: \"center\";\n};\n\nexport const useFlipMenu = ({ itemsCount }: { itemsCount: number }) => {\n  const buttonRef = useRef<HTMLButtonElement | null>(null);\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>();\n  const [anchorOrigin, setAnchorOrigin] = useState<FlipMenuOrigin>({\n    vertical: \"bottom\",\n    horizontal: \"center\",\n  });\n  const [transformOrigin, setTransformOrigin] = useState<FlipMenuOrigin>({\n    vertical: \"top\",\n    horizontal: \"center\",\n  });\n\n  const handleOpenElClick = useEvent(() => {\n    const openEl = buttonRef.current;\n\n    if (!openEl) {\n      return;\n    }\n\n    setAnchorEl(openEl);\n\n    const { top, bottom } = openEl.getBoundingClientRect();\n    const windowHeight = window.innerHeight;\n    const spaceBelow = windowHeight - bottom;\n    const spaceAbove = top;\n    const threshold = MENU_ITEM_HEIGHT * itemsCount + 16;\n\n    if (spaceBelow < threshold && spaceAbove > spaceBelow) {\n      setAnchorOrigin({ vertical: \"top\", horizontal: \"center\" });\n      setTransformOrigin({ vertical: \"bottom\", horizontal: \"center\" });\n    } else {\n      setAnchorOrigin({ vertical: \"bottom\", horizontal: \"center\" });\n      setTransformOrigin({ vertical: \"top\", horizontal: \"center\" });\n    }\n  });\n\n  const handleClose = useEvent(() => {\n    setAnchorEl(null);\n  });\n\n  const Wrapper = useMemo(() => {\n    switch (anchorOrigin.vertical) {\n      case \"bottom\":\n        return ArrowMenuTopCenter;\n      case \"top\":\n        return ArrowMenuBottomCenter;\n      default:\n        return ArrowMenuTopCenter;\n    }\n  }, [anchorOrigin.vertical]);\n\n  return {\n    handleOpenElClick,\n    handleClose,\n    Wrapper,\n    anchorEl,\n    buttonRef,\n    anchorOrigin,\n    transformOrigin,\n  };\n};\n","import { IconButton } from \"@mui/material\";\n\nimport { Flex } from \"@/components/flex\";\nimport { MenuActionItem, MenuActionProps } from \"@/components/menu-action-item\";\nimport { useFlipMenu } from \"@/components/use-flip-menu\";\nimport { Icon } from \"@/icons\";\n\nexport const RowActions = ({ actions }: { actions: MenuActionProps[] }) => {\n  const [primaryAction, ...otherActions] = actions;\n  const {\n    buttonRef,\n    handleOpenElClick,\n    handleClose,\n    anchorEl,\n    anchorOrigin,\n    transformOrigin,\n    Wrapper,\n  } = useFlipMenu({ itemsCount: actions.length });\n  const additionalProps =\n    primaryAction.type === \"button\" ? { onDialogClose: handleClose } : {};\n\n  return (\n    <Flex gap=\"0.5rem\" justifyContent=\"flex-end\" alignItems=\"center\">\n      <MenuActionItem as=\"button\" {...primaryAction} {...additionalProps} />\n      <IconButton ref={buttonRef} onClick={handleOpenElClick}>\n        <Icon name=\"more\" size={16} />\n      </IconButton>\n      <Wrapper\n        onClose={handleClose}\n        open={!!anchorEl}\n        anchorEl={anchorEl}\n        anchorOrigin={anchorOrigin}\n        transformOrigin={transformOrigin}\n      >\n        {otherActions.map((actionProps, i) => (\n          <MenuActionItem\n            key={i}\n            as=\"menuitem\"\n            {...actionProps}\n            onClick={(e) => {\n              if (!actionProps.stayOpen) {\n                handleClose();\n              }\n              actionProps.onClick?.(e);\n            }}\n            {...additionalProps}\n          />\n        ))}\n      </Wrapper>\n    </Flex>\n  );\n};\n","import { t, Trans } from \"@lingui/macro\";\nimport {\n  Box,\n  Button,\n  Link,\n  PopoverPosition,\n  Skeleton,\n  styled,\n  Table,\n  TableBody,\n  TableCell,\n  tableCellClasses,\n  TableHead,\n  tableHeadClasses,\n  TableRow,\n  tableRowClasses,\n  Typography,\n} from \"@mui/material\";\nimport { PUBLISHED_STATE } from \"@prisma/client\";\nimport sortBy from \"lodash/sortBy\";\nimport NextLink from \"next/link\";\nimport { ReactNode, useMemo, useState } from \"react\";\n\nimport { InlineMarkdown, Markdown } from \"@/components/markdown\";\nimport { MenuActionProps } from \"@/components/menu-action-item\";\nimport { OverflowTooltip } from \"@/components/overflow-tooltip\";\nimport {\n  EmbedContent,\n  ShareContent,\n  TriggeredPopover,\n} from \"@/components/publish-actions\";\nimport { RenameDialog } from \"@/components/rename-dialog\";\nimport { RowActions } from \"@/components/row-actions\";\nimport { useDisclosure } from \"@/components/use-disclosure\";\nimport { CONFIGURATOR_STATE_LAYOUTING } from \"@/config-types\";\nimport { ParsedConfigWithViewCount } from \"@/db/config\";\nimport { sourceToLabel } from \"@/domain/data-source\";\nimport { truthy } from \"@/domain/types\";\nimport { useUserConfigs } from \"@/domain/user-configs\";\nimport { useDataCubesMetadataQuery } from \"@/graphql/hooks\";\nimport { Icon } from \"@/icons\";\nimport { useLocale } from \"@/locales/use-locale\";\nimport { useRootStyles } from \"@/login/utils\";\nimport { formatInteger } from \"@/statistics/formatters\";\nimport { removeConfig, updateConfig } from \"@/utils/chart-config/api\";\nimport { useMutate } from \"@/utils/use-fetch-data\";\n\nconst PREVIEW_LIMIT = 3;\nconst POPOVER_PADDING = 8;\n\nexport const SectionContent = ({\n  children,\n  title,\n}: {\n  children: ReactNode;\n  title?: string;\n}) => {\n  const rootClasses = useRootStyles();\n\n  return (\n    <Box className={rootClasses.sectionContent}>\n      {title && (\n        <Typography variant=\"h3\" sx={{ mb: 6, fontWeight: 700 }}>\n          {title}\n        </Typography>\n      )}\n      {children}\n    </Box>\n  );\n};\n\ntype ProfileVisualizationsTableProps = {\n  title: string;\n  userId: number;\n  userConfigs: ParsedConfigWithViewCount[];\n  preview?: boolean;\n  onShowAll?: () => void;\n};\n\nconst StyledTable = styled(Table)(({ theme }) => ({\n  tableLayout: \"fixed\",\n  boxShadow: theme.shadows[4],\n\n  [`& .${tableRowClasses.root}`]: {\n    verticalAlign: \"middle\",\n    height: 56,\n\n    [`& > .${tableCellClasses.root}`]: {\n      borderBottomColor: theme.palette.divider,\n    },\n  },\n\n  [`& .${tableHeadClasses.root} .${tableCellClasses.root}`]: {\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport const ProfileVisualizationsTable = ({\n  title,\n  userId,\n  userConfigs,\n  preview,\n  onShowAll,\n}: ProfileVisualizationsTableProps) => {\n  return (\n    <SectionContent title={title}>\n      {userConfigs.length > 0 ? (\n        <>\n          <StyledTable>\n            <TableHead>\n              <TableRow>\n                <TableCell component=\"th\" width=\"10%\">\n                  <Trans id=\"login.profile.my-visualizations.chart-type\">\n                    Type\n                  </Trans>\n                </TableCell>\n                <TableCell component=\"th\" width=\"27.5%\">\n                  <Trans id=\"login.profile.my-visualizations.chart-name\">\n                    Name\n                  </Trans>\n                </TableCell>\n                <TableCell component=\"th\" width=\"27.5%\">\n                  <Trans id=\"login.profile.my-visualizations.dataset-name\">\n                    Dataset\n                  </Trans>\n                </TableCell>\n                <TableCell component=\"th\" width=\"10%\">\n                  <Trans id=\"login.profile.my-visualizations.chart-views\">\n                    Views\n                  </Trans>\n                </TableCell>\n                <TableCell component=\"th\" width=\"12.5%\">\n                  <Trans id=\"login.profile.my-visualizations.chart-updated-date\">\n                    Last edit\n                  </Trans>\n                </TableCell>\n                <TableCell component=\"th\" width=\"12.5%\" />\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {userConfigs\n                .slice(0, preview ? PREVIEW_LIMIT : undefined)\n                .map((config) => (\n                  <ProfileVisualizationsRow\n                    key={config.key}\n                    userId={userId}\n                    config={config}\n                  />\n                ))}\n            </TableBody>\n          </StyledTable>\n          {preview && (\n            <Button\n              variant=\"text\"\n              color=\"primary\"\n              size=\"sm\"\n              endIcon={<Icon name=\"arrowDown\" size={20} />}\n              onClick={onShowAll}\n              sx={{ mt: 6 }}\n            >\n              <Trans id=\"show.all\">Show all</Trans>\n            </Button>\n          )}\n        </>\n      ) : (\n        <Typography variant=\"body2\">\n          <Trans id=\"login.no-charts\">No charts yet</Trans>,{\" \"}\n          <NextLink href=\"/browse\" passHref legacyBehavior>\n            <Link>\n              <Trans id=\"login.create-chart\">create one</Trans>\n            </Link>\n          </NextLink>\n          .\n        </Typography>\n      )}\n    </SectionContent>\n  );\n};\n\nconst ProfileVisualizationsRow = ({\n  userId,\n  config,\n}: {\n  userId: number;\n  config: ParsedConfigWithViewCount;\n}) => {\n  const { dataSource } = config.data;\n  const dataSets = Array.from(\n    new Set(config.data.chartConfigs.flatMap((d) => d.cubes.map((d) => d.iri)))\n  );\n  const dataSet = dataSets.length === 1 ? dataSets[0] : null;\n  const locale = useLocale();\n  const [{ data, fetching }] = useDataCubesMetadataQuery({\n    variables: {\n      sourceType: dataSource.type,\n      sourceUrl: dataSource.url,\n      locale,\n      cubeFilters: [{ iri: dataSet! }],\n    },\n    pause: !dataSet,\n  });\n\n  const { invalidate: invalidateUserConfigs } = useUserConfigs();\n\n  const removeConfigMut = useMutate(removeConfig);\n  const updateConfigMut = useMutate(updateConfig);\n\n  const [shareEl, setShareEl] = useState<HTMLElement | undefined>();\n  const [embedEl, setEmbedEl] = useState<HTMLElement | undefined>();\n\n  const {\n    isOpen: isRenameOpen,\n    open: openRename,\n    close: closeRename,\n  } = useDisclosure();\n\n  const isPublished = config.published_state === PUBLISHED_STATE.PUBLISHED;\n  const publishLink = `/${locale}/v/${config.key}`;\n  const editLink = `/${locale}/create/new?edit=${config.key}${config.data.chartConfigs.length > 1 ? `&state=${CONFIGURATOR_STATE_LAYOUTING}` : \"\"}`;\n\n  const actions = useMemo(() => {\n    const actions: (MenuActionProps | null)[] = [\n      {\n        type: \"link\",\n        href: publishLink,\n        label: isPublished\n          ? t({ id: \"login.chart.view\", message: \"View\" })\n          : t({ id: \"login.chart.preview\", message: \"Preview\" }),\n        leadingIconName: \"show\",\n        priority: isPublished ? 0 : undefined,\n      },\n      {\n        type: \"link\",\n        href: `/${locale}/create/new?copy=${config.key}`,\n        label: t({ id: \"login.chart.duplicate\", message: \"Duplicate\" }),\n        leadingIconName: \"duplicate\",\n      },\n      {\n        type: \"link\",\n        href: editLink,\n        label: t({ id: \"login.chart.edit\", message: \"Edit\" }),\n        leadingIconName: \"pen\",\n        priority: !isPublished ? 0 : undefined,\n      },\n      isPublished\n        ? {\n            type: \"button\",\n            label: t({\n              id: \"login.chart.actions.unpublish\",\n              message: \"Unpublish\",\n            }),\n            leadingIconName: (updateConfigMut.status === \"fetching\"\n              ? \"loading\"\n              : \"unpublish\") as MenuActionProps[\"leadingIconName\"],\n\n            onClick: async () => {\n              await updateConfigMut.mutate({\n                key: config.key,\n                data: {\n                  ...config.data,\n                  state: \"PUBLISHING\",\n                },\n                published_state: PUBLISHED_STATE.DRAFT,\n              });\n              invalidateUserConfigs();\n            },\n            onSuccess: () => {\n              invalidateUserConfigs();\n            },\n          }\n        : null,\n      {\n        type: \"button\",\n        onClick: (e) => setShareEl(e?.currentTarget),\n        label: t({ id: \"login.chart.share\", message: \"Share\" }),\n        leadingIconName: \"share\",\n        stayOpen: true,\n      },\n      {\n        type: \"button\",\n        onClick: (e) => setEmbedEl(e?.currentTarget),\n        label: t({ id: \"login.chart.embed\", message: \"Embed\" }),\n        leadingIconName: \"embed\",\n        stayOpen: true,\n      },\n      {\n        type: \"button\",\n        label: t({ id: \"login.chart.rename\", message: \"Rename\" }),\n        leadingIconName: \"text\",\n        onClick: () => {\n          openRename();\n        },\n      },\n      {\n        type: \"button\",\n        label: t({ id: \"login.chart.delete\", message: \"Delete\" }),\n        color: \"red\",\n        leadingIconName:\n          removeConfigMut.status === \"fetching\" ? \"refresh\" : \"trash\",\n        requireConfirmation: true,\n        confirmationTitle: isPublished\n          ? t({\n              id: \"login.chart.delete.confirmation\",\n              message: \"Are you sure you want to delete this chart?\",\n            })\n          : t({\n              id: \"login.chart.delete-draft.confirmation\",\n              message: \"Are you sure you want to delete this draft?\",\n            }),\n        confirmationText: isPublished\n          ? t({\n              id: \"login.profile.chart.delete.warning\",\n              message:\n                \"This action cannot be undone. Removing this chart will affect all the places where it's embedded!\",\n            })\n          : t({\n              id: \"login.profile.chart.delete-draft.warning\",\n              message: \"This action cannot be undone.\",\n            }),\n        onClick: async () => {\n          await removeConfigMut.mutate({ key: config.key });\n          invalidateUserConfigs();\n        },\n        onSuccess: () => {\n          invalidateUserConfigs();\n        },\n      },\n    ];\n\n    return sortBy(actions.filter(truthy), (x) => x.priority);\n  }, [\n    publishLink,\n    isPublished,\n    locale,\n    config.key,\n    config.data,\n    editLink,\n    updateConfigMut,\n    removeConfigMut,\n    invalidateUserConfigs,\n    openRename,\n  ]);\n\n  const isSingleChart = config.data.chartConfigs.length === 1;\n  const chartTitle = useMemo(() => {\n    const title = isSingleChart\n      ? config.data.chartConfigs[0].meta.title[locale]\n      : config.data.layout.meta.title[locale];\n\n    return title || t({ id: \"annotator.add.title\", message: \"[ Add Title ]\" });\n  }, [\n    config.data.chartConfigs,\n    config.data.layout.meta.title,\n    isSingleChart,\n    locale,\n  ]);\n\n  return (\n    <TableRow>\n      <TableCell>\n        {isSingleChart\n          ? t({ id: \"controls.layout.chart\", message: \"Chart\" })\n          : t({ id: \"controls.layout.dashboard\", message: \"Dashboard\" })}\n      </TableCell>\n      <TableCell>\n        <NextLink\n          href={isPublished ? publishLink : editLink}\n          passHref\n          legacyBehavior\n        >\n          <Link>\n            <OverflowTooltip\n              arrow\n              title={<Markdown>{chartTitle}</Markdown>}\n              color=\"primary.main\"\n            >\n              <Typography variant=\"body3\" component=\"p\" noWrap>\n                <InlineMarkdown>{chartTitle}</InlineMarkdown>\n              </Typography>\n            </OverflowTooltip>\n          </Link>\n        </NextLink>\n      </TableCell>\n      <TableCell>\n        {fetching ? (\n          <Skeleton width=\"50%\" height={32} />\n        ) : dataSet ? (\n          <NextLink\n            href={`/browse?dataset=${dataSet}&dataSource=${sourceToLabel(\n              dataSource\n            )}`}\n            passHref\n            legacyBehavior\n          >\n            <Link>\n              <OverflowTooltip\n                arrow\n                title={data?.dataCubesMetadata[0]?.title ?? \"\"}\n                color=\"primary.main\"\n              >\n                <Typography variant=\"body3\" component=\"p\" noWrap>\n                  {data?.dataCubesMetadata[0]?.title ?? \"\"}\n                </Typography>\n              </OverflowTooltip>\n            </Link>\n          </NextLink>\n        ) : (\n          <Typography variant=\"body3\" component=\"p\" noWrap>\n            {t({\n              id: \"login.profile.my-visualizations.multiple-datasets\",\n              message: \"Multiple datasets\",\n            })}\n          </Typography>\n        )}\n      </TableCell>\n      <TableCell>\n        <Typography variant=\"body3\" component=\"p\" noWrap>\n          {formatInteger(config.viewCount)}\n        </Typography>\n      </TableCell>\n      <TableCell>\n        {config.updated_at.toLocaleString(\"de\", {\n          dateStyle: \"medium\",\n          timeStyle: \"short\",\n        })}\n      </TableCell>\n      <TableCell align=\"right\">\n        <RowActions actions={actions} />\n        <TriggeredPopover\n          popoverProps={{\n            anchorPosition: { ...getAdjustedPopoverPosition(embedEl) },\n            anchorReference: \"anchorPosition\",\n          }}\n          trigger={embedEl}\n        >\n          <EmbedContent locale={locale} configKey={config.key} />\n        </TriggeredPopover>\n        <TriggeredPopover\n          popoverProps={{\n            anchorPosition: {\n              ...getAdjustedPopoverPosition(shareEl),\n            },\n            anchorReference: \"anchorPosition\",\n          }}\n          trigger={shareEl}\n        >\n          <ShareContent locale={locale} configKey={config.key} />\n        </TriggeredPopover>\n        <RenameDialog\n          config={config}\n          open={isRenameOpen}\n          onClose={closeRename}\n          locale={locale}\n          userId={userId}\n        />\n      </TableCell>\n    </TableRow>\n  );\n};\n\nconst getAdjustedPopoverPosition = (\n  element: HTMLElement | undefined\n): PopoverPosition => {\n  if (element) {\n    const { x, y } = element.getBoundingClientRect();\n\n    return {\n      top: y,\n      left: x - POPOVER_PADDING,\n    };\n  } else {\n    return { top: 0, left: 0 };\n  }\n};\n","import { useEvent } from \"@dnd-kit/utilities\";\nimport { Trans } from \"@lingui/macro\";\nimport { Button, Grid, IconButton, styled, Typography } from \"@mui/material\";\nimport { useState } from \"react\";\n\nimport { Flex } from \"@/components/flex\";\nimport { VisuallyHidden } from \"@/components/visually-hidden\";\nimport { CustomPaletteType } from \"@/config-types\";\nimport { ColorSquare } from \"@/configurator/components/chart-controls/color-palette\";\nimport { ColorRamp } from \"@/configurator/components/chart-controls/color-ramp\";\nimport { Icon } from \"@/icons\";\nimport { ProfileColorPaletteForm } from \"@/login/components/color-palettes/profile-color-palette-form\";\nimport { SectionContent } from \"@/login/components/profile-tables\";\nimport {\n  createDivergingInterpolator,\n  createSequentialInterpolator,\n} from \"@/palettes\";\nimport { deleteCustomColorPalette } from \"@/utils/chart-config/api\";\nimport { useMutate } from \"@/utils/use-fetch-data\";\nimport { useUserPalettes } from \"@/utils/use-user-palettes\";\n\ntype ProfileContentProps = {\n  title: string;\n};\n\nexport const ProfileColorPaletteContent = ({ title }: ProfileContentProps) => {\n  const { data: customColorPalettes, invalidate } = useUserPalettes();\n\n  type FormMode = \"add\" | \"edit\" | \"view\";\n  const [formMode, setFormMode] = useState<FormMode>(\"view\");\n  const [selectedPaletteId, setSelectedPaletteId] = useState<string | null>(\n    null\n  );\n\n  const showAddForm = useEvent(() => {\n    setSelectedPaletteId(null);\n    setFormMode(\"add\");\n  });\n\n  const showEditForm = useEvent((paletteId: string) => {\n    setSelectedPaletteId(paletteId);\n    setFormMode(\"edit\");\n  });\n\n  const returnToView = useEvent(() => {\n    invalidate();\n    setFormMode(\"view\");\n  });\n\n  const selectedPalette = customColorPalettes?.find(\n    (palette) => palette.paletteId === selectedPaletteId\n  );\n\n  return (\n    <SectionContent title={formMode === \"view\" ? title : undefined}>\n      {formMode === \"view\" ? (\n        <Flex flexDirection=\"column\" width={385} gap=\"30px\">\n          {customColorPalettes && customColorPalettes.length > 0 ? (\n            <Flex flexDirection=\"column\" gap={1}>\n              {customColorPalettes.map((palette) => (\n                <ColorPaletteRow\n                  key={palette.paletteId}\n                  paletteId={palette.paletteId}\n                  name={palette.name}\n                  colors={palette.colors}\n                  type={palette.type}\n                  onDelete={invalidate}\n                  onEdit={showEditForm}\n                />\n              ))}\n            </Flex>\n          ) : (\n            <Typography variant=\"body2\">\n              <Trans id=\"login.profile.my-color-palettes.description\">\n                Save a custom color palette to easily choose your colors while\n                creating a visualization.\n              </Trans>\n            </Typography>\n          )}\n          <Button\n            size=\"sm\"\n            startIcon={<Icon name=\"plus\" />}\n            sx={{ width: \"fit-content\" }}\n            onClick={showAddForm}\n          >\n            <Trans id=\"login.profile.my-color-palettes.add\">\n              Add color palette\n            </Trans>\n          </Button>\n        </Flex>\n      ) : (\n        <ProfileColorPaletteForm\n          formMode={formMode}\n          palette={formMode === \"edit\" ? selectedPalette : undefined}\n          onBack={returnToView}\n          customColorPalettes={customColorPalettes}\n        />\n      )}\n    </SectionContent>\n  );\n};\n\nconst EditButton = styled(IconButton)(({ theme }) => ({\n  padding: theme.spacing(1),\n  minWidth: \"auto\",\n  backgroundColor: \"transparent\",\n  lineHeight: 0,\n}));\n\nconst DeleteButton = styled(IconButton)(({ theme }) => ({\n  padding: theme.spacing(1),\n  minWidth: \"auto\",\n  backgroundColor: \"transparent\",\n  lineHeight: 0,\n}));\n\nconst ColorPaletteRow = ({\n  colors,\n  name,\n  paletteId,\n  type,\n  onDelete,\n  onEdit,\n}: CustomPaletteType & {\n  onDelete: () => void;\n  onEdit: (paletteId: string) => void;\n}) => {\n  const deleteColorPalette = useMutate(deleteCustomColorPalette);\n\n  const handleDelete = useEvent(async () => {\n    await deleteColorPalette.mutate({ paletteId });\n    onDelete();\n  });\n\n  return (\n    <Flex\n      sx={{\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        py: 3,\n        pr: 4,\n      }}\n    >\n      <div>\n        <Typography variant=\"caption\">{name}</Typography>\n        <Grid\n          container\n          spacing={0.5}\n          sx={{\n            display: \"flex\",\n            alignItems: \"center\",\n            width: \"240px\",\n\n            \"& .MuiGrid-item\": {\n              display: \"flex\",\n              alignItems: \"center\",\n            },\n          }}\n        >\n          <ColorPaletteDisplay\n            colors={colors}\n            paletteId={paletteId}\n            type={type}\n          />\n        </Grid>\n      </div>\n      <Flex gap={2.5}>\n        <EditButton onClick={() => onEdit(paletteId)}>\n          <Typography\n            component=\"span\"\n            color=\"text.primary\"\n            aria-hidden\n            style={{ lineHeight: 0 }}\n          >\n            <VisuallyHidden>\n              <Trans id=\"login.profile.my-color-palettes.edit\">\n                Edit Color Palette\n              </Trans>\n            </VisuallyHidden>\n            <Icon name=\"pen\" size={24} />\n          </Typography>\n        </EditButton>\n        <DeleteButton\n          disabled={deleteColorPalette.status === \"fetching\"}\n          onClick={handleDelete}\n        >\n          <VisuallyHidden>\n            <Trans id=\"login.profile.my-color-palettes.delete\">\n              Delete Color Palette\n            </Trans>\n          </VisuallyHidden>\n          <Typography\n            component=\"span\"\n            color=\"text.primary\"\n            aria-hidden\n            style={{ lineHeight: 0 }}\n          >\n            <Icon name=\"trash\" size={24} />\n          </Typography>\n        </DeleteButton>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst ColorPaletteDisplay = ({\n  colors,\n  paletteId,\n  type,\n}: Omit<CustomPaletteType, \"name\">) => {\n  switch (type) {\n    case \"categorical\":\n      return (\n        <>\n          {colors.map((color, i) => (\n            <Grid item key={`${paletteId}-${color}-${i}`}>\n              <ColorSquare color={color} />\n            </Grid>\n          ))}\n        </>\n      );\n    case \"sequential\":\n      return (\n        <ColorRamp\n          height={20}\n          width={240}\n          colorInterpolator={\n            createSequentialInterpolator({\n              endColorHex: colors[0],\n              startColorHex: colors[1],\n            }).interpolator\n          }\n        />\n      );\n    case \"diverging\":\n      return (\n        <ColorRamp\n          height={20}\n          width={240}\n          colorInterpolator={\n            createDivergingInterpolator({\n              endColorHex: colors[0],\n              startColorHex: colors[1],\n              options: {\n                midColorHex: colors[2] ?? undefined,\n              },\n            }).interpolator\n          }\n        />\n      );\n    default:\n      const _exhaustiveCheck: never = type;\n      return _exhaustiveCheck;\n  }\n};\n","import { t } from \"@lingui/macro\";\nimport { TabContext, TabList, TabPanel } from \"@mui/lab\";\nimport { Box, Tab, Theme } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport clsx from \"clsx\";\nimport groupBy from \"lodash/groupBy\";\nimport { type SyntheticEvent, useMemo, useState } from \"react\";\n\nimport { ParsedConfigWithViewCount } from \"@/db/config\";\nimport { useUserConfigs } from \"@/domain/user-configs\";\nimport { ProfileColorPaletteContent } from \"@/login/components/color-palettes/profile-color-palette-content\";\nimport { ProfileVisualizationsTable } from \"@/login/components/profile-tables\";\nimport { useRootStyles } from \"@/login/utils\";\nimport { useEvent } from \"@/utils/use-event\";\n\nconst useStyles = makeStyles<Theme>((theme) => ({\n  section: {\n    borderTop: `1px solid ${theme.palette.monochrome[300]}`,\n    borderBottom: `1px solid ${theme.palette.monochrome[300]}`,\n    marginTop: theme.spacing(6),\n  },\n  tabList: {\n    minHeight: \"fit-content\",\n\n    \"& .MuiTabs-flexContainer\": {\n      height: \"fit-content\",\n    },\n  },\n  tabPanel: {\n    padding: 0,\n  },\n  tabPanelContent: {\n    padding: theme.spacing(6),\n    backgroundColor: theme.palette.background.paper,\n  },\n  tab: {\n    height: 48,\n    minHeight: 0,\n    padding: \"0 1rem\",\n    textTransform: \"none\",\n  },\n}));\n\ntype ProfileContentTabsProps = {\n  userId: number;\n};\n\nexport const ProfileContentTabs = (props: ProfileContentTabsProps) => {\n  const { userId } = props;\n\n  const { data: userConfigs } = useUserConfigs();\n\n  const [value, setValue] = useState(\"home\");\n  const handleChange = useEvent((_: SyntheticEvent, v: string) => {\n    setValue(v);\n  });\n  const rootClasses = useRootStyles();\n  const classes = useStyles();\n\n  const { DRAFT: draftConfigs = [], PUBLISHED: publishedConfigs = [] } =\n    useMemo(() => {\n      return groupBy(\n        userConfigs,\n        (config: ParsedConfigWithViewCount) => config.published_state\n      );\n    }, [userConfigs]);\n\n  if (!userConfigs) {\n    return null;\n  }\n\n  return (\n    <TabContext value={value}>\n      <Box className={clsx(rootClasses.section, classes.section)}>\n        <Box className={rootClasses.sectionContent}>\n          <TabList className={classes.tabList} onChange={handleChange}>\n            <Tab\n              className={classes.tab}\n              label={t({\n                id: \"login.profile.home\",\n                message: \"Home\",\n              })}\n              value=\"home\"\n            />\n            <Tab\n              className={classes.tab}\n              label={t({\n                id: \"login.profile.my-drafts\",\n                message: \"My Drafts\",\n              })}\n              value=\"drafts\"\n            />\n            <Tab\n              className={classes.tab}\n              label={t({\n                id: \"login.profile.my-published-visualizations\",\n                message: \"My Visualizations\",\n              })}\n              value=\"published\"\n            />\n            <Tab\n              data-testid=\"color-palettes-tab\"\n              className={classes.tab}\n              label={t({\n                id: \"login.profile.my-color-palettes\",\n                message: \"My Color Palettes\",\n              })}\n              value=\"palettes\"\n            />\n          </TabList>\n        </Box>\n      </Box>\n      <TabPanel className={classes.tabPanel} value=\"home\">\n        <Box\n          className={classes.tabPanelContent}\n          sx={{ display: \"flex\", flexDirection: \"column\", gap: \"3rem\" }}\n        >\n          <ProfileVisualizationsTable\n            title={t({\n              id: \"login.profile.my-drafts\",\n              message: \"My Drafts\",\n            })}\n            userId={userId}\n            userConfigs={draftConfigs}\n            preview\n            onShowAll={() => setValue(\"drafts\")}\n          />\n          <ProfileVisualizationsTable\n            title={t({\n              id: \"login.profile.my-published-visualizations\",\n              message: \"My Visualizations\",\n            })}\n            userId={userId}\n            userConfigs={publishedConfigs}\n            preview\n            onShowAll={() => setValue(\"published\")}\n          />\n        </Box>\n      </TabPanel>\n      <TabPanel className={classes.tabPanel} value=\"published\">\n        <Box className={classes.tabPanelContent}>\n          <ProfileVisualizationsTable\n            title={t({\n              id: \"login.profile.my-published-visualizations\",\n              message: \"My Visualizations\",\n            })}\n            userId={userId}\n            userConfigs={publishedConfigs}\n          />\n        </Box>\n      </TabPanel>\n      <TabPanel className={classes.tabPanel} value=\"drafts\">\n        <Box className={classes.tabPanelContent}>\n          <ProfileVisualizationsTable\n            title={t({\n              id: \"login.profile.my-drafts\",\n              message: \"My Drafts\",\n            })}\n            userId={userId}\n            userConfigs={draftConfigs}\n          />\n        </Box>\n      </TabPanel>\n      <TabPanel className={classes.tabPanel} value=\"palettes\">\n        <Box className={classes.tabPanelContent}>\n          <ProfileColorPaletteContent\n            title={t({\n              id: \"login.profile.my-color-palettes\",\n              message: \"My Color Palettes\",\n            })}\n          />\n        </Box>\n      </TabPanel>\n    </TabContext>\n  );\n};\n","import { Trans } from \"@lingui/macro\";\nimport { Box, Button, Theme, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { User } from \"@prisma/client\";\nimport clsx from \"clsx\";\nimport NextLink from \"next/link\";\nimport { signOut } from \"next-auth/react\";\n\nimport { ADFS_PROFILE_URL } from \"@/domain/env\";\nimport { Icon } from \"@/icons\";\nimport { useRootStyles } from \"@/login/utils\";\n\nconst useStyles = makeStyles<Theme>((theme) => ({\n  section: {\n    paddingTop: theme.spacing(6),\n  },\n  topRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: theme.spacing(1),\n  },\n  button: {\n    width: \"fit-content\",\n  },\n}));\n\nexport const ProfileHeader = (props: { user: User }) => {\n  const { user } = props;\n  const rootClasses = useRootStyles();\n  const classes = useStyles();\n  return (\n    <Box className={clsx(rootClasses.section, classes.section)}>\n      <Box className={rootClasses.sectionContent}>\n        <Box className={classes.topRow}>\n          <Typography variant=\"h1\" sx={{ fontWeight: 700 }}>\n            {user.name}\n          </Typography>\n          <BrowseButton />\n        </Box>\n        {ADFS_PROFILE_URL && (\n          <Button\n            className={classes.button}\n            component=\"a\"\n            href={ADFS_PROFILE_URL}\n            variant=\"text\"\n            color=\"primary\"\n            size=\"sm\"\n            sx={{ mr: 2 }}\n          >\n            eIAM MyAccount\n          </Button>\n        )}\n        <Button\n          className={classes.button}\n          variant=\"text\"\n          color=\"primary\"\n          size=\"sm\"\n          onClick={async () => await signOut()}\n        >\n          <Trans id=\"login.sign-out\">Sign out</Trans>\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nconst BrowseButton = () => {\n  return (\n    <NextLink href=\"/browse\" passHref legacyBehavior>\n      <Button size=\"sm\" endIcon={<Icon name=\"arrowRight\" size={20} />}>\n        <Trans id=\"browse.dataset.all\">Browse all datasets</Trans>\n      </Button>\n    </NextLink>\n  );\n};\n","import { Box } from \"@mui/material\";\nimport { User } from \"@prisma/client\";\nimport { GetServerSideProps } from \"next\";\nimport { getServerSession } from \"next-auth\";\n\nimport { Footer } from \"@/components/footer\";\nimport { AppLayout } from \"@/components/layout\";\nimport { getUserConfigs, ParsedConfig } from \"@/db/config\";\nimport { deserializeProps, Serialized, serializeProps } from \"@/db/serialize\";\nimport { findBySub } from \"@/db/user\";\nimport { userConfigsKey } from \"@/domain/user-configs\";\nimport { ProfileContentTabs } from \"@/login/components/profile-content-tabs\";\nimport { ProfileHeader } from \"@/login/components/profile-header\";\nimport { useRootStyles } from \"@/login/utils\";\nimport { useHydrate } from \"@/utils/use-fetch-data\";\n\nimport { nextAuthOptions } from \"./api/auth/[...nextauth]\";\n\ntype PageProps = {\n  user: User;\n  userConfigs: ParsedConfig[];\n};\n\nexport const getServerSideProps: GetServerSideProps<PageProps> = async (\n  ctx\n) => {\n  const { req, res } = ctx;\n  const session = await getServerSession(req, res, nextAuthOptions);\n  const userSub = session?.user.sub;\n\n  if (userSub) {\n    const user = await findBySub(userSub);\n    const userConfigs = await getUserConfigs(user.id);\n\n    return {\n      props: serializeProps({\n        user,\n        userConfigs,\n      }),\n    };\n  } else {\n    return {\n      redirect: {\n        destination: \"/\",\n        permanent: false,\n      },\n    };\n  }\n};\n\nconst ProfilePage = (props: Serialized<PageProps>) => {\n  const { user, userConfigs } = deserializeProps(props);\n  const rootClasses = useRootStyles();\n\n  useHydrate(userConfigsKey, userConfigs);\n\n  return (\n    <AppLayout>\n      <Box className={rootClasses.root}>\n        <ProfileHeader user={user} />\n        <Box sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>\n          <ProfileContentTabs userId={user.id} />\n        </Box>\n      </Box>\n      <Footer />\n    </AppLayout>\n  );\n};\n\nexport default ProfilePage;\n","import { formatLocale } from \"d3-format\";\n\nimport { Locale } from \"@/locales/locales\";\n\nexport const formatInteger = formatLocale({\n  decimal: \".\",\n  thousands: \"\\u00a0\",\n  grouping: [3],\n  currency: [\"\", \"\\u00a0 CHF\"],\n  minus: \"\\u2212\",\n  percent: \"%\",\n}).format(\",d\");\n\nexport const formatYearMonth = (date: Date, { locale }: { locale: Locale }) => {\n  const year = date.getFullYear();\n  const month = date.toLocaleDateString(locale, { month: \"short\" });\n\n  return `${year} ${month}`;\n};\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/profile\",\n      function () {\n        return require(\"private-next-pages/profile.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/profile\"])\n      });\n    }\n  "],"names":["categoricalExamplePalette","ColorPaletteExample","_ref","type","example","_jsx","ColorRamp","height","width","colorInterpolator","interpolatePurples","interpolateRdYlGn","Flex","gap","children","map","color","ColorSquare","_jsxs","flexDirection","Label","htmlFor","Trans","id","useStyles","makeStyles","root","padding","backButton","colorPickerContainer","theme","spacing","paddingLeft","inputContainer","addColorButton","minWidth","saveButtonContainer","marginTop","ProfileColorPaletteForm","onBack","palette","formMode","customColorPalettes","setType","useState","colorValues","setColorValues","getDefaultColorValues","colors","colorsByTypeRef","useRef","categorical","sequential","diverging","isNotAvailable","setIsNotAvailable","titleInput","setTitleInput","name","classes","createColorPalette","useMutate","createCustomColorPalette","updateColorPalette","updateCustomColorPalette","updateColor","useCallback","prevColors","newColors","oldColor","_objectSpread","current","removeColor","colorId","filter","addColor","createColorId","handleTypeChange","newType","currentColors","item","newColorValues","saveColorPalette","useEvent","titleExistsAlready","find","mutate","paletteId","c","noChanges","length","every","index","captions","i18n","_","BackButton","className","onClick","ColorPaletteTypeSelector","onChange","selectedType","Typography","variant","Box","Input","error","label","value","e","target","ColorPaletteCreator","title","onRemove","onUpdate","onAdd","Button","disabled","_ref2","colorTypes","handleChange","sx","fontSize","pb","component","mb","RadioGroup","types","Radio","checked","OverflowTooltip","props","_objectWithoutProperties","_excluded","open","setOpen","handleMouseEnter","currentTarget","scrollWidth","clientWidth","Tooltip","onMouseEnter","onMouseLeave","disableHoverListener","RenameDialog","config","locale","onClose","userId","invalidate","invalidateUserConfigs","useUserConfigs","updateConfigMut","updateConfig","isSingleChart","data","chartConfigs","handleRename","useEventCallback","ev","preventDefault","formData","Object","fromEntries","FormData","entries","chartConfig","key","meta","layout","Dialog","fullWidth","style","display","onSubmit","DialogTitle","fontWeight","DialogContent","defaultValue","de","fr","it","en","DialogActions","pr","LoadingButton","loading","status","useFlipMenu","itemsCount","buttonRef","anchorEl","setAnchorEl","anchorOrigin","setAnchorOrigin","vertical","horizontal","transformOrigin","setTransformOrigin","handleOpenElClick","openEl","top","bottom","getBoundingClientRect","spaceBelow","windowHeight","innerHeight","MENU_ITEM_HEIGHT","spaceAbove","handleClose","Wrapper","useMemo","ArrowMenuTopCenter","ArrowMenuBottomCenter","RowActions","actions","primaryAction","otherActions","additionalProps","onDialogClose","justifyContent","alignItems","MenuActionItem","as","IconButton","ref","Icon","size","actionProps","i","stayOpen","SectionContent","rootClasses","useRootStyles","sectionContent","StyledTable","styled","Table","tableLayout","boxShadow","shadows","tableRowClasses","verticalAlign","tableCellClasses","borderBottomColor","divider","tableHeadClasses","text","secondary","ProfileVisualizationsTable","_ref3","userConfigs","preview","onShowAll","_Fragment","TableHead","TableRow","TableCell","TableBody","slice","undefined","ProfileVisualizationsRow","endIcon","mt","NextLink","href","passHref","legacyBehavior","Link","_ref4","dataSource","dataSets","Array","from","Set","flatMap","d","cubes","iri","dataSet","useLocale","fetching","useDataCubesMetadataQuery","variables","sourceType","sourceUrl","url","cubeFilters","pause","removeConfigMut","removeConfig","shareEl","setShareEl","embedEl","setEmbedEl","isOpen","isRenameOpen","openRename","close","closeRename","useDisclosure","isPublished","published_state","PUBLISHED_STATE","PUBLISHED","publishLink","editLink","CONFIGURATOR_STATE_LAYOUTING","leadingIconName","priority","state","DRAFT","onSuccess","requireConfirmation","confirmationTitle","confirmationText","sortBy","truthy","x","chartTitle","arrow","Markdown","noWrap","InlineMarkdown","Skeleton","sourceToLabel","dataCubesMetadata","formatInteger","viewCount","updated_at","toLocaleString","dateStyle","timeStyle","align","TriggeredPopover","popoverProps","anchorPosition","getAdjustedPopoverPosition","anchorReference","trigger","EmbedContent","configKey","ShareContent","element","left","y","ProfileColorPaletteContent","useUserPalettes","setFormMode","selectedPaletteId","setSelectedPaletteId","showAddForm","showEditForm","returnToView","selectedPalette","ColorPaletteRow","onDelete","onEdit","startIcon","EditButton","backgroundColor","lineHeight","DeleteButton","deleteColorPalette","deleteCustomColorPalette","handleDelete","py","Grid","container","ColorPaletteDisplay","VisuallyHidden","_ref5","createSequentialInterpolator","endColorHex","startColorHex","interpolator","createDivergingInterpolator","options","midColorHex","section","borderTop","monochrome","borderBottom","tabList","minHeight","tabPanel","tabPanelContent","background","paper","tab","textTransform","ProfileContentTabs","setValue","v","draftConfigs","publishedConfigs","groupBy","TabContext","clsx","TabList","Tab","TabPanel","paddingTop","topRow","marginBottom","button","ProfileHeader","user","BrowseButton","ADFS_PROFILE_URL","mr","signOut","__N_SSP","profile","deserializeProps","useHydrate","userConfigsKey","AppLayout","flexGrow","Footer","formatLocale","decimal","thousands","grouping","currency","minus","percent","format","formatYearMonth","date","year","getFullYear","month","toLocaleDateString","window","__NEXT_P","push","__webpack_require__"],"sourceRoot":""}