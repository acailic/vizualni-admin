(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86080],{66056:function(e,t,a){"use strict";a.d(t,{M:function(){return s}});var r=a(90089),n=a(27668);let i=["_superjson"],s=e=>{let{_superjson:t}=e,a=(0,r.Z)(e,i);return n.ZP.deserialize({json:a,meta:t})}},92477:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return W},default:function(){return E}});var r=a(60116),n=a(87026),i=a(50228),s=a(23175),l=a(83766),o=a.n(l),c=a(25592),d=a(45365),u=a(10359),h=a(66056),p=a(48947),x=a(49148),g=a(17043),m=a(53377),b=a(50714),j=a(64986),y=a(49951),v=a(82194),w=a(48807),f=a(10850),k=a(24246);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach(function(t){(0,g.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let T=e=>{let{title:t,subtitle:a,data:s,columnName:l="Date",trend:o,showPercentage:c=!1}=e,d=O(),u=(0,i.Z)(s,e=>{let[,{count:t}]=e;return t})??1,h=(0,y.Z)(s,e=>{let[,{count:t}]=e;return t})??1;return(0,k.jsxs)(m.Z,{className:d.root,children:[(0,k.jsxs)(r.Z,{sx:{px:5},children:[(0,k.jsxs)(r.Z,{sx:{display:"grid",gridTemplateColumns:"1fr 24px",gap:2},children:[(0,k.jsx)(n.Z,{variant:"h2",sx:{fontWeight:"normal"},children:t}),o?(0,k.jsx)(b.Z,{title:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(n.Z,{variant:"h3",sx:{fontWeight:"bold"},children:"up"===o.direction?"Upward trend":"Downward trend"}),(0,k.jsxs)(n.Z,{variant:"caption",children:["Last 30 days daily average:"," ",(0,k.jsx)("b",{children:o.lastMonthDailyAverage>=10?(0,f.k)(o.lastMonthDailyAverage):o.lastMonthDailyAverage.toFixed(2)})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(n.Z,{variant:"caption",children:["Last 90 days daily average:"," ",(0,k.jsx)("b",{children:o.previousThreeMonthsDailyAverage>=10?(0,f.k)(o.previousThreeMonthsDailyAverage):o.previousThreeMonthsDailyAverage.toFixed(2)})]})]}),children:(0,k.jsx)(n.Z,{variant:"h4",component:"span",sx:{mt:"0.5em"},children:"up"===o.direction?"\uD83D\uDCC8":"\uD83D\uDCC9"})}):null]}),(0,k.jsx)(n.Z,{variant:"h3",sx:{fontWeight:"normal"},children:a})]}),(0,k.jsxs)("div",{className:d.table,style:{gridTemplateColumns:c?"auto auto auto 1fr":"auto auto 1fr"},children:[(0,k.jsx)("div",{className:d.tableHeader,children:(0,k.jsx)(n.Z,{variant:"caption",sx:{position:"sticky",top:0,fontWeight:"bold"},children:l})}),(0,k.jsx)("div",{className:d.tableHeader,style:{textAlign:"end"},children:(0,k.jsx)(n.Z,{variant:"caption",sx:{fontWeight:"bold"},children:"Count"})}),c?(0,k.jsx)("div",{className:d.tableHeader,style:{textAlign:"end"},children:(0,k.jsx)(n.Z,{variant:"caption",sx:{fontWeight:"bold"},children:"Share"})}):null,(0,k.jsx)("div",{className:d.divider}),s.map(e=>{let[t,a]=e;return(0,k.jsx)(D,C(C({},a),{},{maxCount:h,totalCount:u,showPercentage:c}),t)})]})]})},D=e=>{let{label:t,count:a,maxCount:i,totalCount:s,showPercentage:l}=e,o=O(),c=(0,w.P)("easter-eggs");return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:o.tableCell,children:(0,k.jsx)(n.Z,{variant:"caption",component:"p",sx:{overflow:"hidden",maxWidth:200,cursor:"default",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t})}),(0,k.jsx)("div",{className:o.tableCell,style:{textAlign:"end"},children:(0,k.jsx)(n.Z,{variant:"caption",children:(0,f.k)(a)})}),l?(0,k.jsx)("div",{className:o.tableCell,style:{textAlign:"end"},children:(0,k.jsxs)(n.Z,{variant:"caption",sx:{lineHeight:"normal"},children:[(0,f.k)(a/s*100),"%"]})}):null,(0,k.jsx)("div",{className:o.tableCell,children:a>0?c?(0,k.jsx)(k.Fragment,{children:Array(Math.ceil(a/i*40)).fill(0).map((e,t)=>(0,k.jsx)(v.E.div,{style:{display:"inline-block"},initial:{scale:0,opacity:0},animate:{opacity:1,scale:1,transition:{delay:.03*t}},children:"\uD83E\uDD53"},t))}):(0,k.jsx)(r.Z,{sx:{width:`${a/i*100}%`,height:"100%",backgroundColor:"primary.main"}}):null})]})},O=(0,j.Z)(e=>({root:{width:"100%",paddingTop:e.spacing(4),boxShadow:e.shadows[2],borderRadius:4,borderBottomLeftRadius:0,borderBottomRightRadius:0,backgroundColor:e.palette.grey[200]},table:{display:"grid",gridTemplateRows:"auto",gap:"2px",width:"100%",height:"fit-content",maxHeight:"calc(12 * 2.3rem)",overflowY:"auto",marginTop:e.spacing(3),padding:e.spacing(1),paddingTop:0,backgroundColor:e.palette.grey[200]},tableHeader:{position:"sticky",top:0,width:"100%",padding:"0.3rem 0.6rem",borderBottom:`2px solid ${e.palette.divider}`,backgroundColor:e.palette.background.paper},tableCell:{width:"100%",padding:"0.3rem 0.6rem",backgroundColor:e.palette.background.paper},divider:{zIndex:1,position:"sticky",top:0,width:"100%",height:"100%",padding:"0.3rem",borderBottom:`2px solid ${e.palette.divider}`,backgroundColor:e.palette.background.paper}})),N=e=>{let{children:t}=e;return(0,k.jsx)(r.Z,{sx:{display:"grid",gridTemplateColumns:["1fr","1fr","1fr 1fr"],gap:4,my:[4,6]},children:t})};var P=a(98505);let $=e=>{let{locale:t,chartKey:a}=e;return(0,k.jsxs)(P.Z,{href:`/${t}/v/${a}`,target:"_blank",sx:{display:"flex",gap:2,justifyContent:"space-between"},children:[(0,k.jsx)(n.Z,{variant:"caption",component:"p",sx:{overflow:"hidden",maxWidth:200,cursor:"default",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:a}),(0,k.jsx)(p.JO,{name:"legacyLinkExternal",size:16})]})},A=e=>{let{locale:t,iri:a,title:r}=e;return(0,k.jsxs)(P.Z,{href:`/${t}/browse?dataset=${a}`,target:"_blank",sx:{display:"flex",gap:2,justifyContent:"space-between"},children:[(0,k.jsx)(n.Z,{variant:"caption",component:"p",sx:{overflow:"hidden",maxWidth:200,cursor:"default",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:r}),(0,k.jsx)(p.JO,{name:"legacyLinkExternal",size:16})]})},B=e=>{let{children:t}=e;return(0,k.jsx)(r.Z,{sx:{width:"100%",maxWidth:850,mx:"auto",py:4,textWrap:"balance",textAlign:"center"},children:t})},_=e=>{let{title:t}=e;return(0,k.jsx)(n.Z,{variant:"h1",component:"h2",sx:{lineHeight:"1 !important",mb:2},children:t})};var M=a(27378);let z=(e,t)=>{let{locale:a}=t,r=(0,s.Q3)(e,e=>({count:(0,i.Z)(e,e=>e.count),date:e[e.length-1].day,label:(0,f.U)(e[0].day,{locale:a})}),e=>(0,f.U)(e.day,{locale:a})).reverse(),n=o()(r.map(e=>{let[t]=e;return t})),l=new Date(r[0][1].date),c=new Date(r[r.length-1][1].date);if(l.getTime()!==c.getTime())for(;l<=c;l.setMonth(l.getMonth()+1)){let e=(0,f.U)(l,{locale:a});n.includes(e)||r.push([e,{count:0,date:new Date(l),label:e}])}return r.sort((e,t)=>{let[,a]=e,[,r]=t;return r.date.getTime()-a.date.getTime()}),r},I=e=>{let{title:t,subtitle:a,countByDay:r,trendAverages:n}=e,s=(0,x.bU)(),{countByYearMonth:l,total:o}=(0,M.useMemo)(()=>({countByYearMonth:z(r,{locale:s}),total:(0,i.Z)(r,e=>e.count)??0}),[r,s]),c=Math.round(o/l.length),{lastMonthDailyAverage:d,previousThreeMonthsDailyAverage:u}=n;return(0,k.jsx)(T,{title:t(o),subtitle:a(o,c),data:l,trend:{direction:d>u?"up":"down",lastMonthDailyAverage:d,previousThreeMonthsDailyAverage:u}})},S=e=>{let{type:t,subtype:a}=e;switch(t){case"single":return"Single chart";case"dashboard":switch(a){case"tab":return"Tab dashboard";case"canvas":return"Free canvas dashboard";case"tall":return"Tall dashboard";case"vertical":return"Vertical dashboard";default:return t??a??"Unknown"}default:return t}};var W=!0,E=e=>{let{charts:t,views:a}=(0,h.M)(e),l=(0,x.bU)();return(0,k.jsx)(c.LN,{children:(0,k.jsxs)(r.Z,{sx:{width:"100%",maxWidth:1400,mx:"auto",my:"36px",px:4},children:[(0,k.jsxs)(B,{children:[(0,k.jsx)(_,{title:"Popularity statistics"}),(0,k.jsx)(n.Z,{children:"Gain insights into number of charts and view trends in Visualize."}),(0,k.jsxs)(n.Z,{children:["The data on chart views ",(0,k.jsx)("b",{children:"is not complete"})," as it was started to be collected in 2024."]})]}),(0,k.jsxs)(n.Z,{variant:"caption",component:"p",sx:{mt:2},children:[(0,k.jsx)("b",{children:"Views"})," are counted when a user opens a published chart in"," ",(0,k.jsx)("code",{children:"/v"})," page or through iframe."]}),(0,k.jsxs)(n.Z,{variant:"caption",component:"p",children:[(0,k.jsx)("b",{children:"Previews"})," are counted when accessing a chart preview through"," ",(0,k.jsx)("code",{children:"/preview"})," or ",(0,k.jsx)("code",{children:"/preview_post"})," pages and are not connected to a chart config."]}),(0,k.jsxs)(N,{children:[t.countByDay.length>0&&(0,k.jsx)(I,{countByDay:t.countByDay,trendAverages:t.trendAverages,title:e=>`Visualize users created ${(0,f.k)(e)} charts...`,subtitle:(e,t)=>`${e?` It's around ${(0,f.k)(t)} chart${t>1?"s":""} per month on average.`:""}`}),a.countByDay.length>0&&(0,k.jsx)(I,{countByDay:a.countByDay,trendAverages:a.trendAverages,title:e=>`...viewed ${(0,f.k)(e)}x (including ${(0,f.k)((0,i.Z)(a.countByDay.filter(e=>"preview"===e.type),e=>e.count))} previews)`,subtitle:(e,t)=>`${e?` It's around ${(0,f.k)(t)} view${t>1?"s":""} per month on average.`:""}`}),t.mostPopularAllTime.length>0&&(0,k.jsx)(T,{title:"Most popular charts (all time)",subtitle:"Top 25 charts by view count.",data:t.mostPopularAllTime.map(e=>[e.key,{count:e.viewCount,label:(0,k.jsx)($,{locale:l,chartKey:e.key})}]),columnName:"Chart link"}),t.mostPopularThisMonth.length>0&&(0,k.jsx)(T,{title:"Most popular charts (last 30 days)",subtitle:"Top 25 charts by view count.",data:t.mostPopularThisMonth.map(e=>[e.key,{count:e.viewCount,label:(0,k.jsx)($,{locale:l,chartKey:e.key})}]),columnName:"Chart link"})]}),(0,k.jsxs)(B,{children:[(0,k.jsx)(_,{title:"Charts"}),(0,k.jsx)(n.Z,{children:"Gain insights into the characteristics of the charts created in Visualize."})]}),(0,k.jsxs)(N,{children:[(0,k.jsx)(T,{title:`Visualize users created ${(0,f.k)((0,i.Z)(t.countByChartType,e=>e.count))} individual* charts`,subtitle:"*Dashboards contain multiple charts; here we show them all.",data:t.countByChartType.map(e=>{let{type:t,count:a}=e;return[t,{count:a,label:(0,k.jsxs)(r.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,k.jsx)(p.JO,{size:18,name:(0,u.tc)(t)})," ",(0,d.N)(t)||t]})}]}),columnName:"Chart type",showPercentage:!0}),(0,k.jsx)(T,{title:`There are ${(0,f.k)(t.dashboardCount)} Visualize dashboards`,subtitle:`It accounts for around ${(t.dashboardCount/t.count*100).toFixed(0)}% of all charts created.`,data:t.countByLayoutTypeAndSubtype.map(e=>{let{type:t,subtype:a,count:r}=e;return[t,{count:r,label:S({type:t,subtype:a})}]}),columnName:"Layout type",showPercentage:!0})]}),(0,k.jsxs)(B,{children:[(0,k.jsx)(_,{title:"Cubes"}),(0,k.jsx)(n.Z,{children:"Gain insights into the cubes used in the charts created in Visualize."})]}),(0,k.jsxs)(N,{children:[(0,k.jsx)(T,{title:`Individual charts were made using ${(0,f.k)(o()(t.countByCubeIri.map(e=>e.iri)).length)} cubes`,subtitle:"Cubes are the data sources used in individual charts.",data:t.countByCubeIri.map(e=>{let{iri:t,title:a,count:r}=e;return[a,{count:r,label:t===a?a:(0,k.jsx)(A,{locale:l,iri:t,title:a})}]}),columnName:"Cube name (IRI if name is missing)",showPercentage:!0}),(0,k.jsx)(T,{title:`Cubes come from ${(0,f.k)(o()(t.countByCubeIri.filter(e=>e.creator).map(e=>e.creator)).length)} known creators`,subtitle:"Creators are the organizations that create the cubes.",data:(0,s.Q3)(t.countByCubeIri,e=>(0,i.Z)(e,e=>e.count),e=>e.creator).sort((e,t)=>void 0===e[0]?1:void 0===t[0]?-1:t[1]-e[1]).map(e=>{let[t,a]=e;return[t??"Unknown",{count:a,label:t??(0,k.jsx)("i",{children:"Unknown"})}]}),columnName:"Cube creator",showPercentage:!0})]})]})})}},10850:function(e,t,a){"use strict";a.d(t,{U:function(){return n},k:function(){return r}});let r=(0,a(29226).Z)({decimal:".",thousands:"\xa0",grouping:[3],currency:["","\xa0 CHF"],minus:"âˆ’",percent:"%"}).format(",d"),n=(e,t)=>{let{locale:a}=t,r=e.getFullYear(),n=e.toLocaleDateString(a,{month:"short"});return`${r} ${n}`}},8144:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/statistics",function(){return a(92477)}])}},function(e){e.O(0,[72159,54568,96761,25592,17671,92888,49774,40179],function(){return e(e.s=8144)}),_N_E=e.O()}]);
//# sourceMappingURL=statistics-6970159c9bdf37c9.js.map