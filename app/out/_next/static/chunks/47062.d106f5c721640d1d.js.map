{"version":3,"file":"static/chunks/47062.d106f5c721640d1d.js","mappings":"uNAcO,IAAMA,EAAgBA,CAC3BC,EACAC,EACAC,KAEA,GAAM,CAAEC,WAAAA,CAAAA,CAAY,CAAGD,EAEvBF,EAAEI,SAAS,CAAgC,UACxCC,IAAI,CAACJ,EAAaK,GAAMA,EAAEC,GAAG,EAC7BC,IAAI,CACFC,GACCA,EACGC,MAAM,CAAC,UACPC,IAAI,CAAC,aAAc,CAACC,EAAGC,IAAMA,GAC7BF,IAAI,CAAC,KAAOL,GAAMA,EAAEQ,EAAE,EACtBH,IAAI,CAAC,KAAOL,GAAMA,EAAES,EAAE,EACtBJ,IAAI,CAAC,IAAK,GACVA,IAAI,CAAC,OAASL,GAAMA,EAAEU,KAAK,EAC3BL,IAAI,CAAC,UAAW,GAChBM,IAAI,CAAER,GACLS,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBT,EAAO,CACrBN,WAAAA,EACAgB,EAAInB,GAAMA,EAAEW,IAAI,CAAC,UAAW,EAC9B,IAELS,GACCF,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBE,EAAQ,CACtBjB,WAAAA,EACAgB,EAAInB,GACFA,EACGW,IAAI,CAAC,KAAOL,GAAMA,EAAEQ,EAAE,EACtBH,IAAI,CAAC,KAAOL,GAAMA,EAAES,EAAE,EACtBJ,IAAI,CAAC,OAASL,GAAMA,EAAEU,KAAK,EAC3BL,IAAI,CAAC,UAAW,EACvB,GACDU,GACCH,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBG,EAAM,CACpBlB,WAAAA,EACAgB,EAAInB,GAAMA,EAAEW,IAAI,CAAC,UAAW,GAAGW,MAAM,EACvC,GAER,uCC5CO,IAAMC,EAAcA,KACzB,GAAM,CACJC,UAAAA,CAAS,CACTC,OAAAA,CAAM,CACNC,KAAAA,CAAI,CACJC,OAAAA,CAAM,CACNC,KAAAA,CAAI,CACJC,OAAAA,CAAM,CACNC,WAAAA,CAAU,CACVC,OAAAA,CAAM,CACNC,gBAAAA,CAAAA,CACD,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,IACE,CAAEC,QAAAA,CAAAA,CAAS,CAAGT,EACdU,EAAMC,CAAAA,EAAAA,EAAAA,MAAAA,EAAoB,MAC1BC,EAAmBC,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBC,GAAUA,EAAMC,MAAM,EAC7DC,EAAqBH,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBC,GAAUA,EAAMG,QAAQ,EACjEzC,EAAa0C,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAClBnB,EAAUoB,GAAG,CAAEtC,IACpB,IAAMuC,EAAUf,EAAWxB,GAE3B,MAAO,CACLC,IAAKyB,EAAgB1B,GACrBQ,GAAIa,EAAOD,EAAKpB,IAAMwC,KACtB/B,GAAIc,EAAOD,EAAKtB,IAAMwC,KACtB9B,MAAOe,EAAOc,EAChB,CACF,GACC,CACDrB,EACAM,EACAE,EACAL,EACAD,EACAG,EACAD,EACAG,EACD,EAmBD,MAjBAgB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACJZ,EAAIa,OAAO,EAAI/C,GACjBgD,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBd,EAAIa,OAAO,CAAE,CAC3BE,GAAI,cACJC,UAAY,aAAYjB,EAAQkB,IAAK,IAAGlB,EAAQmB,GAAI,GAAE,CACtDlD,WAAY,CAAEqC,OAAQH,EAAkBK,SAAUD,CAAmB,EACrEa,OAAQA,CAACtD,EAAGuD,IAASxD,EAAcC,EAAGC,EAAYsD,EACpD,EAEJ,EAAG,CACDlB,EACAH,EAAQkB,IAAI,CACZlB,EAAQmB,GAAG,CACXpD,EACAwC,EACD,EAEMe,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,KAAGrB,IAAKA,CAAI,EACrB,sqBCzCO,IAAMsB,EACXC,IAEA,GAAM,CACJC,YAAAA,CAAW,CACXC,aAAAA,CAAY,CACZC,WAAAA,CAAU,CACVC,eAAAA,CAAc,CACdC,aAAAA,CAAAA,CACD,CAAGL,EACE,CAAEM,OAAAA,CAAAA,CAAQ,CAAGL,EACb,CAAEM,EAAAA,CAAC,CAAEC,EAAAA,CAAC,CAAErB,QAAAA,CAAO,CAAEsB,UAAAA,CAAAA,CAAW,CAAGH,EAC/BI,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,EAAsBV,GAEhCW,EAAgBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBZ,GACjCa,EAAsBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAuB,cAAeR,EAAG,CACnEF,aAAAA,CACF,GACMW,EAAsBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAuB,cAAeT,EAAG,CACnEH,aAAAA,CACF,GACMa,EAAmBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAoBhC,EAAS,CACpDiB,eAAAA,EACAF,aAAAA,CACF,GAEM5B,EAAkB8C,CAAAA,EAAAA,EAAAA,EAAAA,EACtBjB,EACAO,EACAD,GAGF,OAAAY,EAAAA,EAAAA,EAAAA,EAAAA,EAAA,GACKT,GACAE,GACAE,GACAE,GAAgB,IACnB5C,gBAAAA,CAAe,EAEnB,EAEagD,EAA0BA,CACrCC,EACAC,KAEA,GAAM,CAAEvB,YAAAA,CAAW,CAAEC,aAAAA,CAAAA,CAAc,CAAGqB,EAChC,CAAEvD,KAAAA,CAAI,CAAEE,KAAAA,CAAI,CAAEuD,8BAAAA,CAAAA,CAA+B,CAAGD,EAChDE,EAAgBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBzB,EAAc,CACnDlC,KAAAA,EACAE,KAAAA,CACF,GAEA,MAAO0D,CAAAA,EAAAA,EAAAA,EAAAA,EAAaF,EAAe,CACjCzB,YAAAA,EACA4B,qBAAsBC,KAAAA,EACtBL,8BAAAA,CACF,EACF,0rBC1BA,IAAMM,EAAsBA,CAC1BR,EACAC,EACA7E,KAEA,GAAM,CAAEsD,YAAAA,CAAAA,CAAa,CAAGsB,EAClB,CACJvD,KAAAA,CAAI,CACJgE,QAAAA,CAAO,CACPC,WAAAA,CAAU,CACV/D,KAAAA,CAAI,CACJgE,QAAAA,CAAO,CACPC,WAAAA,CAAU,CACVC,iBAAAA,CAAgB,CAChBC,8BAAAA,CAA6B,CAC7BjE,WAAAA,CAAU,CACVqD,8BAAAA,CAA6B,CAC7Ba,gBAAAA,CAAAA,CACD,CAAGd,EACE,CAAE1D,UAAAA,CAAS,CAAEyE,WAAAA,CAAU,CAAEC,YAAAA,CAAW,CAAEC,YAAAA,CAAW,CAAEC,QAAAA,CAAAA,CAAS,CAAG/F,EAC/D,CAAE2D,OAAAA,CAAM,CAAEqC,yBAAAA,CAAAA,CAA0B,CAAG1C,EAEvC,CAAE2C,MAAAA,CAAK,CAAEC,OAAAA,CAAAA,CAAQ,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,IACpBC,EAAeC,CAAAA,EAAAA,EAAAA,EAAAA,EAAgB,CAAEC,SAAU,MAAO,GAElDC,EAAkBjE,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAGvB,IAAIkE,IAAIC,CAFAhB,GAAkBgB,QAAU,EAAE,EAEvBlE,GAAG,CAAEtC,GAAM,CAACA,EAAEyG,KAAK,CAAEzG,EAAE,GAC5C,CAACwF,GAAkBgB,OAAO,EAEvBE,EAAYtB,EAAQO,EAAYvE,GAChCuF,EAAYC,CAAAA,EAAAA,EAAAA,CAAAA,EAAIjB,EAAa3F,GAAMoB,EAAKpB,KAAO,EAE/CqB,EAASwF,CAAAA,EAAAA,EAAAA,CAAAA,IAAcC,MAAM,CADnB,CAACJ,EAAWC,EAAU,EACOI,IAAI,GAE3CC,EAAY1B,EAAQK,EAAYrE,GAChC2F,EAAYL,CAAAA,EAAAA,EAAAA,CAAAA,EAAIjB,EAAYrE,IAAS,EAErCC,EAASsF,CAAAA,EAAAA,EAAAA,CAAAA,IAAcC,MAAM,CADnB,CAACE,EAAWC,EAAU,EACOF,IAAI,GAE3CG,EAAmB5B,EAAQO,EAAavE,GACxC6F,EAAmBP,CAAAA,EAAAA,EAAAA,CAAAA,EAAIf,EAAavE,IAAS,EAC7C8F,EAAgBP,CAAAA,EAAAA,EAAAA,CAAAA,IACnBC,MAAM,CAAC,CAACI,EAAkBC,EAAiB,EAC3CJ,IAAI,GAEDM,EAAgB7B,GAAkB5C,GACpCS,EAAYiE,KAAK,CAACC,IAAI,CAAEvH,GAAMA,EAAEwH,GAAG,GAAKhC,EAAiBiC,OAAO,GAC5D3D,OAAO,CAAC0B,EAAiB5C,EAAE,CAAC,CAChCsC,KAAAA,EAIEwC,EAAcrF,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC1B,IAAMsF,EAAoBC,MAAMC,IAAI,CAAC,IAAIC,IAAIlC,EAAYtD,GAAG,CAACd,KACvDuG,EAAU,CACdC,YAAa,SACbC,aAAc,KAChB,EACMC,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,EAA0B3C,EAAkB,CAC1DuC,QAAAA,EACAK,iBAAkB1E,EAAOnB,OAAO,EAAE6F,iBAClCC,gBAAiBhB,CACnB,GAEA,OAAOiB,IACLX,EACAO,EACAK,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBL,EAASH,GAE9B,EAAG,CACDrE,EAAOnB,OAAO,EAAE6F,iBAChB5G,EACAoE,EACAJ,EACA6B,EACD,EAGK5F,EAAS+G,CAAAA,EAAAA,EAAAA,CAAAA,IAEf,GAAI9E,EAAOnB,OAAO,EAAIiD,GAAoB9B,EAAOhD,KAAK,CAAE,CACtD,IAAM+H,EAAgCf,EAAYpF,GAAG,CAAEC,IACrD,IAAMmG,EACJjD,EAA8BkD,GAAG,CAACpG,IAAUkE,OAC5CH,EAAgBqC,GAAG,CAACpG,IAAUkE,OAC9B,GAEF,MAAO,CACLmC,MAAOrG,EACP7B,MACEgD,YAAAA,EAAOhD,KAAK,CAACmI,IAAI,CACZnF,EAAOhD,KAAK,CAACoI,YAAY,CAAEJ,EAAM,EAAIK,EAAAA,CAAgB,CAAC,EAAE,CACzDA,EAAAA,CAAgB,CAAC,EAAC,CAE5B,GAEAtH,EAAOqF,MAAM,CAAC2B,EAA8BnG,GAAG,CAAEzB,GAAMA,EAAE+H,KAAK,GAC9DnH,EAAOuH,KAAK,CAACP,EAA8BnG,GAAG,CAAEzB,GAAMA,EAAEH,KAAK,EAC/D,MACEe,EAAOqF,MAAM,CAACY,GACdjG,EAAOuH,KAAK,CACVC,CAAAA,EAAAA,EAAAA,EAAAA,EAAW,CACTC,UAAWxF,EAAOhD,KAAK,CAACwI,SAAS,CACjCC,WAAYzF,EAAOhD,KAAAA,IAKzB,GAAM,CAAEqC,IAAAA,EAAG,CAAED,KAAAA,EAAI,CAAEsG,OAAAA,EAAAA,CAAQ,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAgB,CAC5CC,cAAe,CAAC,CAACjE,EACjB9D,OAAQ6F,EACRpB,MAAAA,EACAC,OAAAA,EACAF,yBAAAA,EACAI,aAAAA,CACF,GAEMoD,GAAoBC,CAAAA,EAAAA,EAAAA,EAAAA,EAA0B,CAClDZ,MAAOrD,EACPS,MAAAA,CACF,GACMyD,GAAsBD,CAAAA,EAAAA,EAAAA,EAAAA,EAA0B,CACpDZ,MAAOvD,EACPW,MAAAA,CACF,GACMpE,GAAU,CACdmB,IAAK2G,EAAAA,CAAkB,CAAG3G,GAAMwG,GAAkBI,MAAM,CACxDC,MAXY,GAYZR,OAAQA,GAASK,GAAoBE,MAAM,CAC3C7G,KAAAA,EACF,EACM+G,GAAaC,CAAAA,EAAAA,EAAAA,EAAAA,EAAc,CAAE9D,MAAAA,EAAOlD,KAAAA,GAAM8G,MAflC,EAewC,GAChDzI,GAAS4I,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,CAAE/D,MAAAA,EAAO6D,WAAAA,GAAY5D,OAAAA,EAAQrE,QAAAA,EAAQ,GAC7D,CAAEoI,YAAAA,EAAAA,CAAa,CAAG7I,GAExBE,EAAO2H,KAAK,CAAC,CAAC,EAAGa,GAAW,EAC5BtI,EAAOyH,KAAK,CAAC,CAACgB,GAAa,EAAE,EAE7B,IAAMC,GAAWC,CAAAA,EAAAA,EAAAA,CAAAA,IAEXC,GAAuCC,CAAAA,EAAAA,EAAAA,WAAAA,EAC3C,CAACC,EAAWC,KAAkB,GAAhB,CAAE/H,QAAAA,CAAAA,CAAS,CAAA+H,EAIvB,MAAO,CACL3G,EAJQtC,EAAOD,EAAKiJ,IAAgB,GAKpCzG,EAJQrC,EAAOD,EAAK+I,IAAgB,GAKpC3J,MAAOe,EAAOc,EAChB,CACF,EACA,CAAClB,EAAQD,EAAMG,EAAQD,EAAMG,EAC/B,EA+CA,OAAAgD,EAAA,CACE8F,UAAW,cACXpJ,OAAAA,GACAD,UAAAA,EACA4E,QAAAA,EACAzE,OAAAA,EACAE,OAAAA,EACAiJ,SAAU9C,EACVjG,OAAAA,EACAgJ,cAAe/E,EACfyE,kBAAAA,GACAO,eAxDsBC,IACtB,IAAMC,EAAOvJ,EAAOD,EAAKuJ,IAAUnI,KAC7BqI,EAAOtJ,EAAOD,EAAKqJ,IAAUnI,KAE7BsI,EAAUb,GAAW,EAAIY,EAEzBE,EACJC,EAAUnB,IAAAA,GACN,QACAmB,EAAUnB,IAAAA,GACR,OACA,SAEFoB,EACJH,EAAUd,IAAAA,GACN,MACAc,EAAUd,IAAAA,GACR,SACA,SAMR,MAAO,CACLgB,QAtBcJ,EAuBdE,QAAAA,EACAI,UAPkCjB,GAChC,CAAEtG,EAAG,SAAUC,EAAG,KAAM,EACxB,CAAED,EAAGoH,EAAYnH,EAAGqH,CAAW,EAMjCxE,MAAON,EAAa/E,EAAKuJ,IACzBQ,eACEjI,CAAAA,EAAAA,EAAAA,GAAAA,EAACkI,EAAAA,EAAkB,EACjBC,UAAW3H,EAAOnB,OAAO,EAAIsC,EAA8B8F,GAC3DW,WAAa,GAAEjG,EAAW,IAAIc,EAAa/E,EAAKuJ,IAAQ,CAAE,CAC1DY,UAAY,GAAEhG,EAAW,IAAIY,EAAa7E,EAAKqJ,IAAQ,IAG3DA,MAAO,CACL/B,MAAOlF,EAAOnB,OAAO,EAAIsC,EAA8B8F,GACvDlE,MAAON,EAAa7E,EAAKqJ,IACzBjK,MAAOe,EAAOD,EAAWmJ,GAC3B,EACAnE,OAAQtB,KAAAA,CACV,CACF,EAcEqE,kBAAAA,GACAiC,uBAAwBzI,GACxB0G,oBAAAA,EAAmB,EAChB7E,EAEP,EAEM6G,EACJrI,IAEA,GAAM,CAAEsI,SAAAA,CAAAA,CAAyB,CAAGtI,EAAfuB,EAAUgH,CAAAA,EAAAA,EAAAA,CAAAA,EAAKvI,EAAKwI,GACnChH,EAAYzB,EAA6BwB,GACzC5E,EAAO2E,EAAwBC,EAAYC,GAC3C3C,EAAQkD,EAAoBR,EAAYC,EAAW7E,GAEzD,MACEmD,CAAAA,EAAAA,EAAAA,GAAAA,EAAC2I,EAAAA,EAAY,CAACC,QAAQ,EAACrF,MAAOxE,EAAMyJ,SAAEA,CAAQ,EAElD,EAEaK,EACX3I,GAGEF,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8I,EAAAA,CAAmB,EAAAN,SAClBxI,CAAAA,EAAAA,EAAAA,GAAAA,EAACuI,EAAwBhH,EAAA,GAAKrB,GAAS,6rBCxQtC,IAAM6I,EACX7I,GAEOF,CAAAA,EAAAA,EAAAA,GAAAA,EAACgJ,EAAAA,CAAgB,CAAAzH,EAAAA,EAAA,GAAKrB,GAAK,IAAE+I,UAAWC,EAAiB,IAG5DA,GAAmBC,CAAAA,EAAAA,EAAAA,IAAAA,EAAMjJ,IAC7B,GAAM,CAAEC,YAAAA,CAAW,CAAEE,WAAAA,CAAU,CAAEC,eAAAA,CAAAA,CAAgB,CAAGJ,EAC9C,CAAEM,OAAAA,CAAM,CAAEqC,yBAAAA,CAAAA,CAA0B,CAAG1C,EACvCS,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,EAAsBV,GAChCiJ,EAAsBC,CAAAA,EAAAA,EAAAA,EAAAA,IAE5B,MACEC,CAAAA,EAAAA,EAAAA,IAAAA,EAACT,EAAgBtH,EAAAA,EAAA,GAAKrB,GAAK,IAAAsI,SAAA,CACzBc,CAAAA,EAAAA,EAAAA,IAAAA,EAACC,EAAAA,EAAc,EAAAf,SAAA,CACbc,CAAAA,EAAAA,EAAAA,IAAAA,EAACE,EAAAA,EAAQ,EAAAhB,SAAA,CACPxI,CAAAA,EAAAA,EAAAA,GAAAA,EAACyJ,EAAAA,CAAe,KAChBzJ,CAAAA,EAAAA,EAAAA,GAAAA,EAAC0J,EAAAA,EAAgB,KACjB1J,CAAAA,EAAAA,EAAAA,GAAAA,EAAC2J,EAAAA,CAAqB,KACtB3J,CAAAA,EAAAA,EAAAA,GAAAA,EAAC4J,EAAAA,EAAsB,KACvB5J,CAAAA,EAAAA,EAAAA,GAAAA,EAACjC,EAAW,IACZiC,CAAAA,EAAAA,EAAAA,GAAAA,EAAC6J,EAAAA,CAAkB,KAAG,GAExB7J,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8J,EAAAA,CAAK,KACLV,EACCpJ,CAAAA,EAAAA,EAAAA,GAAAA,EAAC+J,EAAAA,CAAkB,KAEnB/J,CAAAA,EAAAA,EAAAA,GAAAA,EAACgK,EAAAA,CAAO,EAACrE,KAAK,QAAQ,GACvB,GAEH3F,CAAAA,EAAAA,EAAAA,GAAAA,EAACiK,EAAAA,CAAW,KACX,CAACzJ,EAAOG,SAAS,EAAIH,EAAOnB,OAAO,GAClCiK,CAAAA,EAAAA,EAAAA,IAAAA,EAACY,EAAAA,EAAsB,EAAA1B,SAAA,CACpBhI,EAAOG,SAAS,EACfX,CAAAA,EAAAA,EAAAA,GAAAA,EAACmK,EAAAA,CAAU,CAAA5I,EAAA,CACTX,QAASA,EACTP,WAAYA,CAAW,EACnBG,EAAOG,SAAS,GAGvBH,EAAOnB,OAAO,EACbW,CAAAA,EAAAA,EAAAA,GAAAA,EAACoK,EAAAA,EAAW,EACV9J,eAAgBA,EAChBH,YAAaA,EACbkK,OAAO,SACPC,YAAazH,EAAyB0H,MAAM,CAACC,MAAO,CACpDC,UAAWjK,EAAOnB,OAAO,CAACoL,SAAAA,GAE7B,GAEJ,GAGP,4MCjEO,IAAMhB,EAAkBA,KAC7B,IAAMxG,EAAeC,CAAAA,EAAAA,EAAAA,EAAAA,IACf,CACJ/E,OAAAA,CAAM,CACNF,OAAAA,CAAM,CACNkE,WAAAA,CAAU,CACVuI,SAAAA,CAAQ,CACRrD,UAAAA,CAAS,CACTd,oBAAAA,CAAAA,CACD,CAAG9H,CAAAA,EAAAA,EAAAA,EAAAA,IAKE,CAAEkI,WAAAA,CAAU,CAAEG,YAAAA,CAAW,CAAEpI,QAAAA,CAAAA,CAAS,CAAGT,EACvC,CACJ0M,WAAAA,CAAU,CACVC,cAAAA,CAAa,CACbC,kBAAAA,CAAiB,CACjBC,UAAAA,CAAS,CACTC,WAAAA,CAAAA,CACD,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IACEC,EAAmBC,CAAAA,EAAAA,EAAAA,EAAAA,IAEnBvM,EAAMC,CAAAA,EAAAA,EAAAA,MAAAA,EAAoB,MAC1BC,EAAmBC,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBC,GAAUA,EAAMC,MAAM,EAC7DC,EAAqBH,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBC,GAAUA,EAAMG,QAAQ,EAyDvE,MAvDAK,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIZ,EAAIa,OAAO,CAAE,CACf,IAAM2L,EAAiBC,CAAAA,EAAAA,EAAAA,CAAAA,EAAanI,EAAa9E,EAAOyF,MAAM,EAAE,CAAC,EAAE,EAAG,CACpEyH,SAAUT,CACZ,GACMU,EAAQC,KAAKC,GAAG,CAACvN,EAAO0I,UAAU,CAAIwE,CAAAA,EAAiB,IAAK,GAC5DM,EAAatN,EAAOmN,KAAK,CAACA,GAC1BI,EAAOC,CAAAA,EAAAA,EAAAA,EAAAA,EAAWxN,GACrBsN,UAAU,CAACA,GACXG,aAAa,CAAC,CAAC9E,EAAc,IAC7B+E,aAAa,CAAC,CAAC/E,GACfgF,UAAU,CAAC7I,GACRzG,EAAIiD,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBd,EAAIa,OAAO,CAAE,CACrCE,GAAI,oBACJC,UAAY,aAAYjB,EAAQkB,IAAK,IAAGkH,EAAcpI,EAAQmB,GAAI,GAAE,CACpElD,WAAY,CAAEqC,OAAQH,EAAkBK,SAAUD,CAAmB,EACrEa,OAAStD,GAAMA,EAAEiB,IAAI,CAACiO,GACtBK,aAAcA,CAACvP,EAAGuD,IAChBrC,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBlB,EAAG,CACjBG,WAAYoD,EAAKpD,UAAU,CAC3BgB,EAAInB,GAAMA,EAAEiB,IAAI,CAACiO,EACnB,EACJ,GAEAlP,EAAEI,SAAS,CAAC,cACTO,IAAI,CAAC,KAAM,IACXA,IAAI,CAAC,SAAU,CAACC,EAAGC,IAAOA,IAAAA,EAAU,UAAYyN,GAChD3N,IAAI,CAAC,eAAgB,GACxBX,EAAEI,SAAS,CAAC,cACTO,IAAI,CAAC,YAAayN,GAClBzN,IAAI,CAAC,cAAe4N,GACpB5N,IAAI,CAAC,OAAQwN,GACbxN,IAAI,CAAC,KAAMyN,EAAgB,IAC3BzN,IAAI,CAAC,cAAe,UACvBX,EAAEwP,MAAM,CAAC,eAAe7O,IAAI,CAAC,SAAU2N,GACrB,QAAdzD,GACF7K,EAAEwP,MAAM,CAAC,eAAelO,MAAM,EAElC,CACF,EAAG,CACDuJ,EACApJ,EAAO0I,UAAU,CACjBG,EACAjI,EACAkM,EACA9H,EACA6H,EACAH,EACAC,EACAlM,EAAQkB,IAAI,CACZlB,EAAQmB,GAAG,CACXZ,EACAd,EACD,EAGCmL,CAAAA,EAAAA,EAAAA,IAAAA,EAAA2C,EAAAA,QAAA,EAAAzD,SAAA,CACExI,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,iBACES,EAAG/B,EAAQkB,IAAI,CAAG+G,EAAa,EAAIJ,EAAoBzD,KAAK,CAAG,EAC/DpC,EAAGhC,EAAQmB,GAAG,CAAGiH,EAAcmE,EAC/BnI,MAAO6D,EACP5D,OAAQwD,EAAoBxD,MAAO,CACnCmJ,MAAO,CAAEC,QAAS,MAAO,EAAE3D,SAE3BxI,CAAAA,EAAAA,EAAAA,GAAAA,EAACoM,EAAAA,CAAwB,EAACC,UAAW3B,EAASlC,SAC5CxI,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,QAAMkM,MAAO,CAAEb,SAAUR,EAAmByB,WAAY,GAAI,EAAE9D,SAC3DrG,CAAU,EACN,EACkB,GAE7BnC,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,KAAGrB,IAAKA,CAAI,GAAG,EAGrB,EAEagL,EAAwBA,KACnC,GAAM,CAAExL,OAAAA,CAAM,CAAEE,OAAAA,CAAM,CAAEJ,OAAAA,CAAAA,CAAQ,CAAGQ,CAAAA,EAAAA,EAAAA,EAAAA,IAC7B,CAAEqI,YAAAA,CAAW,CAAEpI,QAAAA,CAAAA,CAAS,CAAGT,EAC3B,CAAEsO,YAAAA,CAAAA,CAAa,CAAGvB,CAAAA,EAAAA,EAAAA,CAAAA,IAClBrM,EAAMC,CAAAA,EAAAA,EAAAA,MAAAA,EAAoB,MAC1BC,EAAmBC,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBC,GAAUA,EAAMC,MAAM,EAC7DC,EAAqBH,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBC,GAAUA,EAAMG,QAAQ,EAoCvE,MAlCAK,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIZ,EAAIa,OAAO,CAAE,CACf,IAAMkM,EAAOC,CAAAA,EAAAA,EAAAA,EAAAA,EAAWxN,GAAQ0N,aAAa,CAAC,GACxCrP,EAAIiD,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBd,EAAIa,OAAO,CAAE,CACrCE,GAAI,2BACJC,UAAY,aAAYjB,EAAQkB,IAAK,IAAGkH,EAAcpI,EAAQmB,GAAI,GAAE,CACpElD,WAAY,CAAEqC,OAAQH,EAAkBK,SAAUD,CAAmB,EACrEa,OAAStD,GAAMA,EAAEiB,IAAI,CAACiO,GACtBK,aAAcA,CAACvP,EAAGuD,IAChBrC,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBlB,EAAG,CACjBG,WAAYoD,EAAKpD,UAAU,CAC3BgB,EAAInB,GAAMA,EAAEiB,IAAI,CAACiO,EACnB,EACJ,GAEAlP,EAAEI,SAAS,CAAC,cAAckB,MAAM,GAChCtB,EAAEI,SAAS,CAAC,cAAckB,MAAM,GAChCtB,EAAEwP,MAAM,CAAC,eACN7O,IAAI,CAAC,YAAa,qBAClBA,IAAI,CAAC,YAAc,iBAAgBc,EAAO6I,WAAW,CAAGzI,EAAO,GAAG,EAAE,EACpElB,IAAI,CAAC,SAAUoP,EACpB,CACF,EAAG,CACDtO,EAAO6I,WAAW,CAClBA,EACAyF,EACA1N,EACAH,EAAQkB,IAAI,CACZlB,EAAQmB,GAAG,CACXZ,EACAd,EACAE,EACD,EAEM2B,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,KAAGrB,IAAKA,CAAI,EACrB,oHChJO,IAAMmL,EAAS5J,IACpB,GAAM,CAAEsM,OAAAA,EAAS,GAAO,CAAGtM,EACrB,CAAC,CAAEyF,KAAAA,CAAI,CAAE8G,QAAAA,CAAO,CAAEtF,YAAAA,CAAAA,CAAa,CAAC,CAAGuF,CAAAA,EAAAA,EAAAA,CAAAA,IAEzC,MACE1M,CAAAA,EAAAA,EAAAA,GAAAA,EAAAiM,EAAAA,QAAA,EAAAzD,SACG7C,YAAAA,GAAsB8G,GAAWtF,GAChCnH,CAAAA,EAAAA,EAAAA,GAAAA,EAAC2M,EAAU,CAAC7P,EAAGqK,EAAaqF,OAAQA,CAAO,EAC5C,EAGP,EAOMG,EAAczM,IAClB,GAAM,CAAEpD,EAAAA,CAAC,CAAE0P,OAAAA,CAAAA,CAAQ,CAAGtM,EAChB,CAAEsH,eAAAA,CAAc,CAAEvJ,OAAAA,CAAAA,CAAQ,CAAGQ,CAAAA,EAAAA,EAAAA,EAAAA,IAK7B,CAAEqJ,QAAAA,CAAO,CAAEvE,MAAAA,CAAK,CAAEkE,MAAAA,CAAK,CAAEO,UAAAA,CAAS,CAAE1E,OAAAA,CAAAA,CAAQ,CAAGkE,EAAe1K,GAEpE,MACEkD,CAAAA,EAAAA,EAAAA,GAAAA,EAAC4M,EAAY,CACXJ,OAAQA,EACRK,OAAQtJ,EACRD,OAAQA,EACRwD,YAAa7I,EAAO6I,WAAY,CAChCpI,QAAST,EAAOS,OAAQ,CACxBoJ,QAASA,EACTL,MAAOA,EACPO,UAAWA,CAAU,EAG3B,EAcM8E,EAAYC,CAAAA,EAAAA,EAAAA,CAAAA,EAAwCC,GAAkB,EAC1EpN,KAAM,CACJkD,MAAO,EACPmK,SAAU,WACVC,YAAa,GACbC,YAAa,QACbC,YAAaJ,EAAMK,OAAO,CAACC,MAAM,CAAC,GAAG,CACrCC,cAAe,OACf5N,UAAW,kBACb,EACA+G,MAAO,CACLuG,SAAU,WACVO,WAAY,OACZC,gBAAiBT,EAAMK,OAAO,CAACK,UAAU,CAACC,KAAK,CAC/ChO,UAAWyH,IAAA,GAAC,CAAEoF,OAAAA,CAAAA,CAAQ,CAAApF,EAAA,OACpBoF,EACI,iDACA,kBAAkB,EACxBoB,YAAaZ,EAAMa,OAAO,CAAC,GAC3BC,aAAcd,EAAMa,OAAO,CAAC,GAC5BxC,SAAU,UACZ,CACF,IAEauB,EAAgB1M,IAC3B,GAAM,CAAEsM,OAAAA,CAAM,CAAEK,OAAAA,CAAM,CAAE/F,YAAAA,CAAW,CAAEpI,QAAAA,CAAO,CAAEoJ,QAAAA,CAAAA,CAAS,CAAG5H,EACpD6N,EAAUjB,EAAU,CAAEN,OAAAA,CAAO,GAC7BzF,EAAWC,CAAAA,EAAAA,EAAAA,CAAAA,IAEjB,MACEsC,CAAAA,EAAAA,EAAAA,IAAAA,EAAA2C,EAAAA,QAAA,EAAAzD,SAAA,CACExI,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,OACEgO,UAAWD,EAAQnO,IAAK,CACxBsM,MAAO,CACLnJ,OAAQ+D,EACRlH,KAAMkI,EAAUpJ,EAAQkB,IAAI,CAC5BC,IAAKnB,EAAQmB,GAAAA,CACb,GAEH,CAACkH,GACA/G,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,OACEgO,UAAWD,EAAQrH,KAAM,CACzBwF,MAAO,CACLtM,KAAMkI,EAAUpJ,EAAQkB,IAAI,CAC5BC,IAAKiH,EAAcpI,EAAQmB,GAAG,CAAG,CACnC,EAAE2I,SAEDqE,CAAM,GAEV,EAGP,yDC9HO,IAAMrG,EAAqB,gICa3B,IAAMqD,EAAqBV,CAAAA,EAAAA,EAAAA,IAAAA,EAAK,SAA2B/B,CAAA,EAI/D,GAJgE,CACjE6G,MAAAA,CAAAA,CAGD,CAAA7G,EACOzI,EAAMC,CAAAA,EAAAA,EAAAA,MAAAA,EAAoB,MAC1BsP,EAAazP,CAAAA,EAAAA,EAAAA,EAAAA,IACb,CACJR,OAAQ,CAAE0I,WAAAA,CAAU,CAAEG,YAAAA,CAAW,CAAEpI,QAAAA,CAAAA,CAAS,CAC5CJ,WAAAA,CAAU,CACVC,OAAAA,CAAAA,CACD,CAAG2P,EACE,CAAEC,QAAAA,CAAO,CAAEC,QAAAA,CAAO,CAAEC,WAAAA,CAAAA,CAAY,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,EAA0B,CACjEC,gBAAiB,EACnB,GAEMC,EAAgBrP,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACrBsP,EAAiBP,GACvB,CAACA,EAAW,EAETQ,EAAWvP,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAChBwP,EAAAA,CAAQ,CAAChK,IAAI,CAClB6J,EACC1R,GAAMA,EAAE2D,CAAC,CACT3D,GAAMA,EAAE4D,CACX,EACC,CAAC8N,EAAc,EAEZI,EAAUzP,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACfuP,EAASE,OAAO,CAAC,CACtB,EACA,EACAC,EAAYlI,GACZkI,EAAY/H,GACb,EACA,CAACH,EAAYG,EAAa4H,EAAS,EAEhCI,EAAmB5H,CAAAA,EAAAA,EAAAA,WAAAA,EACtB6H,IACC,GAAI,CAACpQ,EAAIa,OAAO,CACd,OAGF,GAAM,CAACiB,EAAGC,EAAE,CAAGsO,CAAAA,EAAAA,EAAAA,CAAAA,EAAQD,EAAGpQ,EAAIa,OAAO,EAGrC,OAAOgP,CAAa,CAFVE,EAASrK,IAAI,CAAC5D,EAAGC,GAEJ,EAEzB,CAAC8N,EAAeE,EAClB,EAEMO,EAAc/H,CAAAA,EAAAA,EAAAA,WAAAA,EACjB6H,IACC,IAAMG,EAAQJ,EAAiBC,GAE3BG,GACFd,EAAQc,EAAM/H,WAAW,CAAE,CAAE9H,QAAS6P,EAAM7P,OAAAA,EAEhD,EACA,CAACyP,EAAkBV,EACrB,EAEMe,EAAcjI,CAAAA,EAAAA,EAAAA,WAAAA,EACjB6H,IACC,IAAMG,EAAQJ,EAAiBC,GAE3BG,GACFf,EAAQe,EAAM/H,WAAW,CAAE,CAAE9H,QAAS6P,EAAM7P,OAAAA,EAEhD,EACA,CAACyP,EAAkBX,EACrB,EAEA,MACE7E,CAAAA,EAAAA,EAAAA,IAAAA,EAAA,KAAG3K,IAAKA,EAAKgB,UAAY,aAAYjB,EAAQkB,IAAK,IAAGlB,EAAQmB,GAAI,GAAG,CAAA2I,SAAA,CACjEyF,GACCO,EAAcpP,GAAG,CAAC,CAAAgQ,EAAkB/R,KAAC,GAAlB,CAAE8J,YAAAA,CAAAA,CAAa,CAAAiI,EAAA,MAChCpP,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,QAEElD,EAAG8R,EAAQS,UAAU,CAAChS,GACtBiS,OAAO,QACPC,cAAe,EACfC,KAAMjR,EAAOD,EAAW6I,IACxBsI,YAAa,EAAI,EALZpS,EAML,GAEN2C,CAAAA,EAAAA,EAAAA,GAAAA,EAAA,QACE8C,MAAO6D,EACP5D,OAAQ+D,EACR2I,YAAa,EACbC,YAAaT,EACbU,YAAaV,EACbW,WAAYvB,EACZF,QAASgB,CAAY,GACrB,EAGR,GASMV,EAAoBP,IACxB,GAAM,CAAElQ,UAAAA,CAAS,CAAEG,OAAAA,CAAM,CAAED,KAAAA,CAAI,CAAEG,OAAAA,CAAM,CAAED,KAAAA,CAAI,CAAEE,WAAAA,CAAAA,CAAY,CAAG4P,EAE9D,OAAQA,EAAW7G,SAAS,EAC1B,IAAK,OAAQ,CACX,GAAM,CAAEwI,OAAAA,CAAAA,CAAQ,CAAG3B,EAEnB,OAAO2B,EAAOC,OAAO,CAAEnS,IACrB,IAAM0B,EAAU1B,EAAEZ,GAAG,CAErB,OAAOY,EACJyB,GAAG,CAAEtC,IACJ,IAAMqK,EAAcrK,EAAED,IAAI,CAI1B,MAAO,CACL4D,EAJQtC,EAAOD,EAAKiJ,IAAgB7H,KAKpCoB,EAJQrC,EAAOwR,IAAAA,EAAOE,MAAM,CAASjT,CAAC,CAAC,EAAE,CAAG,CAACA,CAAC,CAAC,EAAE,CAAGA,CAAC,CAAC,EAAE,EAAI,IAK5DqK,YAAAA,EACA9H,QAAAA,CACF,CACF,GACC2Q,MAAM,CACJd,GAAU,CAACe,OAAOC,KAAK,CAAChB,EAAMzO,CAAC,GAAK,CAACwP,OAAOC,KAAK,CAAChB,EAAMxO,CAAC,EAEhE,EACF,CACA,IAAK,OACL,IAAK,cACH,OAAO1C,EACJoB,GAAG,CAAEtC,IACJ,IAAMuC,EAAUf,EAAWxB,GAE3B,MAAO,CACLqK,YAAarK,EACb2D,EAAGtC,EAAOD,EAAKpB,IAAMwC,KACrBoB,EAAGrC,EAAOD,EAAKtB,IAAMwC,KACrBD,QAAAA,CACF,CACF,GACC2Q,MAAM,CACJd,GAAU,CAACe,OAAOC,KAAK,CAAChB,EAAMzO,CAAC,GAAK,CAACwP,OAAOC,KAAK,CAAChB,EAAMxO,CAAC,EAGhE,SAEE,OADgCwN,CAEpC,CACF,EAEMW,EAAesB,GAAeA,EAAI,EAAI,EAAIA,o5BCpIhD,IAAMC,EAAkBC,CAAAA,EAAAA,EAAAA,aAAAA,EAAoCrO,KAAAA,GAEtDsO,EAAcA,KAClB,IAAMC,EAAWC,CAAAA,EAAAA,EAAAA,UAAAA,EAAWJ,GAE5B,GAAI,CAACG,EACH,MAAME,MACJ,iEAMJ,MAFAC,CAAAA,EAAAA,EAAAA,oBAAAA,EAAqBH,EAASI,SAAS,CAAEJ,EAASK,YAAY,EAEvDL,CACT,EAOapG,EAAcjK,IACzB,GAAM,CACJ2Q,YAAAA,CAAW,CACXC,eAAAA,CAAc,CACdnL,KAAMoL,CAAa,CACnB7R,SAAU8R,CAAiB,CAC3BpQ,QAAAA,CAAO,CACPP,WAAAA,CAAAA,CACD,CAAGH,EAEE,CAACnB,EAAM,CAAGkS,CAAAA,EAAAA,EAAAA,EAAAA,EAAqBC,EAAAA,EAAe,EAC9CC,EAAYhS,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACjBkB,EAAWgE,IAAI,CAAEvH,GAAMA,EAAE4C,EAAE,GAAKmR,GACtC,CAACA,EAAaxQ,EAAW,EACtB+Q,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,EAAoBF,GAC/BG,EAAiBC,CAAAA,EAAAA,EAAAA,EAAAA,EAA0BJ,GAC3CK,EAAkBC,CAAAA,EAAAA,EAAAA,EAAAA,EAA2BN,GAEnD,GAAI,CAAEC,CAAAA,GAAYE,GAAkBE,CAAAA,EAClC,MAAMf,MAAM,yDAGd,IAAMiB,EAAiBC,CAAAA,EAAAA,EAAAA,EAAAA,IACjBC,EAAW,aAAcT,EAAYA,EAAUS,QAAQ,CAAG5P,KAAAA,EAG1DkM,EAAazP,CAAAA,EAAAA,EAAAA,EAAAA,IAGb0G,EAAkBvE,CAAO,CAACuQ,EAAUzR,EAAE,CAAC,CACvCmS,EAA+B1S,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC3C,IAAM2S,EAAc,CAClBf,cAAAA,EACAgB,WAAYf,IAAAA,CACd,EACMgB,EAAetN,MAAMC,IAAI,CAC7B,IAAIC,IACFsJ,EAAWtL,OAAO,CACfxD,GAAG,CAAEtC,GAAMA,CAAC,CAACqU,EAAUzR,EAAE,CAAC,EAC1BsQ,MAAM,CAACiC,EAAAA,CAAM,IAIpB,GAAIb,EAIF,OAAA7P,EAAA,CACEoE,KAAM,WACNuM,SALeF,EAAa5S,GAAG,CAAEtC,GAAMqV,CAAAA,EAAAA,EAAAA,EAAAA,EAAUrV,GAAGsV,OAAO,IAM3DC,YALmBvV,GAAc4U,EAAe,IAAIY,KAAKxV,GAAI8U,EAKlD,EACRE,EAEA,EACL,IAAMjN,EAAgD,CACpDC,YAAa,SACbC,aAAc,KAChB,EACMC,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,EAA0BkM,EAAW,CACnDhM,gBAAAA,EACAN,QAAAA,CACF,GACM0N,EAAgBlN,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBL,EAASH,GAGhD,OAAAtD,EAAA,CACEoE,KAAM,UACN6M,WAJiBpN,IAAQ4M,EAAchN,EAASuN,EAItC,EACPT,EAEP,CACF,EAAG,CACDf,EACAC,EACA9C,EAAWtL,OAAO,CAClBwO,EACAD,EACAO,EACAE,EACAzM,EACD,EAEKoL,EAAWpR,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAChB,IAAIsT,EAAAA,CAAQ,CAACZ,GACnB,CAACA,EAAc,SAElB,EAAUa,gBAAgB,EAAEC,UAAUnI,OAC7B,KAIPxK,CAAAA,EAAAA,EAAAA,GAAAA,EAACoQ,EAAgBxH,QAAQ,EAACrF,MAAOgN,EAAS/H,SACxCxI,CAAAA,EAAAA,EAAAA,GAAAA,EAAC4S,EAAI,CAAC9B,eAAgBA,CAAe,EAAG,EAG9C,EAEM8B,EAAOxL,IAAqD,GAApD,CAAE0J,eAAAA,CAAAA,CAA6C,CAAA1J,EAErD,CAACoE,EAAK9H,EAAI,CAAG6M,IAASsC,eAAe,CAE3C,MACEvJ,CAAAA,EAAAA,EAAAA,IAAAA,EAACwJ,EAAAA,CAAG,CAAAvR,EAAAA,EAAA,GACEwR,EAAAA,EAAuB,MAC3BC,GAAI,CACF7G,QAAS,OACT8G,WAAY,SACZC,IAAK,EACLC,GAAI,EACJC,GAAI,GACN,EAAE5K,SAAA,CAEDsI,GAAkB9Q,CAAAA,EAAAA,EAAAA,GAAAA,EAACqT,EAAU,IAC9B/J,CAAAA,EAAAA,EAAAA,IAAAA,EAAA,OAAK4C,MAAO,CAAEe,SAAU,WAAYnK,MAAO,MAAO,EAAE0F,SAAA,CAClDxI,CAAAA,EAAAA,EAAAA,GAAAA,EAACsT,EAAM,IACPtT,CAAAA,EAAAA,EAAAA,GAAAA,EAACuT,EAAAA,CAAU,EACTC,QAAQ,UACRR,GAAI,CAAE/F,SAAU,WAAYrN,KAAM,EAAG6T,GAAI,CAAE,EAAEjL,SAE5CgD,CAAG,GAENxL,CAAAA,EAAAA,EAAAA,GAAAA,EAACuT,EAAAA,CAAU,EACTC,QAAQ,UACRR,GAAI,CAAE/F,SAAU,WAAYvG,MAAO,EAAG+M,GAAI,CAAE,EAAEjL,SAE7C9E,CAAG,GACO,GACT,GAGZ,EAEM2P,EAAaA,KACjB,IAAM9C,EAAWD,IAEXnC,EAAUuF,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,KACvBnD,EAASoD,OAAO,CAAGpD,EAASqD,IAAI,GAAKrD,EAASsD,KAAK,EACrD,GAEA,MACE7T,CAAAA,EAAAA,EAAAA,GAAAA,EAAC8T,EAAAA,CAAM,EACL3F,QAASA,EACTqF,QAAQ,WACRtH,MAAO,CACL6H,UAAW,GACXC,SAAU,GACVC,QAAS,EACTC,aAAc,KAChB,EAAE1L,SAEFxI,CAAAA,EAAAA,EAAAA,GAAAA,EAACmU,EAAAA,EAAI,EAACC,KAAM7D,EAASoD,OAAO,CAAG,QAAU,OAAQU,KAAM,EAAG,EAAG,EAGnE,EAEMvH,EAAYC,CAAAA,EAAAA,EAAAA,CAAAA,EAAW,IAAO,EAClCuH,KAAM,CACJxR,MAAO,OAEP,CAAE,MAAKyR,EAAAA,CAAa,CAACD,IAAK,EAAC,EAAG,CAC5BvR,OAAQ,MAER,CAAE,MAAKwR,EAAAA,CAAa,CAACC,KAAM,EAAC,EAAG,CAC7B1R,MAAO,OACPC,OAAQ,MACV,CACF,CACF,EAEA4Q,QAAS,CACP,CAAE,MAAKY,EAAAA,CAAa,CAACC,KAAM,EAAC,EAAG,CAC7B7X,WAAY,MACd,EAEA,CAAE,MAAK4X,EAAAA,CAAa,CAACE,KAAM,EAAC,EAAG,CAC7B9X,WAAY,MACd,CACF,CACF,IAEM2W,EAASA,KACb,IAAM/C,EAAWD,IACXoE,EAAaC,CAAAA,EAAAA,EAAAA,EAAAA,EAA4B7X,GAAMA,EAAE4X,UAAU,EAC3DE,EAAgBD,CAAAA,EAAAA,EAAAA,EAAAA,EAA4B7X,GAAMA,EAAE8X,aAAa,EACjE7G,EAAUjB,IAEV+H,EAAQ1V,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACboR,EAAS3M,MAAM,CAACxE,GAAG,CAAEtC,GAAO,EAAEyG,MAAOzG,CAAE,KAAO,EAAE,CACtD,CAACyT,EAAS3M,MAAM,CAAC,EAEdkR,EAAWpB,CAAAA,EAAAA,EAAAA,CAAAA,EAAU3E,IACzBwB,EAASwE,WAAW,CAAC,CAAChG,EAAEiG,MAAM,CAACzR,KAAK,CACtC,GAEM4K,EAAUuF,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,KACvBnD,EAASqD,IAAI,EACf,GAuCA,MArCArU,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACJgR,EAAS5K,IAAI,GAAK+O,EAAW/O,IAAI,EACnCiP,EAAc,CACZjP,KAAM4K,EAAS5K,IAAI,CACnBpC,MAAOvB,KAAAA,CACT,GAIkB,aAAlBuO,EAAS5K,IAAI,EACb+O,aAAAA,EAAW/O,IAAI,EACf+O,EAAWnR,KAAK,EAAE6O,YAAc7B,EAAShN,KAAK,EAE9CqR,EAAc,CACZjP,KAAM,WACNpC,MAAO,IAAI+O,KAAK/B,EAAShN,KAAK,CAChC,GAIkB,YAAlBgN,EAAS5K,IAAI,EACb+O,YAAAA,EAAW/O,IAAI,EACf+O,GAAYnR,QAAUgN,EAAShN,KAAK,EAEpCqR,EAAc,CACZjP,KAAM,UACNpC,MAAOgN,EAAShN,KAAAA,EAGtB,EAAG,CACDgN,EAAShN,KAAK,CACdgN,EAAS5K,IAAI,CACb+O,EAAW/O,IAAI,CACf+O,EAAWnR,KAAK,CAChBqR,EACD,EAGC5U,CAAAA,EAAAA,EAAAA,GAAAA,EAACiV,EAAAA,EAAa,EACZb,KAAK,cACLc,gBAAiB,GACjB1J,IAAK,EACL9H,IAAK,EACLyR,KAAM,KACNN,MAAOA,EACPtR,MAAOgN,EAAS6E,QAAS,CACzBN,SAAUA,EACV3G,QAASA,EACTkH,kBAAkB,KAClBC,iBAAkB/E,EAASgF,cAAe,CAC1CvH,UAAWwH,CAAAA,EAAAA,EAAAA,CAAAA,EAAKzH,EAAQuG,IAAI,CAAE/D,EAASoD,OAAO,EAAI5F,EAAQ4F,OAAO,CAAE,EAGzE","sources":["webpack://_N_E/./charts/scatterplot/rendering-utils.ts","webpack://_N_E/./charts/scatterplot/scatterplot.tsx","webpack://_N_E/./charts/scatterplot/scatterplot-state-props.ts","webpack://_N_E/./charts/scatterplot/scatterplot-state.tsx","webpack://_N_E/./charts/scatterplot/chart-scatterplot.tsx","webpack://_N_E/./charts/shared/axis-width-linear.tsx","webpack://_N_E/./charts/shared/interaction/ruler.tsx","webpack://_N_E/./charts/shared/margins.ts","webpack://_N_E/./charts/shared/overlay-voronoi.tsx","webpack://_N_E/./configurator/interactive-filters/time-slider.tsx"],"sourcesContent":["import { Selection } from \"d3-selection\";\n\nimport {\n  maybeTransition,\n  RenderOptions,\n} from \"@/charts/shared/rendering-utils\";\n\nexport type RenderDatum = {\n  key: string;\n  cx: number;\n  cy: number;\n  color: string;\n};\n\nexport const renderCircles = (\n  g: Selection<SVGGElement, null, SVGGElement, unknown>,\n  renderData: RenderDatum[],\n  options: RenderOptions\n) => {\n  const { transition } = options;\n\n  g.selectAll<SVGCircleElement, RenderDatum>(\"circle\")\n    .data(renderData, (d) => d.key)\n    .join(\n      (enter) =>\n        enter\n          .append(\"circle\")\n          .attr(\"data-index\", (_, i) => i)\n          .attr(\"cx\", (d) => d.cx)\n          .attr(\"cy\", (d) => d.cy)\n          .attr(\"r\", 4)\n          .attr(\"fill\", (d) => d.color)\n          .attr(\"opacity\", 0)\n          .call((enter) =>\n            maybeTransition(enter, {\n              transition,\n              s: (g) => g.attr(\"opacity\", 1),\n            })\n          ),\n      (update) =>\n        maybeTransition(update, {\n          transition,\n          s: (g) =>\n            g\n              .attr(\"cx\", (d) => d.cx)\n              .attr(\"cy\", (d) => d.cy)\n              .attr(\"fill\", (d) => d.color)\n              .attr(\"opacity\", 1),\n        }),\n      (exit) =>\n        maybeTransition(exit, {\n          transition,\n          s: (g) => g.attr(\"opacity\", 0).remove(),\n        })\n    );\n};\n","import { useEffect, useMemo, useRef } from \"react\";\n\nimport {\n  renderCircles,\n  RenderDatum,\n} from \"@/charts/scatterplot/rendering-utils\";\nimport { ScatterplotState } from \"@/charts/scatterplot/scatterplot-state\";\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport { renderContainer } from \"@/charts/shared/rendering-utils\";\nimport { useTransitionStore } from \"@/stores/transition\";\n\nexport const Scatterplot = () => {\n  const {\n    chartData,\n    bounds,\n    getX,\n    xScale,\n    getY,\n    yScale,\n    getSegment,\n    colors,\n    getRenderingKey,\n  } = useChartState() as ScatterplotState;\n  const { margins } = bounds;\n  const ref = useRef<SVGGElement>(null);\n  const enableTransition = useTransitionStore((state) => state.enable);\n  const transitionDuration = useTransitionStore((state) => state.duration);\n  const renderData = useMemo(() => {\n    return chartData.map((d) => {\n      const segment = getSegment(d);\n\n      return {\n        key: getRenderingKey(d),\n        cx: xScale(getX(d) ?? NaN),\n        cy: yScale(getY(d) ?? NaN),\n        color: colors(segment),\n      } satisfies RenderDatum;\n    });\n  }, [\n    chartData,\n    getSegment,\n    getRenderingKey,\n    xScale,\n    getX,\n    yScale,\n    getY,\n    colors,\n  ]);\n\n  useEffect(() => {\n    if (ref.current && renderData) {\n      renderContainer(ref.current, {\n        id: \"scatterplot\",\n        transform: `translate(${margins.left} ${margins.top})`,\n        transition: { enable: enableTransition, duration: transitionDuration },\n        render: (g, opts) => renderCircles(g, renderData, opts),\n      });\n    }\n  }, [\n    enableTransition,\n    margins.left,\n    margins.top,\n    renderData,\n    transitionDuration,\n  ]);\n\n  return <g ref={ref} />;\n};\n","import { usePlottableData } from \"@/charts/shared/chart-helpers\";\nimport {\n  BaseVariables,\n  ChartStateData,\n  NumericalXVariables,\n  NumericalYVariables,\n  RenderingVariables,\n  SegmentVariables,\n  useBaseVariables,\n  useChartData,\n  useNumericalXVariables,\n  useNumericalYVariables,\n  useSegmentVariables,\n} from \"@/charts/shared/chart-state\";\nimport { useRenderingKeyVariable } from \"@/charts/shared/rendering-utils\";\nimport { useChartConfigFilters } from \"@/config-utils\";\nimport { ScatterPlotConfig } from \"@/configurator\";\n\nimport { ChartProps } from \"../shared/chart-props\";\n\nexport type ScatterplotStateVariables = BaseVariables &\n  NumericalXVariables &\n  NumericalYVariables &\n  SegmentVariables &\n  RenderingVariables;\n\nexport const useScatterplotStateVariables = (\n  props: ChartProps<ScatterPlotConfig>\n): ScatterplotStateVariables => {\n  const {\n    chartConfig,\n    observations,\n    dimensions,\n    dimensionsById,\n    measuresById,\n  } = props;\n  const { fields } = chartConfig;\n  const { x, y, segment, animation } = fields;\n  const filters = useChartConfigFilters(chartConfig);\n\n  const baseVariables = useBaseVariables(chartConfig);\n  const numericalXVariables = useNumericalXVariables(\"scatterplot\", x, {\n    measuresById,\n  });\n  const numericalYVariables = useNumericalYVariables(\"scatterplot\", y, {\n    measuresById,\n  });\n  const segmentVariables = useSegmentVariables(segment, {\n    dimensionsById,\n    observations,\n  });\n\n  const getRenderingKey = useRenderingKeyVariable(\n    dimensions,\n    filters,\n    animation\n  );\n\n  return {\n    ...baseVariables,\n    ...numericalXVariables,\n    ...numericalYVariables,\n    ...segmentVariables,\n    getRenderingKey,\n  };\n};\n\nexport const useScatterplotStateData = (\n  chartProps: ChartProps<ScatterPlotConfig>,\n  variables: ScatterplotStateVariables\n): ChartStateData => {\n  const { chartConfig, observations } = chartProps;\n  const { getX, getY, getSegmentAbbreviationOrLabel } = variables;\n  const plottableData = usePlottableData(observations, {\n    getX,\n    getY,\n  });\n\n  return useChartData(plottableData, {\n    chartConfig,\n    timeRangeDimensionId: undefined,\n    getSegmentAbbreviationOrLabel,\n  });\n};\n","import { max } from \"d3-array\";\nimport { ScaleLinear, scaleLinear, ScaleOrdinal, scaleOrdinal } from \"d3-scale\";\nimport { schemeCategory10 } from \"d3-scale-chromatic\";\nimport orderBy from \"lodash/orderBy\";\nimport { PropsWithChildren, useCallback, useMemo } from \"react\";\n\nimport {\n  ScatterplotStateVariables,\n  useScatterplotStateData,\n  useScatterplotStateVariables,\n} from \"@/charts/scatterplot//scatterplot-state-props\";\nimport { GetAnnotationInfo } from \"@/charts/shared/annotations\";\nimport {\n  AxisLabelSizeVariables,\n  getChartWidth,\n  useAxisLabelSizeVariables,\n  useChartBounds,\n  useChartPadding,\n} from \"@/charts/shared/chart-dimensions\";\nimport {\n  ChartContext,\n  ChartStateData,\n  CommonChartState,\n} from \"@/charts/shared/chart-state\";\nimport { TooltipInfo } from \"@/charts/shared/interaction/tooltip\";\nimport { TooltipScatterplot } from \"@/charts/shared/interaction/tooltip-content\";\nimport { DEFAULT_MARGIN_TOP } from \"@/charts/shared/margins\";\nimport { InteractionProvider } from \"@/charts/shared/use-interaction\";\nimport { useSize } from \"@/charts/shared/use-size\";\nimport { ScatterPlotConfig, SortingField } from \"@/configurator\";\nimport { Observation } from \"@/domain/data\";\nimport { useFormatNumber } from \"@/formatters\";\nimport { getPalette } from \"@/palettes\";\nimport {\n  getSortingOrders,\n  makeDimensionValueSorters,\n} from \"@/utils/sorting-values\";\nimport { useIsMobile } from \"@/utils/use-is-mobile\";\n\nimport { ChartProps } from \"../shared/chart-props\";\nimport { TooltipPlacement } from \"../shared/interaction/tooltip-box\";\n\nexport type ScatterplotState = CommonChartState &\n  ScatterplotStateVariables & {\n    chartType: \"scatterplot\";\n    xScale: ScaleLinear<number, number>;\n    yScale: ScaleLinear<number, number>;\n    segments: string[];\n    colors: ScaleOrdinal<string, string>;\n    getColorLabel: (segment: string) => string;\n    getAnnotationInfo: GetAnnotationInfo;\n    getTooltipInfo: (d: Observation) => TooltipInfo;\n    leftAxisLabelSize: AxisLabelSizeVariables;\n    leftAxisLabelOffsetTop: number;\n    bottomAxisLabelSize: AxisLabelSizeVariables;\n  };\n\nconst useScatterplotState = (\n  chartProps: ChartProps<ScatterPlotConfig>,\n  variables: ScatterplotStateVariables,\n  data: ChartStateData\n): ScatterplotState => {\n  const { chartConfig } = chartProps;\n  const {\n    getX,\n    getMinX,\n    xAxisLabel,\n    getY,\n    getMinY,\n    yAxisLabel,\n    segmentDimension,\n    segmentsByAbbreviationOrLabel,\n    getSegment,\n    getSegmentAbbreviationOrLabel,\n    getSegmentLabel,\n  } = variables;\n  const { chartData, scalesData, segmentData, paddingData, allData } = data;\n  const { fields, interactiveFiltersConfig } = chartConfig;\n\n  const { width, height } = useSize();\n  const formatNumber = useFormatNumber({ decimals: \"auto\" });\n\n  const segmentsByValue = useMemo(() => {\n    const values = segmentDimension?.values || [];\n\n    return new Map(values.map((d) => [d.value, d]));\n  }, [segmentDimension?.values]);\n\n  const xMinValue = getMinX(scalesData, getX);\n  const xMaxValue = max(scalesData, (d) => getX(d)) ?? 0;\n  const xDomain = [xMinValue, xMaxValue];\n  const xScale = scaleLinear().domain(xDomain).nice();\n\n  const yMinValue = getMinY(scalesData, getY);\n  const yMaxValue = max(scalesData, getY) ?? 0;\n  const yDomain = [yMinValue, yMaxValue];\n  const yScale = scaleLinear().domain(yDomain).nice();\n\n  const paddingYMinValue = getMinY(paddingData, getY);\n  const paddingYMaxValue = max(paddingData, getY) ?? 0;\n  const paddingYScale = scaleLinear()\n    .domain([paddingYMinValue, paddingYMaxValue])\n    .nice();\n\n  const segmentFilter = segmentDimension?.id\n    ? chartConfig.cubes.find((d) => d.iri === segmentDimension.cubeIri)\n        ?.filters[segmentDimension.id]\n    : undefined;\n\n  // TODO: Verify is segments creation logic is correct\n  // (it's not consistent with other charts).\n  const allSegments = useMemo(() => {\n    const allUniqueSegments = Array.from(new Set(segmentData.map(getSegment)));\n    const sorting = {\n      sortingType: \"byAuto\",\n      sortingOrder: \"asc\",\n    } as SortingField[\"sorting\"];\n    const sorters = makeDimensionValueSorters(segmentDimension, {\n      sorting,\n      useAbbreviations: fields.segment?.useAbbreviations,\n      dimensionFilter: segmentFilter,\n    });\n\n    return orderBy(\n      allUniqueSegments,\n      sorters,\n      getSortingOrders(sorters, sorting)\n    );\n  }, [\n    fields.segment?.useAbbreviations,\n    getSegment,\n    segmentData,\n    segmentDimension,\n    segmentFilter,\n  ]);\n\n  // Map ordered segments to colors\n  const colors = scaleOrdinal<string, string>();\n\n  if (fields.segment && segmentDimension && fields.color) {\n    const orderedSegmentLabelsAndColors = allSegments.map((segment) => {\n      const dvIri =\n        segmentsByAbbreviationOrLabel.get(segment)?.value ||\n        segmentsByValue.get(segment)?.value ||\n        \"\";\n\n      return {\n        label: segment,\n        color:\n          fields.color.type === \"segment\"\n            ? (fields.color.colorMapping![dvIri] ?? schemeCategory10[0])\n            : schemeCategory10[0],\n      };\n    });\n\n    colors.domain(orderedSegmentLabelsAndColors.map((s) => s.label));\n    colors.range(orderedSegmentLabelsAndColors.map((s) => s.color));\n  } else {\n    colors.domain(allSegments);\n    colors.range(\n      getPalette({\n        paletteId: fields.color.paletteId,\n        colorField: fields.color,\n      })\n    );\n  }\n  // Dimensions\n  const { top, left, bottom } = useChartPadding({\n    xLabelPresent: !!xAxisLabel,\n    yScale: paddingYScale,\n    width,\n    height,\n    interactiveFiltersConfig,\n    formatNumber,\n  });\n  const right = 40;\n  const leftAxisLabelSize = useAxisLabelSizeVariables({\n    label: yAxisLabel,\n    width,\n  });\n  const bottomAxisLabelSize = useAxisLabelSizeVariables({\n    label: xAxisLabel,\n    width,\n  });\n  const margins = {\n    top: DEFAULT_MARGIN_TOP + top + leftAxisLabelSize.offset,\n    right,\n    bottom: bottom + bottomAxisLabelSize.offset,\n    left,\n  };\n  const chartWidth = getChartWidth({ width, left, right });\n  const bounds = useChartBounds({ width, chartWidth, height, margins });\n  const { chartHeight } = bounds;\n\n  xScale.range([0, chartWidth]);\n  yScale.range([chartHeight, 0]);\n\n  const isMobile = useIsMobile();\n\n  const getAnnotationInfo: GetAnnotationInfo = useCallback(\n    (observation, { segment }) => {\n      const x = xScale(getX(observation) ?? 0);\n      const y = yScale(getY(observation) ?? 0);\n\n      return {\n        x,\n        y,\n        color: colors(segment),\n      };\n    },\n    [xScale, getX, yScale, getY, colors]\n  );\n\n  const getTooltipInfo = (datum: Observation): TooltipInfo => {\n    const xRef = xScale(getX(datum) ?? NaN);\n    const yRef = yScale(getY(datum) ?? NaN);\n    const xAnchor = xRef;\n    const yAnchor = isMobile ? 0 : yRef;\n\n    const xPlacement =\n      xAnchor < chartWidth * 0.33\n        ? \"right\"\n        : xAnchor > chartWidth * 0.66\n          ? \"left\"\n          : \"center\";\n\n    const yPlacement =\n      yAnchor > chartHeight * 0.33\n        ? \"top\"\n        : yAnchor < chartHeight * 0.66\n          ? \"bottom\"\n          : \"middle\";\n\n    const placement: TooltipPlacement = isMobile\n      ? { x: \"center\", y: \"top\" }\n      : { x: xPlacement, y: yPlacement };\n\n    return {\n      xAnchor,\n      yAnchor,\n      placement,\n      value: formatNumber(getX(datum)),\n      tooltipContent: (\n        <TooltipScatterplot\n          firstLine={fields.segment && getSegmentAbbreviationOrLabel(datum)}\n          secondLine={`${xAxisLabel}: ${formatNumber(getX(datum))}`}\n          thirdLine={`${yAxisLabel}: ${formatNumber(getY(datum))}`}\n        />\n      ),\n      datum: {\n        label: fields.segment && getSegmentAbbreviationOrLabel(datum),\n        value: formatNumber(getY(datum)),\n        color: colors(getSegment(datum)) as string,\n      },\n      values: undefined,\n    };\n  };\n\n  return {\n    chartType: \"scatterplot\",\n    bounds,\n    chartData,\n    allData,\n    xScale,\n    yScale,\n    segments: allSegments,\n    colors,\n    getColorLabel: getSegmentLabel,\n    getAnnotationInfo,\n    getTooltipInfo,\n    leftAxisLabelSize,\n    leftAxisLabelOffsetTop: top,\n    bottomAxisLabelSize,\n    ...variables,\n  };\n};\n\nconst ScatterplotChartProvider = (\n  props: PropsWithChildren<ChartProps<ScatterPlotConfig>>\n) => {\n  const { children, ...chartProps } = props;\n  const variables = useScatterplotStateVariables(chartProps);\n  const data = useScatterplotStateData(chartProps, variables);\n  const state = useScatterplotState(chartProps, variables, data);\n\n  return (\n    <ChartContext.Provider value={state}>{children}</ChartContext.Provider>\n  );\n};\n\nexport const ScatterplotChart = (\n  props: PropsWithChildren<ChartProps<ScatterPlotConfig>>\n) => {\n  return (\n    <InteractionProvider>\n      <ScatterplotChartProvider {...props} />\n    </InteractionProvider>\n  );\n};\n","import { memo } from \"react\";\n\nimport { ChartDataWrapper } from \"@/charts/chart-data-wrapper\";\nimport { Scatterplot } from \"@/charts/scatterplot/scatterplot\";\nimport { ScatterplotChart } from \"@/charts/scatterplot/scatterplot-state\";\nimport { useIsEditingAnnotation } from \"@/charts/shared/annotation-utils\";\nimport { Annotations } from \"@/charts/shared/annotations\";\nimport {\n  AxisHeightLinear,\n  AxisHeightLinearDomain,\n} from \"@/charts/shared/axis-height-linear\";\nimport {\n  AxisWidthLinear,\n  AxisWidthLinearDomain,\n} from \"@/charts/shared/axis-width-linear\";\nimport {\n  ChartContainer,\n  ChartControlsContainer,\n  ChartSvg,\n} from \"@/charts/shared/containers\";\nimport { HoverAnnotationDot } from \"@/charts/shared/interaction/hover-annotation-dot\";\nimport { Ruler } from \"@/charts/shared/interaction/ruler\";\nimport { Tooltip } from \"@/charts/shared/interaction/tooltip\";\nimport { LegendColor } from \"@/charts/shared/legend-color\";\nimport { InteractionVoronoi } from \"@/charts/shared/overlay-voronoi\";\nimport { ScatterPlotConfig } from \"@/config-types\";\nimport { useChartConfigFilters } from \"@/config-utils\";\nimport { TimeSlider } from \"@/configurator/interactive-filters/time-slider\";\n\nimport { ChartProps, VisualizationProps } from \"../shared/chart-props\";\n\nexport const ChartScatterplotVisualization = (\n  props: VisualizationProps<ScatterPlotConfig>\n) => {\n  return <ChartDataWrapper {...props} Component={ChartScatterplot} />;\n};\n\nconst ChartScatterplot = memo((props: ChartProps<ScatterPlotConfig>) => {\n  const { chartConfig, dimensions, dimensionsById } = props;\n  const { fields, interactiveFiltersConfig } = chartConfig;\n  const filters = useChartConfigFilters(chartConfig);\n  const isEditingAnnotation = useIsEditingAnnotation();\n\n  return (\n    <ScatterplotChart {...props}>\n      <ChartContainer>\n        <ChartSvg>\n          <AxisWidthLinear />\n          <AxisHeightLinear />\n          <AxisWidthLinearDomain />\n          <AxisHeightLinearDomain />\n          <Scatterplot />\n          <InteractionVoronoi />\n        </ChartSvg>\n        <Ruler />\n        {isEditingAnnotation ? (\n          <HoverAnnotationDot />\n        ) : (\n          <Tooltip type=\"single\" />\n        )}\n      </ChartContainer>\n      <Annotations />\n      {(fields.animation || fields.segment) && (\n        <ChartControlsContainer>\n          {fields.animation && (\n            <TimeSlider\n              filters={filters}\n              dimensions={dimensions}\n              {...fields.animation}\n            />\n          )}\n          {fields.segment && (\n            <LegendColor\n              dimensionsById={dimensionsById}\n              chartConfig={chartConfig}\n              symbol=\"circle\"\n              interactive={interactiveFiltersConfig.legend.active}\n              showTitle={fields.segment.showTitle}\n            />\n          )}\n        </ChartControlsContainer>\n      )}\n    </ScatterplotChart>\n  );\n});\n","import { axisBottom } from \"d3-axis\";\nimport { useEffect, useRef } from \"react\";\n\nimport { GroupedBarsState } from \"@/charts/bar/bars-grouped-state\";\nimport { StackedBarsState } from \"@/charts/bar/bars-stacked-state\";\nimport { BarsState } from \"@/charts/bar/bars-state\";\nimport { ScatterplotState } from \"@/charts/scatterplot/scatterplot-state\";\nimport { useXAxisTitleOffset } from \"@/charts/shared/chart-dimensions\";\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport {\n  maybeTransition,\n  renderContainer,\n} from \"@/charts/shared/rendering-utils\";\nimport { useChartTheme } from \"@/charts/shared/use-chart-theme\";\nimport { OpenMetadataPanelWrapper } from \"@/components/metadata-panel\";\nimport { useFormatNumber } from \"@/formatters\";\nimport { useTransitionStore } from \"@/stores/transition\";\nimport { getTextWidth } from \"@/utils/get-text-width\";\n\nexport const AxisWidthLinear = () => {\n  const formatNumber = useFormatNumber();\n  const {\n    xScale,\n    bounds,\n    xAxisLabel,\n    xMeasure,\n    chartType,\n    bottomAxisLabelSize,\n  } = useChartState() as\n    | ScatterplotState\n    | BarsState\n    | GroupedBarsState\n    | StackedBarsState;\n  const { chartWidth, chartHeight, margins } = bounds;\n  const {\n    labelColor,\n    labelFontSize,\n    axisLabelFontSize,\n    gridColor,\n    fontFamily,\n  } = useChartTheme();\n  const xAxisTitleOffset = useXAxisTitleOffset();\n\n  const ref = useRef<SVGGElement>(null);\n  const enableTransition = useTransitionStore((state) => state.enable);\n  const transitionDuration = useTransitionStore((state) => state.duration);\n\n  useEffect(() => {\n    if (ref.current) {\n      const maxLabelLength = getTextWidth(formatNumber(xScale.domain()[1]), {\n        fontSize: labelFontSize,\n      });\n      const ticks = Math.min(bounds.chartWidth / (maxLabelLength + 20), 4);\n      const tickValues = xScale.ticks(ticks);\n      const axis = axisBottom(xScale)\n        .tickValues(tickValues)\n        .tickSizeInner(-chartHeight - 10)\n        .tickSizeOuter(-chartHeight)\n        .tickFormat(formatNumber);\n      const g = renderContainer(ref.current, {\n        id: \"axis-width-linear\",\n        transform: `translate(${margins.left} ${chartHeight + margins.top})`,\n        transition: { enable: enableTransition, duration: transitionDuration },\n        render: (g) => g.call(axis),\n        renderUpdate: (g, opts) =>\n          maybeTransition(g, {\n            transition: opts.transition,\n            s: (g) => g.call(axis),\n          }),\n      });\n\n      g.selectAll(\".tick line\")\n        .attr(\"y1\", 10)\n        .attr(\"stroke\", (_, i) => (i === 0 ? \"#000000\" : gridColor))\n        .attr(\"stroke-width\", 1);\n      g.selectAll(\".tick text\")\n        .attr(\"font-size\", labelFontSize)\n        .attr(\"font-family\", fontFamily)\n        .attr(\"fill\", labelColor)\n        .attr(\"dy\", labelFontSize + 10)\n        .attr(\"text-anchor\", \"middle\");\n      g.select(\"path.domain\").attr(\"stroke\", gridColor);\n      if (chartType === \"bar\") {\n        g.select(\"path.domain\").remove();\n      }\n    }\n  }, [\n    chartType,\n    bounds.chartWidth,\n    chartHeight,\n    enableTransition,\n    fontFamily,\n    formatNumber,\n    gridColor,\n    labelColor,\n    labelFontSize,\n    margins.left,\n    margins.top,\n    transitionDuration,\n    xScale,\n  ]);\n\n  return (\n    <>\n      <foreignObject\n        x={margins.left + chartWidth / 2 - bottomAxisLabelSize.width / 2}\n        y={margins.top + chartHeight + xAxisTitleOffset}\n        width={chartWidth}\n        height={bottomAxisLabelSize.height}\n        style={{ display: \"flex\" }}\n      >\n        <OpenMetadataPanelWrapper component={xMeasure}>\n          <span style={{ fontSize: axisLabelFontSize, lineHeight: 1.5 }}>\n            {xAxisLabel}\n          </span>\n        </OpenMetadataPanelWrapper>\n      </foreignObject>\n      <g ref={ref} />\n    </>\n  );\n};\n\nexport const AxisWidthLinearDomain = () => {\n  const { xScale, yScale, bounds } = useChartState() as ScatterplotState;\n  const { chartHeight, margins } = bounds;\n  const { domainColor } = useChartTheme();\n  const ref = useRef<SVGGElement>(null);\n  const enableTransition = useTransitionStore((state) => state.enable);\n  const transitionDuration = useTransitionStore((state) => state.duration);\n\n  useEffect(() => {\n    if (ref.current) {\n      const axis = axisBottom(xScale).tickSizeOuter(0);\n      const g = renderContainer(ref.current, {\n        id: \"axis-width-linear-domain\",\n        transform: `translate(${margins.left} ${chartHeight + margins.top})`,\n        transition: { enable: enableTransition, duration: transitionDuration },\n        render: (g) => g.call(axis),\n        renderUpdate: (g, opts) =>\n          maybeTransition(g, {\n            transition: opts.transition,\n            s: (g) => g.call(axis),\n          }),\n      });\n\n      g.selectAll(\".tick line\").remove();\n      g.selectAll(\".tick text\").remove();\n      g.select(\"path.domain\")\n        .attr(\"data-name\", \"width-axis-domain\")\n        .attr(\"transform\", `translate(0, -${bounds.chartHeight - yScale(0)})`)\n        .attr(\"stroke\", domainColor);\n    }\n  }, [\n    bounds.chartHeight,\n    chartHeight,\n    domainColor,\n    enableTransition,\n    margins.left,\n    margins.top,\n    transitionDuration,\n    xScale,\n    yScale,\n  ]);\n\n  return <g ref={ref} />;\n};\n","import { Theme } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\n\nimport { ComboLineColumnState } from \"@/charts/combo/combo-line-column-state\";\nimport { ComboLineDualState } from \"@/charts/combo/combo-line-dual-state\";\nimport { ComboLineSingleState } from \"@/charts/combo/combo-line-single-state\";\nimport { LinesState } from \"@/charts/line/lines-state\";\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport {\n  TooltipPlacement,\n  TooltipValue,\n} from \"@/charts/shared/interaction/tooltip\";\nimport { useInteraction } from \"@/charts/shared/use-interaction\";\nimport { Margins } from \"@/charts/shared/use-size\";\nimport { Observation } from \"@/domain/data\";\nimport { useIsMobile } from \"@/utils/use-is-mobile\";\n\ntype RulerProps = {\n  rotate?: boolean;\n};\n\nexport const Ruler = (props: RulerProps) => {\n  const { rotate = false } = props;\n  const [{ type, visible, observation }] = useInteraction();\n\n  return (\n    <>\n      {type === \"tooltip\" && visible && observation && (\n        <RulerInner d={observation} rotate={rotate} />\n      )}\n    </>\n  );\n};\n\ntype RulerInnerProps = {\n  d: Observation;\n  rotate: boolean;\n};\n\nconst RulerInner = (props: RulerInnerProps) => {\n  const { d, rotate } = props;\n  const { getTooltipInfo, bounds } = useChartState() as\n    | LinesState\n    | ComboLineSingleState\n    | ComboLineDualState\n    | ComboLineColumnState;\n  const { xAnchor, value, datum, placement, values } = getTooltipInfo(d);\n\n  return (\n    <RulerContent\n      rotate={rotate}\n      xValue={value}\n      values={values}\n      chartHeight={bounds.chartHeight}\n      margins={bounds.margins}\n      xAnchor={xAnchor}\n      datum={datum}\n      placement={placement}\n    />\n  );\n};\n\ntype RulerContentProps = {\n  rotate: boolean;\n  xValue: string;\n  values: TooltipValue[] | undefined;\n  chartHeight: number;\n  margins: Margins;\n  xAnchor: number;\n  datum: TooltipValue;\n  placement: TooltipPlacement;\n  showXValue?: boolean;\n};\n\nconst useStyles = makeStyles<Theme, { rotate: boolean }>((theme: Theme) => ({\n  left: {\n    width: 0,\n    position: \"absolute\",\n    borderWidth: 0.5,\n    borderStyle: \"solid\",\n    borderColor: theme.palette.cobalt[50],\n    pointerEvents: \"none\",\n    transform: \"translateX(-50%)\",\n  },\n  right: {\n    position: \"absolute\",\n    fontWeight: \"bold\",\n    backgroundColor: theme.palette.background.paper,\n    transform: ({ rotate }) =>\n      rotate\n        ? \"translateX(-50%) translateY(50%) rotate(90deg)\"\n        : \"translateX(-50%)\",\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    fontSize: \"0.875rem\",\n  },\n}));\n\nexport const RulerContent = (props: RulerContentProps) => {\n  const { rotate, xValue, chartHeight, margins, xAnchor } = props;\n  const classes = useStyles({ rotate });\n  const isMobile = useIsMobile();\n\n  return (\n    <>\n      <div\n        className={classes.left}\n        style={{\n          height: chartHeight,\n          left: xAnchor + margins.left,\n          top: margins.top,\n        }}\n      />\n      {!isMobile && (\n        <div\n          className={classes.right}\n          style={{\n            left: xAnchor + margins.left,\n            top: chartHeight + margins.top + 6,\n          }}\n        >\n          {xValue}\n        </div>\n      )}\n    </>\n  );\n};\n","export const DEFAULT_MARGIN_TOP = 40;\n","import { Delaunay } from \"d3-delaunay\";\nimport { pointer } from \"d3-selection\";\nimport { memo, MouseEvent, useCallback, useMemo, useRef } from \"react\";\n\nimport { AreasState } from \"@/charts/area/areas-state\";\nimport { LinesState } from \"@/charts/line/lines-state\";\nimport { ScatterplotState } from \"@/charts/scatterplot/scatterplot-state\";\nimport { useChartState } from \"@/charts/shared/chart-state\";\nimport { useAnnotationInteractions } from \"@/charts/shared/use-annotation-interactions\";\nimport { Observation } from \"@/domain/data\";\n\ntype InteractionVoronoiChartState = AreasState | LinesState | ScatterplotState;\n\nexport const InteractionVoronoi = memo(function InteractionVoronoi({\n  debug,\n}: {\n  debug?: boolean;\n}) {\n  const ref = useRef<SVGGElement>(null);\n  const chartState = useChartState() as InteractionVoronoiChartState;\n  const {\n    bounds: { chartWidth, chartHeight, margins },\n    getSegment,\n    colors,\n  } = chartState;\n  const { onClick, onHover, onHoverOut } = useAnnotationInteractions({\n    focusingSegment: true,\n  });\n\n  const voronoiPoints = useMemo(() => {\n    return getVoronoiPoints(chartState);\n  }, [chartState]);\n\n  const delaunay = useMemo(() => {\n    return Delaunay.from(\n      voronoiPoints,\n      (d) => d.x,\n      (d) => d.y\n    );\n  }, [voronoiPoints]);\n\n  const voronoi = useMemo(() => {\n    return delaunay.voronoi([\n      0,\n      0,\n      atLeastZero(chartWidth),\n      atLeastZero(chartHeight),\n    ]);\n  }, [chartWidth, chartHeight, delaunay]);\n\n  const findVoronoiPoint = useCallback(\n    (e: MouseEvent) => {\n      if (!ref.current) {\n        return;\n      }\n\n      const [x, y] = pointer(e, ref.current);\n      const i = delaunay.find(x, y);\n\n      return voronoiPoints[i];\n    },\n    [voronoiPoints, delaunay]\n  );\n\n  const handleHover = useCallback(\n    (e: MouseEvent) => {\n      const point = findVoronoiPoint(e);\n\n      if (point) {\n        onHover(point.observation, { segment: point.segment });\n      }\n    },\n    [findVoronoiPoint, onHover]\n  );\n\n  const handleClick = useCallback(\n    (e: MouseEvent) => {\n      const point = findVoronoiPoint(e);\n\n      if (point) {\n        onClick(point.observation, { segment: point.segment });\n      }\n    },\n    [findVoronoiPoint, onClick]\n  );\n\n  return (\n    <g ref={ref} transform={`translate(${margins.left} ${margins.top})`}>\n      {debug &&\n        voronoiPoints.map(({ observation }, i) => (\n          <path\n            key={i}\n            d={voronoi.renderCell(i)}\n            stroke=\"white\"\n            strokeOpacity={1}\n            fill={colors(getSegment(observation))}\n            fillOpacity={0.2}\n          />\n        ))}\n      <rect\n        width={chartWidth}\n        height={chartHeight}\n        fillOpacity={0}\n        onMouseOver={handleHover}\n        onMouseMove={handleHover}\n        onMouseOut={onHoverOut}\n        onClick={handleClick}\n      />\n    </g>\n  );\n});\n\ntype VoronoiDataPoint = {\n  x: number;\n  y: number;\n  observation: Observation;\n  segment?: string;\n};\n\nconst getVoronoiPoints = (chartState: InteractionVoronoiChartState) => {\n  const { chartData, xScale, getX, yScale, getY, getSegment } = chartState;\n\n  switch (chartState.chartType) {\n    case \"area\": {\n      const { series } = chartState;\n\n      return series.flatMap((s) => {\n        const segment = s.key;\n\n        return s\n          .map((d) => {\n            const observation = d.data;\n            const x = xScale(getX(observation) ?? NaN);\n            const y = yScale(series.length === 1 ? d[0] : (d[0] + d[1]) * 0.5);\n\n            return {\n              x,\n              y,\n              observation,\n              segment,\n            };\n          })\n          .filter(\n            (point) => !Number.isNaN(point.x) && !Number.isNaN(point.y)\n          ) satisfies VoronoiDataPoint[];\n      });\n    }\n    case \"line\":\n    case \"scatterplot\": {\n      return chartData\n        .map((d) => {\n          const segment = getSegment(d);\n\n          return {\n            observation: d,\n            x: xScale(getX(d) ?? NaN),\n            y: yScale(getY(d) ?? NaN),\n            segment,\n          };\n        })\n        .filter(\n          (point) => !Number.isNaN(point.x) && !Number.isNaN(point.y)\n        ) satisfies VoronoiDataPoint[];\n    }\n    default:\n      const _exhaustiveCheck: never = chartState;\n      return _exhaustiveCheck;\n  }\n};\n\nconst atLeastZero = (n: number) => (n < 0 ? 0 : n);\n","import { Box, Button, sliderClasses, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport clsx from \"clsx\";\nimport orderBy from \"lodash/orderBy\";\nimport {\n  ChangeEvent,\n  createContext,\n  useContext,\n  useEffect,\n  useMemo,\n} from \"react\";\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\n\nimport { ChartState, useChartState } from \"@/charts/shared/chart-state\";\nimport { TableChartState } from \"@/charts/table/table-state\";\nimport { Slider as GenericSlider } from \"@/components/form\";\nimport { AnimationField, Filters, SortingField } from \"@/config-types\";\nimport { parseDate } from \"@/configurator/components/ui-helpers\";\nimport { hasChartConfigs } from \"@/configurator/configurator-state\";\nimport {\n  Dimension,\n  isTemporalDimension,\n  isTemporalEntityDimension,\n  isTemporalOrdinalDimension,\n} from \"@/domain/data\";\nimport { truthy } from \"@/domain/types\";\nimport { useTimeFormatUnit } from \"@/formatters\";\nimport { Icon } from \"@/icons\";\nimport { useConfiguratorState } from \"@/src\";\nimport { useChartInteractiveFilters } from \"@/stores/interactive-filters\";\nimport { Timeline, TimelineProps } from \"@/utils/observables\";\nimport {\n  getSortingOrders,\n  makeDimensionValueSorters,\n} from \"@/utils/sorting-values\";\nimport { useEvent } from \"@/utils/use-event\";\nimport { DISABLE_SCREENSHOT_ATTR } from \"@/utils/use-screenshot\";\n\nconst TimelineContext = createContext<Timeline | undefined>(undefined);\n\nconst useTimeline = () => {\n  const timeline = useContext(TimelineContext);\n\n  if (!timeline) {\n    throw Error(\n      \"useTimeline must be called inside a TimelineContext.Provider!\"\n    );\n  }\n\n  useSyncExternalStore(timeline.subscribe, timeline.getUpdateKey);\n\n  return timeline;\n};\n\ntype TimeSliderProps = {\n  filters: Filters;\n  dimensions: Dimension[];\n} & AnimationField;\n\nexport const TimeSlider = (props: TimeSliderProps) => {\n  const {\n    componentId,\n    showPlayButton,\n    type: animationType,\n    duration: animationDuration,\n    filters,\n    dimensions,\n  } = props;\n\n  const [state] = useConfiguratorState(hasChartConfigs);\n  const dimension = useMemo(() => {\n    return dimensions.find((d) => d.id === componentId);\n  }, [componentId, dimensions]);\n  const temporal = isTemporalDimension(dimension);\n  const temporalEntity = isTemporalEntityDimension(dimension);\n  const temporalOrdinal = isTemporalOrdinalDimension(dimension);\n\n  if (!(temporal || temporalEntity || temporalOrdinal)) {\n    throw Error(\"You can only use TimeSlider with temporal dimensions!\");\n  }\n\n  const timeFormatUnit = useTimeFormatUnit();\n  const timeUnit = \"timeUnit\" in dimension ? dimension.timeUnit : undefined;\n\n  // No TimeSlider for tables.\n  const chartState = useChartState() as NonNullable<\n    Exclude<ChartState, TableChartState>\n  >;\n  const dimensionFilter = filters[dimension.id];\n  const timelineProps: TimelineProps = useMemo(() => {\n    const commonProps = {\n      animationType,\n      msDuration: animationDuration * 1000,\n    };\n    const uniqueValues = Array.from(\n      new Set(\n        chartState.allData\n          .map((d) => d[dimension.id])\n          .filter(truthy) as string[]\n      )\n    );\n\n    if (temporal) {\n      const msValues = uniqueValues.map((d) => parseDate(d).getTime());\n      const formatValue = (d: number) => timeFormatUnit(new Date(d), timeUnit!);\n\n      return {\n        type: \"interval\",\n        msValues,\n        formatValue,\n        ...commonProps,\n      };\n    } else {\n      const sorting: NonNullable<SortingField[\"sorting\"]> = {\n        sortingType: \"byAuto\",\n        sortingOrder: \"asc\",\n      };\n      const sorters = makeDimensionValueSorters(dimension, {\n        dimensionFilter,\n        sorting,\n      });\n      const sortingOrders = getSortingOrders(sorters, sorting);\n      const sortedData = orderBy(uniqueValues, sorters, sortingOrders);\n\n      return {\n        type: \"ordinal\",\n        sortedData,\n        ...commonProps,\n      };\n    }\n  }, [\n    animationType,\n    animationDuration,\n    chartState.allData,\n    temporal,\n    dimension,\n    timeFormatUnit,\n    timeUnit,\n    dimensionFilter,\n  ]);\n\n  const timeline = useMemo(() => {\n    return new Timeline(timelineProps);\n  }, [timelineProps]);\n\n  if (state.dashboardFilters?.timeRange.active) {\n    return null;\n  }\n\n  return (\n    <TimelineContext.Provider value={timeline}>\n      <Root showPlayButton={showPlayButton} />\n    </TimelineContext.Provider>\n  );\n};\n\nconst Root = ({ showPlayButton }: { showPlayButton: boolean }) => {\n  const timeline = useTimeline();\n  const [min, max] = timeline.formattedExtent;\n\n  return (\n    <Box\n      {...DISABLE_SCREENSHOT_ATTR}\n      sx={{\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 5,\n        mb: 5,\n        mr: 2.5,\n      }}\n    >\n      {showPlayButton && <PlayButton />}\n      <div style={{ position: \"relative\", width: \"100%\" }}>\n        <Slider />\n        <Typography\n          variant=\"caption\"\n          sx={{ position: \"absolute\", left: 0, mt: 2 }}\n        >\n          {min}\n        </Typography>\n        <Typography\n          variant=\"caption\"\n          sx={{ position: \"absolute\", right: 0, mt: 2 }}\n        >\n          {max}\n        </Typography>\n      </div>\n    </Box>\n  );\n};\n\nconst PlayButton = () => {\n  const timeline = useTimeline();\n\n  const onClick = useEvent(() => {\n    timeline.playing ? timeline.stop() : timeline.start();\n  });\n\n  return (\n    <Button\n      onClick={onClick}\n      variant=\"outlined\"\n      style={{\n        minHeight: 32,\n        minWidth: 32,\n        padding: 0,\n        borderRadius: \"50%\",\n      }}\n    >\n      <Icon name={timeline.playing ? \"pause\" : \"play\"} size={16} />\n    </Button>\n  );\n};\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: \"100%\",\n\n    [`& .${sliderClasses.root}`]: {\n      height: \"6px\",\n\n      [`& .${sliderClasses.thumb}`]: {\n        width: \"16px\",\n        height: \"16px\",\n      },\n    },\n  },\n\n  playing: {\n    [`& .${sliderClasses.thumb}`]: {\n      transition: \"none\",\n    },\n\n    [`& .${sliderClasses.track}`]: {\n      transition: \"none\",\n    },\n  },\n}));\n\nconst Slider = () => {\n  const timeline = useTimeline();\n  const timeSlider = useChartInteractiveFilters((d) => d.timeSlider);\n  const setTimeSlider = useChartInteractiveFilters((d) => d.setTimeSlider);\n  const classes = useStyles();\n\n  const marks = useMemo(() => {\n    return timeline.domain.map((d) => ({ value: d })) ?? [];\n  }, [timeline.domain]);\n\n  const onChange = useEvent((e: ChangeEvent<HTMLInputElement>) => {\n    timeline.setProgress(+e.target.value);\n  });\n\n  const onClick = useEvent(() => {\n    timeline.stop();\n  });\n\n  useEffect(() => {\n    if (timeline.type !== timeSlider.type) {\n      setTimeSlider({\n        type: timeline.type,\n        value: undefined,\n      });\n    }\n\n    if (\n      timeline.type === \"interval\" &&\n      timeSlider.type === \"interval\" &&\n      timeSlider.value?.getTime() !== timeline.value\n    ) {\n      setTimeSlider({\n        type: \"interval\",\n        value: new Date(timeline.value),\n      });\n    }\n\n    if (\n      timeline.type === \"ordinal\" &&\n      timeSlider.type === \"ordinal\" &&\n      timeSlider?.value !== timeline.value\n    ) {\n      setTimeSlider({\n        type: \"ordinal\",\n        value: timeline.value as string,\n      });\n    }\n  }, [\n    timeline.value,\n    timeline.type,\n    timeSlider.type,\n    timeSlider.value,\n    setTimeSlider,\n  ]);\n\n  return (\n    <GenericSlider\n      name=\"time-slider\"\n      renderTextInput={false}\n      min={0}\n      max={1}\n      step={null}\n      marks={marks}\n      value={timeline.progress}\n      onChange={onChange}\n      onClick={onClick}\n      valueLabelDisplay=\"on\"\n      valueLabelFormat={timeline.formattedValue}\n      className={clsx(classes.root, timeline.playing && classes.playing)}\n    />\n  );\n};\n"],"names":["renderCircles","g","renderData","options","transition","selectAll","data","d","key","join","enter","append","attr","_","i","cx","cy","color","call","maybeTransition","s","update","exit","remove","Scatterplot","chartData","bounds","getX","xScale","getY","yScale","getSegment","colors","getRenderingKey","useChartState","margins","ref","useRef","enableTransition","useTransitionStore","state","enable","transitionDuration","duration","useMemo","map","segment","NaN","useEffect","current","renderContainer","id","transform","left","top","render","opts","_jsx","useScatterplotStateVariables","props","chartConfig","observations","dimensions","dimensionsById","measuresById","fields","x","y","animation","filters","useChartConfigFilters","baseVariables","useBaseVariables","numericalXVariables","useNumericalXVariables","numericalYVariables","useNumericalYVariables","segmentVariables","useSegmentVariables","useRenderingKeyVariable","_objectSpread","useScatterplotStateData","chartProps","variables","getSegmentAbbreviationOrLabel","plottableData","usePlottableData","useChartData","timeRangeDimensionId","undefined","useScatterplotState","getMinX","xAxisLabel","getMinY","yAxisLabel","segmentDimension","segmentsByAbbreviationOrLabel","getSegmentLabel","scalesData","segmentData","paddingData","allData","interactiveFiltersConfig","width","height","useSize","formatNumber","useFormatNumber","decimals","segmentsByValue","Map","values","value","xMinValue","xMaxValue","max","scaleLinear","domain","nice","yMinValue","yMaxValue","paddingYMinValue","paddingYMaxValue","paddingYScale","segmentFilter","cubes","find","iri","cubeIri","allSegments","allUniqueSegments","Array","from","Set","sorting","sortingType","sortingOrder","sorters","makeDimensionValueSorters","useAbbreviations","dimensionFilter","orderBy","getSortingOrders","scaleOrdinal","orderedSegmentLabelsAndColors","dvIri","get","label","type","colorMapping","schemeCategory10","range","getPalette","paletteId","colorField","bottom","useChartPadding","xLabelPresent","leftAxisLabelSize","useAxisLabelSizeVariables","bottomAxisLabelSize","DEFAULT_MARGIN_TOP","offset","right","chartWidth","getChartWidth","useChartBounds","chartHeight","isMobile","useIsMobile","getAnnotationInfo","useCallback","observation","_ref","chartType","segments","getColorLabel","getTooltipInfo","datum","xRef","yRef","yAnchor","xPlacement","xAnchor","yPlacement","placement","tooltipContent","TooltipScatterplot","firstLine","secondLine","thirdLine","leftAxisLabelOffsetTop","ScatterplotChartProvider","children","_objectWithoutProperties","_excluded","ChartContext","Provider","ScatterplotChart","InteractionProvider","ChartScatterplotVisualization","ChartDataWrapper","Component","ChartScatterplot","memo","isEditingAnnotation","useIsEditingAnnotation","_jsxs","ChartContainer","ChartSvg","AxisWidthLinear","AxisHeightLinear","AxisWidthLinearDomain","AxisHeightLinearDomain","InteractionVoronoi","Ruler","HoverAnnotationDot","Tooltip","Annotations","ChartControlsContainer","TimeSlider","LegendColor","symbol","interactive","legend","active","showTitle","xMeasure","labelColor","labelFontSize","axisLabelFontSize","gridColor","fontFamily","useChartTheme","xAxisTitleOffset","useXAxisTitleOffset","maxLabelLength","getTextWidth","fontSize","ticks","Math","min","tickValues","axis","axisBottom","tickSizeInner","tickSizeOuter","tickFormat","renderUpdate","select","_Fragment","style","display","OpenMetadataPanelWrapper","component","lineHeight","domainColor","rotate","visible","useInteraction","RulerInner","RulerContent","xValue","useStyles","makeStyles","theme","position","borderWidth","borderStyle","borderColor","palette","cobalt","pointerEvents","fontWeight","backgroundColor","background","paper","paddingLeft","spacing","paddingRight","classes","className","debug","chartState","onClick","onHover","onHoverOut","useAnnotationInteractions","focusingSegment","voronoiPoints","getVoronoiPoints","delaunay","Delaunay","voronoi","atLeastZero","findVoronoiPoint","e","pointer","handleHover","point","handleClick","_ref2","renderCell","stroke","strokeOpacity","fill","fillOpacity","onMouseOver","onMouseMove","onMouseOut","series","flatMap","length","filter","Number","isNaN","n","TimelineContext","createContext","useTimeline","timeline","useContext","Error","useSyncExternalStore","subscribe","getUpdateKey","componentId","showPlayButton","animationType","animationDuration","useConfiguratorState","hasChartConfigs","dimension","temporal","isTemporalDimension","temporalEntity","isTemporalEntityDimension","temporalOrdinal","isTemporalOrdinalDimension","timeFormatUnit","useTimeFormatUnit","timeUnit","timelineProps","commonProps","msDuration","uniqueValues","truthy","msValues","parseDate","getTime","formatValue","Date","sortingOrders","sortedData","Timeline","dashboardFilters","timeRange","Root","formattedExtent","Box","DISABLE_SCREENSHOT_ATTR","sx","alignItems","gap","mb","mr","PlayButton","Slider","Typography","variant","mt","useEvent","playing","stop","start","Button","minHeight","minWidth","padding","borderRadius","Icon","name","size","root","sliderClasses","thumb","track","timeSlider","useChartInteractiveFilters","setTimeSlider","marks","onChange","setProgress","target","GenericSlider","renderTextInput","step","progress","valueLabelDisplay","valueLabelFormat","formattedValue","clsx"],"sourceRoot":""}