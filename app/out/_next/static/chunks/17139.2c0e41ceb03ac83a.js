"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17139],{17139:function(e,t,r){r.r(t),r.d(t,{ChartAreasVisualization:function(){return ew}});var n=r(17043),i=r(27378),o=r(29401),a=r(45059),l=r(59245),s=r(80491);let c=(e,t,r)=>{let{transition:n}=r;e.selectAll("path").data(t,e=>e.key).join(e=>e.append("path").attr("d",e=>e.dEmpty).attr("fill",e=>e.color).call(e=>(0,s.u5)(e,{transition:n,s:e=>e.attr("d",e=>e.d),t:e=>e.attrTween("d",e=>(0,a.sk)(e.dEmpty,e.d))})),e=>(0,s.u5)(e,{transition:n,s:e=>e.attr("d",e=>e.d).attr("fill",e=>e.color),t:e=>e.attrTween("d",function(e){return(0,a.sk)((0,l.Z)(this).attr("d"),e.d)}).attr("fill",e=>e.color)}),e=>(0,s.u5)(e,{transition:n,s:e=>e.attr("d",e=>e.dEmpty).remove(),t:e=>e.attrTween("d",e=>(0,a.sk)(e.d,e.dEmpty)).remove()}))};var u=r(43137),m=r(83540),f=r(26006),p=r(3663),d=r(80733),g=r(24246);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let O=()=>{let{bounds:e,getX:t,xScale:r,yScale:n,colors:a,series:l}=(0,u.gH)(),{margins:b}=e,{labelFontSize:O,fontFamily:j}=(0,p.$)(),h=(0,i.useRef)(null),v=(0,d.K)(e=>e.enable),x=(0,d.K)(e=>e.duration),w=(0,o.Z)().defined(e=>null!==e[0]&&null!==e[1]&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])).x(e=>r(t(e.data))).y0(e=>n(e[0])).y1(e=>n(e[1])),k=(0,i.useMemo)(()=>l.map(e=>({key:e.key,d:w(e),dEmpty:w(e.map(e=>{let t=y({},e);return t[1]=e[0],t})),color:a(e.key)})),[l,w,a]),P=(0,f.ND)();return(0,i.useEffect)(()=>{let e=h.current;if(e){let t={id:"areas",transform:`translate(${b.left} ${b.top})`,transition:{enable:v,duration:x}};(0,s.sS)(e,y(y({},t),{},{render:(e,t)=>c(e,k,t)})),(0,s.sS)(e,y(y({},t),{},{render:(e,t)=>(0,m.HD)(e,P,y(y({},t),{},{rotate:!1,fontFamily:j,fontSize:O}))}))}},[v,b.left,b.top,k,x,P,O,j]),(0,g.jsx)("g",{ref:h})};var j=r(90089),h=r(23175),v=r(50228),x=r(51894),w=r(9787),k=r(36890),P=r(47626),N=r(67291),D=r(70585),S=r(82965),T=r(91597),Z=r(8379),E=r(43605),M=r.n(E),A=r(60090),C=r(97091);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let $=e=>{let{chartConfig:t,observations:r,dimensionsById:n,measuresById:o,limits:a}=e,{fields:l}=t,{x:s,y:c,segment:m}=l,f=(0,u.Ck)(t),p=(0,u.KJ)(s,{dimensionsById:n}),d=(0,u.rl)("area",c,{measuresById:o}),g=(0,u.HR)(m,{dimensionsById:n,observations:r}),b=(0,u.SU)(t.interactiveFiltersConfig,{dimensionsById:n}),y=(0,u.m$)(a),{getX:O}=p,j=(0,i.useCallback)(e=>[...e].sort((e,t)=>(0,A.Z)(O(e),O(t))),[O]);return H(H(H(H(H(H({},f),{},{sortData:j},p),d),g),b),y)},z=(e,t)=>{let{chartConfig:r,observations:n,limits:i}=e,{sortData:o,xDimension:a,getX:l,getY:s,getSegmentAbbreviationOrLabel:c,getTimeRangeDate:m}=t,f=(0,C.Tq)(n,{getX:l,getY:s});return(0,u.q1)(f,{sortData:o,chartConfig:r,axisDimensionId:a.id,limits:i.limits.map(e=>e.measureLimit),timeRangeDimensionId:a.id,getAxisValueAsDate:l,getSegmentAbbreviationOrLabel:c,getTimeRangeDate:m})};var R=r(86932),_=r(44830),L=r(91160),V=r(70022),F=r(18185),X=r(81364),K=r(93477),U=r(41494),J=r(41282),q=r(8788),G=r(63122),W=r(7673),B=r(98016);let Y=["yOffset"],Q=["children"];function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let er=(e,t,r)=>{let{chartConfig:n,dimensions:o,measures:a}=e,{xDimension:l,getX:s,getXAsString:c,yMeasure:u,getY:m,segmentDimension:p,segmentsByAbbreviationOrLabel:d,getSegment:g,getSegmentAbbreviationOrLabel:b,getSegmentLabel:y,xAxisLabel:O,yAxisLabel:E,minLimitValue:A,maxLimitValue:I}=t,H=(0,C.wu)(u.id),{chartData:$,scalesData:z,segmentData:X,timeRangeData:Q,paddingData:ee,allData:er}=r,{fields:en,interactiveFiltersConfig:ei}=n,{y:eo}=en,{width:ea,height:el}=(0,K.tH)(),es=(0,U.D2)({decimals:"auto"}),ec=(0,F.c)(e),eu=(0,U.z6)(),em=(0,q.bI)(e=>e.calculation.type),ef=(0,i.useMemo)(()=>new Map((p?.values??[]).map(e=>[e.value,e])),[p?.values]),ep=en.segment?.sorting,ed=ep?.sortingType,eg=ep?.sortingOrder,eb=p?.id?n.cubes.find(e=>e.iri===p.cubeIri)?.filters[p.id]:void 0,ey=(0,i.useMemo)(()=>Object.fromEntries((0,h.jJ)(X,e=>(0,v.Z)(e,e=>m(e)),e=>g(e))),[X,m,g]),{allSegments:eO,segments:ej}=(0,i.useMemo)(()=>{let e=Array.from(new Set(X.map(e=>g(e)))),t=Array.from(new Set(z.map(e=>g(e)))),r=(0,W.tf)(p,{sorting:ep,sumsBySegment:ey,useAbbreviations:en.segment?.useAbbreviations,dimensionFilter:eb}),n=M()(e,r,(0,W.jS)(r,ep));return{allSegments:n,segments:n.filter(e=>t.includes(e))}},[X,z,ey,p,ep,eb,g,en.segment?.useAbbreviations]),eh=en.x.componentId,ev=(0,i.useMemo)(()=>Object.fromEntries((0,h.jJ)($,e=>(0,v.Z)(e,e=>m(e)),e=>c(e))),[$,c,m]),ex="percent"===em,ew=(0,i.useMemo)(()=>ex?(0,h.ZP)((0,C.Fi)($,{key:u.id,getAxisValue:m,getTotalGroupValue:e=>ev[c(e)]}),c):(0,h.ZP)($,c),[ex,$,c,u.id,m,ev]),ek=(0,i.useMemo)(()=>(0,C.gS)({dataGrouped:ew,key:eh,getAxisValue:m,getSegment:g,allSegments:ej,imputationType:en.y.imputationType}),[g,m,ew,ej,eh,en.y.imputationType]),eP=(0,i.useMemo)(()=>{let e="byTotalSize"===ed&&"asc"===eg?D.Z:"byTotalSize"===ed&&"desc"===eg?S.Z:T.Z;return(0,Z.Z)().order(e).offset(C.o$).keys(ej)(ek)},[ek,eg,ed,ej]),{colors:eN,xScale:eD,xScaleTimeRange:eS}=(0,i.useMemo)(()=>{let e=(0,x.Z)(z,e=>s(e)),t=(0,w.Z)().domain(e),r=(0,x.Z)(Q,e=>s(e)),n=(0,w.Z)().domain(r),i=(0,k.Z)();if(p&&en.color?.type==="segment"){let e=en.color,t=eO.map(t=>{let r=d.get(t)?.value??ef.get(t)?.value??"";return{label:t,color:e.colorMapping[r]??N.Z[0]}});i.domain(t.map(e=>e.label)),i.range(t.map(e=>e.color))}else i.domain(eO),i.range((0,J.XN)({paletteId:en.color?.paletteId,colorField:en.color}));return i.unknown(()=>void 0),{colors:i,xScale:t,xScaleTimeRange:n}},[en.color,s,z,Q,d,ef,eO,p]),eT=(0,i.useMemo)(()=>(0,V._4)(z,{normalize:ex,getX:c,getY:m,minLimitValue:A,maxLimitValue:I,customDomain:eo.customDomain}),[z,ex,c,m,A,I,eo.customDomain]),eZ=(0,i.useMemo)(()=>{if(ei.calculation.active){let e=(0,V._4)(ee,{normalize:!1,getX:c,getY:m,minLimitValue:A,maxLimitValue:I,customDomain:eo.customDomain});return e.domain()[1]<100&&e.domain()[0]>-100?(0,P.Z)().domain([0,100]):e}return(0,V._4)(ee,{normalize:ex,getX:c,getY:m,minLimitValue:A,maxLimitValue:I,customDomain:eo.customDomain})},[ei.calculation.active,ee,ex,c,m,A,I,eo.customDomain]),{top:eE,left:eM,bottom:eA}=(0,R.u8)({xLabelPresent:!!O,yScale:eZ,width:ea,height:el,interactiveFiltersConfig:ei,formatNumber:es,normalize:ex}),eC=(0,R.vG)({width:ea,left:eM,right:40});eD.range([0,eC]),eS.range([0,eC]);let eI=(0,R.Ti)({label:E,width:ea}),eH=(0,R.Ti)({label:O,width:ea}),e$=(0,f.II)(eo,{dimensions:o,measures:a,segment:en.segment}),{yOffset:ez}=e$,eR=(0,j.Z)(e$,Y),e_={top:L.L+eE+eI.offset+ez,right:40,bottom:eA,left:eM},eL=(0,R.dE)({width:ea,chartWidth:eC,height:el,margins:e_}),{chartHeight:eV}=eL;eT.range([eV,0]);let eF=(0,B.d)(),eX=(0,i.useCallback)((e,t)=>{let{segment:r}=t;return{x:eD(s(e)),y:(0,V.R0)({observation:e,series:eP,key:eh,getAxisValue:c,measureScale:eT,fallbackMeasureValue:eT(m(e)??0),segment:r}),color:r?eN(r):void 0}},[eD,s,eP,eh,c,eT,m,eN]),eK=(0,i.useCallback)(e=>{let t=c(e),r=ew.get(t)??[],n=r.map(m),i=(0,G.h)({data:r,order:ej,getCategory:g,sortingOrder:"asc"}),o=(0,V.S8)({normalize:ex,measureId:u.id,measureUnit:u.unit,formatters:ec,formatNumber:es}),a=eD(s(e)),f=n.every(e=>Number.isNaN(e))?NaN:ex?.5*eT.range()[0]:eT((0,v.Z)(n)*(en.segment?.5:1)),p=eF?eV:f,d=eF?_.h0:(0,_.Y7)({chartWidth:eC,xAnchor:a,topAnchor:!en.segment});return{xAnchor:a,yAnchor:p,placement:d,value:eu(s(e),l.timeUnit),datum:{label:en.segment&&b(e),value:o(m(e),H(e)),color:eN(g(e))},values:i.map(e=>{let t=g(e),r=(0,V.R0)({observation:e,series:eP,key:eh,getAxisValue:c,measureScale:eT,fallbackMeasureValue:eT(m(e)??0),segment:t});return{label:b(e),value:o(m(e),H(e)),axis:"y",axisOffset:r,color:eN(t)}})}},[c,ew,m,ej,g,ex,u.id,u.unit,ec,es,eD,s,eT,en.segment,eF,eV,eC,eu,l.timeUnit,b,H,eN,eP,eh]);return et(et({chartType:"area",bounds:eL,chartData:$,allData:er,xScale:eD,xScaleTimeRange:eS,yScale:eT,segments:ej,colors:eN,getColorLabel:y,chartWideData:ek,series:eP,getAnnotationInfo:eX,getTooltipInfo:eK,leftAxisLabelSize:eI,leftAxisLabelOffsetTop:eE,bottomAxisLabelSize:eH},eR),t)},en=e=>{let{children:t}=e,r=(0,j.Z)(e,Q),n=$(r),i=z(r,n),o=er(r,n,i);return(0,g.jsx)(u._M.Provider,{value:o,children:t})},ei=e=>(0,g.jsx)(X.o,{children:(0,g.jsx)(en,et({},e))});var eo=r(93226),ea=r(93730),el=r(35696),es=r(48660),ec=r(43334),eu=r(50057),em=r(50051),ef=r(83001),ep=r(36831),ed=r(83002),eg=r(18984),eb=r(80750),ey=r(38671),eO=r(12273),ej=r(62500),eh=r(25390);function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let ew=e=>(0,g.jsx)(eo.F,ex(ex({},e),{},{Component:ek})),ek=(0,i.memo)(e=>{let{chartConfig:t,dimensions:r,measures:n,dimensionsById:i}=e,{fields:o,interactiveFiltersConfig:a}=t,l=(0,eh.sH)({chartConfig:t,dimensions:r,measures:n}),s=(0,ea.I4)();return(0,g.jsxs)(ei,ex(ex({},e),{},{limits:l,children:[(0,g.jsxs)(ef.BO,{children:[(0,g.jsxs)(ef.ST,{children:[(0,g.jsx)(es.aP,{}),(0,g.jsx)(ec.p,{}),(0,g.jsx)(eu._,{}),(0,g.jsx)(eu.C,{}),(0,g.jsx)(O,{}),(0,g.jsx)(ey.x,ex({},l)),s?(0,g.jsx)(ej.w,{}):(0,g.jsx)(eO.g,{}),a.timeRange.active&&(0,g.jsx)(em.j,{})]}),s?(0,g.jsx)(ep.r,{}):(0,g.jsx)(eg.u,{type:o.segment?"multiple":"single"}),(0,g.jsx)(ed.x,{})]}),(0,g.jsx)(el.u,{}),(o.segment||l.limits.length>0)&&(0,g.jsx)(ef.dt,{children:(0,g.jsx)(eb.Ek,{chartConfig:t,symbol:"square",interactive:a.legend.active,showTitle:o.segment?.showTitle,dimensionsById:i,limits:l})})]}))})},50057:function(e,t,r){r.d(t,{C:function(){return d},_:function(){return p}});var n=r(27454),i=r(27378),o=r(86932),a=r(43137),l=r(80491),s=r(3663),c=r(97358),u=r(41494),m=r(80733),f=r(24246);let p=()=>{let e=(0,i.useRef)(null),t=(0,m.K)(e=>e.enable),r=(0,m.K)(e=>e.duration),p=(0,u.iJ)(),{xScale:d,yScale:g,bounds:b,xDimension:y,xAxisLabel:O,bottomAxisLabelSize:j}=(0,a.gH)(),{chartHeight:h,chartWidth:v,margins:x}=b,{labelColor:w,gridColor:k,domainColor:P,labelFontSize:N,fontFamily:D,axisLabelFontSize:S}=(0,s.$)(),T=(0,o.Fc)(),Z=g.domain()[0]<0,E=b.chartWidth/90;return(0,i.useEffect)(()=>{if(e.current){let i=(0,n.LL)(d).ticks(E).tickSizeInner(Z?-h:6).tickPadding(Z?6:3).tickFormat(e=>p(e)),o=(0,l.sS)(e.current,{id:"axis-width-time",transform:`translate(${x.left} ${h+x.top})`,transition:{enable:t,duration:r},render:e=>e.call(i),renderUpdate:(e,t)=>(0,l.u5)(e,{transition:t.transition,s:e=>e.call(i)})});o.select(".domain").remove(),o.selectAll(".tick line").attr("stroke",Z?k:P),o.selectAll(".tick text").attr("font-size",N).attr("font-family",D).attr("fill",w)}},[h,P,t,D,p,k,Z,w,N,x.left,x.top,E,r,d]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("foreignObject",{x:x.left+v/2-j.width/2,y:x.top+h+T,width:v,height:j.height,style:{display:"flex"},children:(0,f.jsx)(c.K,{component:y,children:(0,f.jsx)("span",{style:{fontSize:S,lineHeight:1.5},children:O})})}),(0,f.jsx)("g",{ref:e})]})},d=()=>{let e=(0,i.useRef)(null),t=(0,m.K)(e=>e.enable),r=(0,m.K)(e=>e.duration),{xScale:o,yScale:c,bounds:u}=(0,a.gH)(),{chartHeight:p,margins:d}=u,{domainColor:g}=(0,s.$)();return(0,i.useEffect)(()=>{if(e.current){let i=(0,n.LL)(o).tickSizeOuter(0),a=(0,l.sS)(e.current,{id:"axis-width-time-domain",transform:`translate(${d.left} ${p+d.top})`,transition:{enable:t,duration:r},render:e=>e.call(i),renderUpdate:(e,t)=>(0,l.u5)(e,{transition:t.transition,s:e=>e.call(i)})});a.selectAll(".tick line").remove(),a.selectAll(".tick text").remove(),a.select(".domain").attr("transform",`translate(0, -${u.chartHeight-c(0)})`).attr("stroke",g).attr("stroke-linecap","round")}}),(0,f.jsx)("g",{ref:e})}},83002:function(e,t,r){r.d(t,{x:function(){return s}});var n=r(64986),i=r(43137),o=r(81364),a=r(98016),l=r(24246);let s=e=>{let{rotate:t=!1}=e,[{type:r,visible:n,observation:i}]=(0,o.X)();return(0,l.jsx)(l.Fragment,{children:"tooltip"===r&&n&&i&&(0,l.jsx)(c,{d:i,rotate:t})})},c=e=>{let{d:t,rotate:r}=e,{getTooltipInfo:n,bounds:o}=(0,i.gH)(),{xAnchor:a,value:s,datum:c,placement:u,values:f}=n(t);return(0,l.jsx)(m,{rotate:r,xValue:s,values:f,chartHeight:o.chartHeight,margins:o.margins,xAnchor:a,datum:c,placement:u})},u=(0,n.Z)(e=>({left:{width:0,position:"absolute",borderWidth:.5,borderStyle:"solid",borderColor:e.palette.cobalt[50],pointerEvents:"none",transform:"translateX(-50%)"},right:{position:"absolute",fontWeight:"bold",backgroundColor:e.palette.background.paper,transform:e=>{let{rotate:t}=e;return t?"translateX(-50%) translateY(50%) rotate(90deg)":"translateX(-50%)"},paddingLeft:e.spacing(1),paddingRight:e.spacing(1),fontSize:"0.875rem"}})),m=e=>{let{rotate:t,xValue:r,chartHeight:n,margins:i,xAnchor:o}=e,s=u({rotate:t}),c=(0,a.d)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:s.left,style:{height:n,left:o+i.left,top:i.top}}),!c&&(0,l.jsx)("div",{className:s.right,style:{left:o+i.left,top:n+i.top+6},children:r})]})}},38671:function(e,t,r){r.d(t,{x:function(){return c}});var n=r(17043),i=r(27378),o=r(43137),a=r(40964),l=r(24246);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let c=e=>{let t=(0,o.gH)(),r=(0,i.useMemo)(()=>(0,a.x)({isHorizontal:!1,getChartState:()=>t}),[t]);return(0,l.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))};c.displayName="VerticalLimits"},12273:function(e,t,r){r.d(t,{g:function(){return u}});var n=r(99714),i=r(28810),o=r(27378),a=r(43137),l=r(81364),s=r(77142),c=r(24246);let u=(0,o.memo)(function(){let{chartData:e,chartWideData:t,xScale:r,getX:u,getTooltipInfo:m,bounds:{chartWidth:f,chartHeight:p,margins:d}}=(0,a.gH)(),[g,b]=(0,l.X)(),y=(0,o.useRef)(null),O=(0,s.z)(()=>{b({type:"INTERACTION_HIDE"})}),j=(0,o.useCallback)(o=>{if(!y.current)return;let[a,l]=(0,i.Z)(o,y.current),s=(0,n.Z)((e,t)=>u(e).getTime()-t.getTime()).left,c=r.invert(a),f=s(t,c,1),p=t[f-1],d=t[f]??p,j=c.getTime()-u(p).getTime()>u(d).getTime()-c.getTime()?d:p,h=j?m(j).yAnchor:void 0;if(!j||Number.isNaN(h)||void 0===h){g.visible&&O();return}let v=u(j).getTime(),x=e.find(e=>v===u(e).getTime());g.observation&&v===u(g.observation).getTime()&&g.visible||b({type:"INTERACTION_UPDATE",value:{type:"tooltip",visible:!0,observation:x,mouse:{x:a,y:l}}})},[e,t,b,m,u,O,g.observation,g.visible,r]);return(0,c.jsx)("g",{ref:y,transform:`translate(${d.left} ${d.top})`,children:(0,c.jsx)("rect",{width:f,height:p,fillOpacity:0,onMouseOut:O,onMouseOver:j,onMouseMove:j})})})},62500:function(e,t,r){r.d(t,{w:function(){return c}});var n=r(16315),i=r(28810),o=r(27378),a=r(43137),l=r(40907),s=r(24246);let c=(0,o.memo)(function(e){let{debug:t}=e,r=(0,o.useRef)(null),c=(0,a.gH)(),{bounds:{chartWidth:f,chartHeight:p,margins:d},getSegment:g,colors:b}=c,{onClick:y,onHover:O,onHoverOut:j}=(0,l.A)({focusingSegment:!0}),h=(0,o.useMemo)(()=>u(c),[c]),v=(0,o.useMemo)(()=>n.Z.from(h,e=>e.x,e=>e.y),[h]),x=(0,o.useMemo)(()=>v.voronoi([0,0,m(f),m(p)]),[f,p,v]),w=(0,o.useCallback)(e=>{if(!r.current)return;let[t,n]=(0,i.Z)(e,r.current);return h[v.find(t,n)]},[h,v]),k=(0,o.useCallback)(e=>{let t=w(e);t&&O(t.observation,{segment:t.segment})},[w,O]),P=(0,o.useCallback)(e=>{let t=w(e);t&&y(t.observation,{segment:t.segment})},[w,y]);return(0,s.jsxs)("g",{ref:r,transform:`translate(${d.left} ${d.top})`,children:[t&&h.map((e,t)=>{let{observation:r}=e;return(0,s.jsx)("path",{d:x.renderCell(t),stroke:"white",strokeOpacity:1,fill:b(g(r)),fillOpacity:.2},t)}),(0,s.jsx)("rect",{width:f,height:p,fillOpacity:0,onMouseOver:k,onMouseMove:k,onMouseOut:j,onClick:P})]})}),u=e=>{let{chartData:t,xScale:r,getX:n,yScale:i,getY:o,getSegment:a}=e;switch(e.chartType){case"area":{let{series:t}=e;return t.flatMap(e=>{let o=e.key;return e.map(e=>{let a=e.data;return{x:r(n(a)??NaN),y:i(1===t.length?e[0]:(e[0]+e[1])*.5),observation:a,segment:o}}).filter(e=>!Number.isNaN(e.x)&&!Number.isNaN(e.y))})}case"line":case"scatterplot":return t.map(e=>{let t=a(e);return{observation:e,x:r(n(e)??NaN),y:i(o(e)??NaN),segment:t}}).filter(e=>!Number.isNaN(e.x)&&!Number.isNaN(e.y));default:return e}},m=e=>e<0?0:e}}]);
//# sourceMappingURL=17139.2c0e41ceb03ac83a.js.map