"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33873],{35397:function(t,e,r){r.r(e),r.d(e,{ChartComboLineSingleVisualization:function(){return V}});var n=r(17043),i=r(27378),o=r(93226),l=r(62196),a=r(43137),c=r(24246);let u=()=>{let{chartData:t,xScale:e,getX:r,yScale:n,y:i,colors:o,bounds:u}=(0,a.gH)();return(0,c.jsx)("g",{transform:`translate(${u.margins.left} ${u.margins.top})`,children:i.lines.map(i=>{let{id:a,getY:u}=i,f=(0,l.Z)().defined(t=>{let e=u(t);return null!==e&&!isNaN(e)}).x(t=>e(r(t))).y(t=>n(u(t)));return(0,c.jsx)(s,{path:f(t),color:o(a)},a)})})},s=(0,i.memo)(function(t){let{path:e,color:r}=t;return(0,c.jsx)("path",{d:e,stroke:r,fill:"none"})});var f=r(90089),p=r(94335),m=r(67291),d=r(93603),g=r(68966),h=r(97091);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let O=t=>{let{chartConfig:e,dimensionsById:r,measuresById:n}=t,{fields:o}=e,{x:l}=o,c=(0,a.Ck)(e),u=(0,a.KJ)(l,{dimensionsById:r}),s=(0,a.SU)(e.interactiveFiltersConfig,{dimensionsById:r}),f={y:{lines:e.fields.y.componentIds.map(t=>({dimension:n[t],id:t,label:n[t].label,color:o.color.colorMapping[t],getY:e=>null!==e[t]?Number(e[t]):null,getMinY:e=>{let r=(0,d.Z)(e,e=>null!==e[t]?Number(e[t]):null)??0;return(0,a._s)(n[t].scaleType)?r:Math.min(0,r)}}))}},{getX:p}=u,m=(0,i.useCallback)(t=>(0,g.E)(t,{getX:p}),[p]);return b(b(b(b({},c),{},{sortData:m},u),f),s)},j=(t,e)=>{let{chartConfig:r,observations:n}=t,{sortData:i,xDimension:o,getX:l,y:c,getTimeRangeDate:u}=e,s=(0,h.Tq)(n,{getX:l,getY:t=>{for(let{getY:e}of c.lines){let r=e(t);if(null!==r)return r}}});return(0,a.q1)(s,{sortData:i,chartConfig:r,timeRangeDimensionId:o.id,getAxisValueAsDate:l,getTimeRangeDate:u})};var x=r(64479),v=r(86932),k=r(44830),w=r(81364),P=r(17510),A=r(98016);let T=["children"];function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let M=(t,e,r)=>{let{chartConfig:n,measuresById:i}=t,{xDimension:o,getX:l,getXAsString:a,xAxisLabel:c}=e,{chartData:u,scalesData:s,timeRangeData:f,paddingData:d,allData:g}=r,{fields:h,interactiveFiltersConfig:y}=n,b=Array.from(new Set(e.y.lines.map(t=>i[t.id].unit)));if(b.length>1)throw Error("Multiple units are not supported in ComboLineSingle chart!");let O=b[0]??"",j=h.x.componentId,{width:w,height:T,formatNumber:S,timeFormatUnit:M,chartWideData:D,xScaleTime:E,xScaleTimeRange:_,colors:N}=(0,x.tF)({chartData:u,timeRangeData:f,xKey:j,getXAsDate:l,getXAsString:a,yGetters:e.y.lines,computeTotal:!0}),{yScale:Z,paddingYScale:F}=(0,x.ne)({scalesData:s,paddingData:d,getY:e.y.lines.map(t=>t.getY),getMinY:e.y.lines.map(t=>t.getMinY)}),{top:L,left:$,bottom:H}=(0,v.u8)({xLabelPresent:!!c,yScale:F,width:w,height:T,interactiveFiltersConfig:y,formatNumber:S}),I=(0,x.o_)({top:L,left:$,bottom:H}),z=(0,v.Ti)({label:O,width:w}),Y=(0,v.Ti)({label:c,width:w}),R=(0,v.vG)({width:w,left:I.left,right:I.right}),K=(0,v.dE)({width:w,chartWidth:R,height:T,margins:I}),{chartHeight:V}=K,U=[E,_],X=[Z];(0,x.WX)(U,X,{chartWidth:R,chartHeight:V});let q=(0,A.d)();return C({chartType:"comboLineSingle",xKey:j,bounds:K,chartData:u,allData:g,xScale:E,xScaleTimeRange:_,yScale:Z,yAxisLabel:O,colors:N,getColorLabel:t=>t,chartWideData:D,getTooltipInfo:t=>{let r=l(t),n=E(r),i=e.y.lines.map(e=>{let{getY:r,id:n,label:i}=e,o=r(t);return Number.isFinite(o)&&null!==o?{label:i,value:`${o}`,color:N(n),axis:"y",axisOffset:Z(o??0),symbol:"line"}:null}).filter(P.y),a=q?V:(0,p.Z)(i.map(t=>t.axisOffset))??V,c=q?k.h0:(0,k.Y7)({chartWidth:R,xAnchor:n,topAnchor:!1});return{datum:{label:"",value:"0",color:m.Z[0]},xAnchor:n,yAnchor:a,value:M(r,o.timeUnit),placement:c,values:i}},leftAxisLabelSize:z,leftAxisLabelOffsetTop:L,bottomAxisLabelSize:Y},e)},D=t=>{let{children:e}=t,r=(0,f.Z)(t,T),n=O(r),i=j(r,n),o=M(r,n,i);return(0,c.jsx)(a._M.Provider,{value:o,children:e})},E=t=>(0,c.jsx)(w.o,{children:(0,c.jsx)(D,C({},t))});var _=r(48660),N=r(50057),Z=r(50051),F=r(83001),L=r(68807),$=r(83002),H=r(18984),I=r(12273),z=r(71238),Y=r(27102);function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let V=t=>(0,c.jsx)(o.F,K(K({},t),{},{Component:U})),U=(0,i.memo)(t=>{let{chartConfig:e}=t,{interactiveFiltersConfig:r}=e,[{dashboardFilters:n}]=(0,Y.lY)(z.Sc);return(0,c.jsx)(E,K(K({},t),{},{children:(0,c.jsxs)(F.BO,{children:[(0,c.jsxs)(F.ST,{children:[(0,c.jsx)(_.aP,{})," ",(0,c.jsx)(N._,{})," ",(0,c.jsx)(N.C,{}),(0,c.jsx)(u,{}),(0,c.jsx)(I.g,{}),(0,Z.O)(r,n?.timeRange)&&(0,c.jsx)(Z.j,{})]}),(0,c.jsx)(L.N,{}),(0,c.jsx)($.x,{}),(0,c.jsx)(H.u,{type:"multiple"})]})}))})},50057:function(t,e,r){r.d(e,{C:function(){return d},_:function(){return m}});var n=r(27454),i=r(27378),o=r(86932),l=r(43137),a=r(80491),c=r(3663),u=r(97358),s=r(41494),f=r(80733),p=r(24246);let m=()=>{let t=(0,i.useRef)(null),e=(0,f.K)(t=>t.enable),r=(0,f.K)(t=>t.duration),m=(0,s.iJ)(),{xScale:d,yScale:g,bounds:h,xDimension:y,xAxisLabel:b,bottomAxisLabelSize:O}=(0,l.gH)(),{chartHeight:j,chartWidth:x,margins:v}=h,{labelColor:k,gridColor:w,domainColor:P,labelFontSize:A,fontFamily:T,axisLabelFontSize:S}=(0,c.$)(),C=(0,o.Fc)(),M=g.domain()[0]<0,D=h.chartWidth/90;return(0,i.useEffect)(()=>{if(t.current){let i=(0,n.LL)(d).ticks(D).tickSizeInner(M?-j:6).tickPadding(M?6:3).tickFormat(t=>m(t)),o=(0,a.sS)(t.current,{id:"axis-width-time",transform:`translate(${v.left} ${j+v.top})`,transition:{enable:e,duration:r},render:t=>t.call(i),renderUpdate:(t,e)=>(0,a.u5)(t,{transition:e.transition,s:t=>t.call(i)})});o.select(".domain").remove(),o.selectAll(".tick line").attr("stroke",M?w:P),o.selectAll(".tick text").attr("font-size",A).attr("font-family",T).attr("fill",k)}},[j,P,e,T,m,w,M,k,A,v.left,v.top,D,r,d]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("foreignObject",{x:v.left+x/2-O.width/2,y:v.top+j+C,width:x,height:O.height,style:{display:"flex"},children:(0,p.jsx)(u.K,{component:y,children:(0,p.jsx)("span",{style:{fontSize:S,lineHeight:1.5},children:b})})}),(0,p.jsx)("g",{ref:t})]})},d=()=>{let t=(0,i.useRef)(null),e=(0,f.K)(t=>t.enable),r=(0,f.K)(t=>t.duration),{xScale:o,yScale:u,bounds:s}=(0,l.gH)(),{chartHeight:m,margins:d}=s,{domainColor:g}=(0,c.$)();return(0,i.useEffect)(()=>{if(t.current){let i=(0,n.LL)(o).tickSizeOuter(0),l=(0,a.sS)(t.current,{id:"axis-width-time-domain",transform:`translate(${d.left} ${m+d.top})`,transition:{enable:e,duration:r},render:t=>t.call(i),renderUpdate:(t,e)=>(0,a.u5)(t,{transition:e.transition,s:t=>t.call(i)})});l.selectAll(".tick line").remove(),l.selectAll(".tick text").remove(),l.select(".domain").attr("transform",`translate(0, -${s.chartHeight-u(0)})`).attr("stroke",g).attr("stroke-linecap","round")}}),(0,p.jsx)("g",{ref:t})}},12273:function(t,e,r){r.d(e,{g:function(){return s}});var n=r(99714),i=r(28810),o=r(27378),l=r(43137),a=r(81364),c=r(77142),u=r(24246);let s=(0,o.memo)(function(){let{chartData:t,chartWideData:e,xScale:r,getX:s,getTooltipInfo:f,bounds:{chartWidth:p,chartHeight:m,margins:d}}=(0,l.gH)(),[g,h]=(0,a.X)(),y=(0,o.useRef)(null),b=(0,c.z)(()=>{h({type:"INTERACTION_HIDE"})}),O=(0,o.useCallback)(o=>{if(!y.current)return;let[l,a]=(0,i.Z)(o,y.current),c=(0,n.Z)((t,e)=>s(t).getTime()-e.getTime()).left,u=r.invert(l),p=c(e,u,1),m=e[p-1],d=e[p]??m,O=u.getTime()-s(m).getTime()>s(d).getTime()-u.getTime()?d:m,j=O?f(O).yAnchor:void 0;if(!O||Number.isNaN(j)||void 0===j){g.visible&&b();return}let x=s(O).getTime(),v=t.find(t=>x===s(t).getTime());g.observation&&x===s(g.observation).getTime()&&g.visible||h({type:"INTERACTION_UPDATE",value:{type:"tooltip",visible:!0,observation:v,mouse:{x:l,y:a}}})},[t,e,h,f,s,b,g.observation,g.visible,r]);return(0,u.jsx)("g",{ref:y,transform:`translate(${d.left} ${d.top})`,children:(0,u.jsx)("rect",{width:p,height:m,fillOpacity:0,onMouseOut:b,onMouseOver:O,onMouseMove:O})})})},27454:function(t,e,r){function n(t){return t}function i(t){return"translate("+t+",0)"}function o(t){return"translate(0,"+t+")"}function l(){return!this.__axis}function a(t,e){var r=[],a=null,c=null,u=6,s=6,f=3,p="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,m=1===t||4===t?-1:1,d=4===t||2===t?"x":"y",g=1===t||3===t?i:o;function h(i){var o=null==a?e.ticks?e.ticks.apply(e,r):e.domain():a,h=null==c?e.tickFormat?e.tickFormat.apply(e,r):n:c,y=Math.max(u,0)+f,b=e.range(),O=+b[0]+p,j=+b[b.length-1]+p,x=(e.bandwidth?function(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}:function(t){return e=>+t(e)})(e.copy(),p),v=i.selection?i.selection():i,k=v.selectAll(".domain").data([null]),w=v.selectAll(".tick").data(o,e).order(),P=w.exit(),A=w.enter().append("g").attr("class","tick"),T=w.select("line"),S=w.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(A),T=T.merge(A.append("line").attr("stroke","currentColor").attr(d+"2",m*u)),S=S.merge(A.append("text").attr("fill","currentColor").attr(d,m*y).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),i!==v&&(k=k.transition(i),w=w.transition(i),T=T.transition(i),S=S.transition(i),P=P.transition(i).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=x(t))?g(t+p):this.getAttribute("transform")}),A.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return g((e&&isFinite(e=e(t))?e:x(t))+p)})),P.remove(),k.attr("d",4===t||2===t?s?"M"+m*s+","+O+"H"+p+"V"+j+"H"+m*s:"M"+p+","+O+"V"+j:s?"M"+O+","+m*s+"V"+p+"H"+j+"V"+m*s:"M"+O+","+p+"H"+j),w.attr("opacity",1).attr("transform",function(t){return g(x(t)+p)}),T.attr(d+"2",m*u),S.attr(d,m*y).text(h),v.filter(l).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),v.each(function(){this.__axis=x})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return r=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(r=null==t?[]:Array.from(t),h):r.slice()},h.tickValues=function(t){return arguments.length?(a=null==t?null:Array.from(t),h):a&&a.slice()},h.tickFormat=function(t){return arguments.length?(c=t,h):c},h.tickSize=function(t){return arguments.length?(u=s=+t,h):u},h.tickSizeInner=function(t){return arguments.length?(u=+t,h):u},h.tickSizeOuter=function(t){return arguments.length?(s=+t,h):s},h.tickPadding=function(t){return arguments.length?(f=+t,h):f},h.offset=function(t){return arguments.length?(p=+t,h):p},h}function c(t){return a(2,t)}function u(t){return a(3,t)}function s(t){return a(4,t)}r.d(e,{LL:function(){return u},y4:function(){return s},Kh:function(){return c}})},4405:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(28810),i=r(41084);function o(t,e){return t.target&&(t=(0,i.Z)(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>(0,n.Z)(t,e))}},91648:function(t,e,r){function n(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}r.d(e,{Z:function(){return n}}),Array.prototype.slice},1058:function(t,e,r){r.d(e,{Z:function(){return n}});function n(t){return function(){return t}}}}]);
//# sourceMappingURL=33873.45edf54017f91178.js.map