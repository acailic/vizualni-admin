"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74174],{74174:function(e,t,r){r.r(t),r.d(t,{ChartPieVisualization:function(){return ed}});var n=r(17043),a=r(27378),o=r(93226),l=r(59245),i=r(93461),s=r(80491);let u=(e,t,r)=>{let{arcGenerator:n,transition:a,onClick:o,onHover:l,onHoverOut:i}=r;e.selectAll("path").data(t,e=>e.key).join(e=>e.append("path").attr("data-index",(e,t)=>t).attr("fill",e=>e.color).attr("stroke","black").attr("stroke-width",0).on("click",(e,t)=>{o(t.arcDatum.data,{segment:t.segment})}).on("mouseenter",function(e,t){l(this,t.arcDatum.data,{segment:t.segment})}).on("mouseleave",function(){i(this)}).call(e=>(0,s.u5)(e,{transition:a,s:e=>e.attr("d",e=>n(e.arcDatum)),t:e=>e.call(c,n)})),e=>e.call(e=>(0,s.u5)(e,{transition:a,s:e=>e.attr("d",e=>n(e.arcDatum)).attr("fill",e=>e.color),t:e=>e.call(c,n).attr("fill",e=>e.color)})),e=>(0,s.u5)(e,{transition:a,s:e=>e.attr("d",e=>n(e.arcDatum)).remove(),t:e=>e.call(c,n).remove()}))},c=(e,t)=>e.attrTween("d",function(e){let r=this,n=r.__d__,a=(0,i.Z)(n??e.arcDatum,e.arcDatum);return e=>(r.__d__=a(e),t(r.__d__))});var p=r(43137),d=r(26006),m=r(3663),f=r(17510),y=r(87358);let b=(e,t)=>{let{dimensions:r,measures:n}=t,{showValues:a=!1}=e,o=n.find(t=>t.id===e.componentId);if(!o)throw Error(`No dimension <${e.componentId}> in cube! (useShowTemporalValueLabelsVariables)`);return{showValues:a,valueLabelFormatter:(0,d.wI)({measureId:o.id,dimensions:r,measures:n})}},h=e=>{let{renderData:t,outerRadius:r}=e,{bounds:{width:n,height:o},showValues:l,valueLabelFormatter:i}=(0,p.gH)(),{labelFontSize:s}=(0,m.$)(),u=(0,a.useMemo)(()=>t.reduce((e,t,r)=>{let n=i(t.value),a=(0,y.m)(n,{fontSize:s});return e[r]=a,e},{}),[t,i,s]);return(0,a.useMemo)(()=>{if(!l||!n||!o)return[];let e=[];return t.map((t,a)=>{let o=u[a]??0,l=(t.arcDatum.startAngle+t.arcDatum.endAngle-Math.PI)/2,c=Math.sin(l),p=Math.cos(l),m=r+1.5*Math.min(36,Math.max(12+o,24)),f=m*p,y=i(t.value),b={key:t.key,x:f,y:m*c,valueLabel:y,width:o,connector:{x1:(r+8)*p,y1:(r+8)*c}};return(0,d.Yf)({previousArray:e,current:b,labelHeight:s})||f-o/2<-n/2||f+o/2>n/2?null:(e.push(b),b)}).filter(f.y)},[l,n,o,t,u,r,i,s])},g=(e,t,r)=>{let{transition:n}=r;e.selectAll("line").data(t,e=>e.key).join(e=>e.append("line").attr("x1",e=>e.connector.x1).attr("y1",e=>e.connector.y1).attr("x2",e=>e.connector.x1).attr("y2",e=>e.connector.y1).attr("stroke","black").style("opacity",0).call(e=>(0,s.u5)(e,{transition:n,s:e=>e.attr("x1",e=>e.connector.x1).attr("y1",e=>e.connector.y1).attr("x2",e=>e.x).attr("y2",e=>e.y-4).style("opacity",1)})),e=>(0,s.u5)(e,{s:e=>e.attr("x1",e=>e.connector.x1).attr("y1",e=>e.connector.y1).attr("x2",e=>e.x).attr("y2",e=>e.y-4).style("opacity",1),transition:n}),e=>(0,s.u5)(e,{transition:n,s:e=>e.style("opacity",0).remove()}))};var v=r(93730),j=r(83540),O=r(40907),x=r(80733),w=r(77142),P=r(24246);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let M=()=>{let{bounds:{width:e,height:t},arcs:r,arcGenerator:n,outerRadius:o,getSegment:i,colors:c,getRenderingKey:d,getY:f}=(0,p.gH)(),y=(0,v.I4)(),{labelFontSize:b,fontFamily:D}=(0,m.$)(),M=(0,x.K)(e=>e.enable),S=(0,x.K)(e=>e.duration),I=(0,a.useRef)(null),Z=(0,a.useRef)(null),E=(0,a.useRef)(null),T=(0,a.useMemo)(()=>r.map(e=>{let t=f(e.data),r=i(e.data);return{key:d(e.data),value:null===t||isNaN(t)?0:t,arcDatum:e,color:c(r),segment:r}}),[r,f,i,d,c]),{onClick:$,onHover:_,onHoverOut:H}=(0,O.A)({focusingSegment:!0}),A=(0,w.z)((e,t,r)=>{let{segment:n}=r;y||(0,l.Z)(e).attr("stroke","black").attr("stroke-width",1),_(t,{segment:n})}),z=(0,w.z)(e=>{y||(0,l.Z)(e).attr("stroke","black").attr("stroke-width",0),H()}),C=h({renderData:T,outerRadius:o});return(0,a.useEffect)(()=>{let r=I.current,a=Z.current,o=E.current;if(r&&a&&o){let l={transform:`translate(${e/2} ${t/2})`,transition:{enable:M,duration:S}};(0,s.sS)(r,k(k({},l),{},{id:"pies",render:(e,t)=>u(e,T,k(k({},t),{},{arcGenerator:n,onClick:$,onHover:A,onHoverOut:z}))})),(0,s.sS)(o,k(k({},l),{},{id:"connectors",render:(e,t)=>g(e,C,k({},t))})),(0,s.sS)(a,k(k({},l),{},{id:"labels",render:(e,t)=>(0,j.HD)(e,C,k(k({},t),{},{rotate:!1,dx:0,dy:0,fontFamily:D,fontSize:b,strokeWidth:8}))}))}},[n,M,D,A,z,t,b,$,_,H,T,S,C,e]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("g",{ref:I}),(0,P.jsx)("g",{ref:E}),(0,P.jsx)("g",{ref:Z})]})};var S=r(90089),I=r(50228),Z=r(60090),E=r(36890),T=r(67291),$=r(22355),_=r(25700),H=r(43605),A=r.n(H),z=r(97091),C=r(25390);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let N=e=>{let{chartConfig:t,observations:r,dimensions:n,dimensionsById:a,measuresById:o}=e,{fields:l}=t,{y:i,segment:u,animation:c}=l,d=(0,C.In)(t),m=(0,p.Ck)(t),f=(0,p.rl)("pie",i,{measuresById:o}),y=(0,p.HR)(u,{dimensionsById:a,observations:r}),b=(0,s.Tw)(n,d,c);return L(L(L(L({},m),f),y),{},{getRenderingKey:b})},R=(e,t)=>{let{chartConfig:r,observations:n}=e,{getY:a,getSegmentAbbreviationOrLabel:o}=t,l=(0,z.Tq)(n,{getY:a});return(0,p.q1)(l,{chartConfig:r,timeRangeDimensionId:void 0,getSegmentAbbreviationOrLabel:o})};var V=r(86932),B=r(18185),Y=r(81364),q=r(93477),G=r(41494),K=r(41282),U=r(7673);let W=["children"];function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let Q=(e,t,r)=>{let{chartConfig:n,dimensions:o,measures:l}=e,{yMeasure:i,getY:s,segmentDimension:u,segmentsByAbbreviationOrLabel:c,getSegment:p,getSegmentAbbreviationOrLabel:d,getSegmentLabel:m,yAxisLabel:f}=t,{chartData:y,segmentData:h,allData:g}=r,{fields:v}=n,{y:j}=v,{width:O,height:x}=(0,q.tH)(),w=(0,G.D2)(),P=(0,B.c)(e),D=(0,a.useMemo)(()=>new Map(u.values.map(e=>[e.value,e])),[u.values]),k=n.cubes.find(e=>e.iri===u.cubeIri)?.filters[u.id],{colors:M,allSegments:S,segments:H,ySum:z}=(0,a.useMemo)(()=>{let e=(0,E.Z)(),t=Object.fromEntries(h.map(e=>[p(e),s(e)])),r=Object.entries(t).filter(e=>"number"==typeof e[1]).map(e=>e[0]),n=Array.from(new Set(y.map(p))),a=v.segment.sorting,o=(0,U.tf)(u,{sorting:a,measureBySegment:t,useAbbreviations:v.segment.useAbbreviations,dimensionFilter:k}),l=A()(r,o,(0,U.jS)(o,a)),i=l.filter(e=>n.includes(e));if(v.segment&&u&&v.color){let t=l.map(e=>{let t=c.get(e)?.value||D.get(e)?.value||"";return{label:e,color:"segment"===v.color.type?v.color.colorMapping[t]??T.Z[0]:T.Z[0]}});e.domain(t.map(e=>e.label)),e.range(t.map(e=>e.color))}else e.domain(l),e.range((0,K.XN)({paletteId:v.color.paletteId,colorField:v.color}));return e.unknown(()=>void 0),{colors:e,allSegments:l,segments:i,ySum:(0,I.Z)(y,s)}},[v.color,v.segment,p,s,h,u,c,D,k,y]),C=b(j,{dimensions:o,measures:l}),F=(0,V.Ti)({label:f,width:O}),L=C.showValues?90:50,N={top:L+F.offset,right:40,bottom:L,left:40},R=(0,V.vG)({width:O,left:40,right:40}),Y=(0,V.dE)({width:O,chartWidth:R,height:x,margins:N}),W=(0,a.useMemo)(()=>{let e=Object.fromEntries(M.domain().map((e,t)=>[e,t]));return(t,r)=>(0,Z.Z)(e[p(t)]??-1,e[p(r)]??-1)},[M,p]),X=(0,$.Z)().value(e=>s(e)??0).sort(W),Q=e=>{if(null===e)return"-";let t=(0,G._1)(e,P[i.id]??w,i.unit),r=e/z;return`${Math.round(100*r)}% (${t})`},ee=Math.min(R,Y.chartHeight)/2,et=X(y),er=(0,_.Z)().innerRadius(0).outerRadius(ee),en=(0,a.useCallback)((e,t)=>{let{segment:r}=t,n=et.find(t=>t.data===e);if(!n)return{x:0,y:0,color:M(r)};let a=(n.startAngle+n.endAngle)/2;return{x:Math.cos(a-Math.PI/2)*ee+R/2,y:Math.sin(a-Math.PI/2)*ee+Y.chartHeight/2-4,color:M(r)}},[et,Y.chartHeight,R,M,ee]);return J(J({chartType:"pie",bounds:Y,chartData:(0,a.useMemo)(()=>y.concat(S.filter(e=>!H.includes(e)).map(e=>({[u.id]:e,[i.id]:0}))),[y,S,u,H,i.id]),allData:g,arcs:et,arcGenerator:er,outerRadius:ee,segments:H,colors:M,getColorLabel:m,getAnnotationInfo:en,getTooltipInfo:e=>({xAnchor:R/2,yAnchor:-4,placement:{x:"center",y:"top"},value:d(e),datum:{value:Q(s(e)),color:M(p(e))},values:void 0,withTriangle:!1}),leftAxisLabelSize:F,leftAxisLabelOffsetTop:0},C),t)},ee=e=>{let{children:t}=e,r=(0,S.Z)(e,W),n=N(r),a=R(r,n),o=Q(r,n,a);return(0,P.jsx)(p._M.Provider,{value:o,children:t})},et=e=>(0,P.jsx)(Y.o,{children:(0,P.jsx)(ee,J({},e))});var er=r(35696),en=r(9063),ea=r(83001),eo=r(36831),el=r(18984),ei=r(80750),es=r(17899),eu=r(4148);function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let ed=e=>(0,P.jsx)(o.F,ep(ep({},e),{},{Component:em})),em=(0,a.memo)(e=>{let{chartConfig:t,observations:r,dimensions:n,dimensionsById:a}=e,{fields:o,interactiveFiltersConfig:l}=t,i=r.some(e=>e[o?.y?.componentId]>0),s=(0,C.In)(t),u=(0,v.I4)();return i?(0,P.jsxs)(et,ep(ep({},e),{},{children:[(0,P.jsxs)(ea.BO,{children:[(0,P.jsxs)(ea.ST,{children:[(0,P.jsx)(en.R,{}),(0,P.jsx)(M,{})]}),u?(0,P.jsx)(eo.r,{}):(0,P.jsx)(el.u,{type:"single"})]}),(0,P.jsx)(er.u,{}),(0,P.jsxs)(ea.dt,{children:[o.animation&&(0,P.jsx)(eu.j,ep({filters:s,dimensions:n},o.animation)),(0,P.jsx)(ei.Ek,{dimensionsById:a,chartConfig:t,symbol:"square",interactive:o.segment&&l.legend.active,showTitle:o.segment.showTitle})]})]})):(0,P.jsx)(es.ZX,{})})},83540:function(e,t,r){r.d(t,{HD:function(){return o},hy:function(){return s},oG:function(){return u}});var n=r(80491),a=r(32597);let o=(e,t,r)=>{let{transition:a,rotate:o,textAnchor:s,dx:u=0,dy:c=-8,fontFamily:p,fontSize:d,strokeWidth:m=3}=r,f=s??i(o);e.selectAll("text").data(t,e=>e.key).join(e=>e.append("text").attr("font-size",d).attr("font-family",p).attr("text-anchor",f).attr("paint-order","stroke").attr("stroke","white").attr("stroke-width",m).style("transform",e=>l(e,{rotate:o,labelHeight:d,dx:u,dy:c})).style("line-height",1).style("opacity",0).text(e=>e.valueLabel).call(e=>(0,n.u5)(e,{transition:a,s:e=>e.style("opacity",1)})),e=>(0,n.u5)(e,{s:e=>e.attr("text-anchor",f).style("transform",e=>l(e,{rotate:o,labelHeight:d,dx:u,dy:c})).style("opacity",1).text(e=>e.valueLabel),transition:a}),e=>(0,n.u5)(e,{transition:a,s:e=>e.style("opacity",0).remove()}))},l=(e,t)=>{let{rotate:r,labelHeight:n,dx:a,dy:o}=t;return r?`translate(${e.x+n/3}px, ${e.y-2*n/3}px) rotate(-90deg)`:`translate(${e.x+a}px, ${e.y+o}px) rotate(0deg)`},i=e=>e?"start":"middle",s=e=>e.style("display","flex").style("justify-content","center").style("align-items","center").style("width","100%").style("height","100%").style("padding","2px"),u=e=>e.attr(a.I1,!0).style("overflow","hidden").style("font-size","12px").style("white-space","nowrap").style("text-overflow","ellipsis")},26006:function(e,t,r){r.d(t,{II:function(){return p},ND:function(){return d},Yf:function(){return m},fv:function(){return c},wI:function(){return f}});var n=r(27378),a=r(43137),o=r(18185),l=r(3663),i=r(17510),s=r(41494),u=r(87358);let c=(e,t)=>{let{chartData:r,dimensions:a,measures:o,getValue:i,getErrorRange:s,scale:c,bandwidth:p}=t,{showValues:d=!1}=e,m=o.find(t=>t.id===e.componentId);if(!m)throw Error(`No dimension <${e.componentId}> in cube! (useShowBandValueLabelsVariables)`);let y=!p,{labelFontSize:b}=(0,l.$)(),h=y||p>b?1:Math.ceil(b/p),g=f({measureId:m.id,dimensions:a,measures:o}),v=(0,n.useCallback)(e=>{let t=i(e);if(null===t)return 0;let r=s?.(e)[1];return void 0===r?0:y?c(r-t):c(r)-c(t)},[i,s,y,c]),{offset:j,rotateValues:O}=(0,n.useMemo)(()=>{let e=0,t=!1;if(d){let n=0;r.forEach(e=>{let r=g(i(e)),a=(0,u.m)(r,{fontSize:b});!y&&a-2>p&&(t=!0),a>n&&(n=a)}),e=y||t?n:b}return{offset:e,rotateValues:t}},[d,r,y,i,g,b,p]);return{offset:j,getValueOffset:v,showValues:d,rotateValues:O,renderEveryNthValue:h,valueLabelFormatter:g}},p=(e,t)=>{let{dimensions:r,measures:n,segment:a}=t,{showValues:o=!1}=e,i=n.find(t=>t.id===e.componentId);if(!i)throw Error(`No dimension <${e.componentId}> in cube! (useShowLineValueLabelsVariables)`);let{labelFontSize:s}=(0,l.$)(),u=f({measureId:i.id,dimensions:r,measures:n}),c=o&&!a;return{yOffset:c?s:0,showValues:c,valueLabelFormatter:u}},d=()=>{let{bounds:{width:e,height:t,margins:{left:r,right:o}},showValues:s,chartData:c,xScale:p,getX:d,getXAsString:f,yScale:y,getY:b,valueLabelFormatter:h}=(0,a.gH)(),{labelFontSize:g}=(0,l.$)(),v=(0,n.useMemo)(()=>c.reduce((e,t,r)=>{let n=h(b(t)),a=(0,u.m)(n,{fontSize:g});return e[r]=a,e},{}),[c,h,b,g]);return(0,n.useMemo)(()=>{if(!s||!e||!t)return[];let n=[];return c.map((t,a)=>{let l=v[a]??0,i=f(t),s=b(t),u=p(d(t)),c=null===s||isNaN(s)?0:s,j={key:i,x:Math.min(Math.max(Math.min(r-l/2+8,l/2),u),e-o-r-l/2+8),y:y(Math.max(c,0)),valueLabel:h(c),width:l};return m({previousArray:n,current:j,labelHeight:g})?null:(n.push(j),j)}).filter(i.y)},[s,e,t,c,v,f,b,p,d,y,h,r,o,g])},m=e=>{let{previousArray:t,current:r,labelHeight:n,horizontalOffset:a=8}=e;return t.some(e=>Math.abs(r.x-e.x)-a<e.width/2+r.width/2&&Math.abs(r.y-e.y)<n)},f=e=>{let{measureId:t,dimensions:r,measures:a,normalize:l}=e,i=(0,s.D2)({decimals:0}),u=(0,s.D2)({decimals:"auto"}),c=(0,o.c)({dimensions:r,measures:a}),p=l?i:c[t]??u;return(0,n.useCallback)(e=>(0,s._1)(e,p),[p])}},18185:function(e,t,r){r.d(t,{c:function(){return o}});var n=r(27378),a=r(41494);let o=e=>{let{dimensions:t,measures:r}=e,o=(0,n.useMemo)(()=>[...t,...r],[t,r]);return(0,a.sz)(o)}},4148:function(e,t,r){r.d(t,{j:function(){return $}});var n=r(17043),a=r(60116),o=r(87026),l=r(12548),i=r(56125),s=r(64986),u=r(40624),c=r(43605),p=r.n(c),d=r(27378),m=r(70644),f=r(43137),y=r(99990),b=r(10359),h=r(15658),g=r(64103),v=r(17510),j=r(41494),O=r(48947),x=r(27102),w=r(8788),P=r(7378),D=r(7673),k=r(77142),M=r(71171),S=r(24246);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let E=(0,d.createContext)(void 0),T=()=>{let e=(0,d.useContext)(E);if(!e)throw Error("useTimeline must be called inside a TimelineContext.Provider!");return(0,m.useSyncExternalStore)(e.subscribe,e.getUpdateKey),e},$=e=>{let{componentId:t,showPlayButton:r,type:n,duration:a,filters:o,dimensions:l}=e,[i]=(0,x.lY)(h.Sc),s=(0,d.useMemo)(()=>l.find(e=>e.id===t),[t,l]),u=(0,g.fF)(s),c=(0,g.eP)(s),m=(0,g.a6)(s);if(!(u||c||m))throw Error("You can only use TimeSlider with temporal dimensions!");let y=(0,j.z6)(),O="timeUnit"in s?s.timeUnit:void 0,w=(0,f.gH)(),k=o[s.id],M=(0,d.useMemo)(()=>{let e={animationType:n,msDuration:1e3*a},t=Array.from(new Set(w.allData.map(e=>e[s.id]).filter(v.y)));if(u)return Z({type:"interval",msValues:t.map(e=>(0,b.sG)(e).getTime()),formatValue:e=>y(new Date(e),O)},e);{let r={sortingType:"byAuto",sortingOrder:"asc"},n=(0,D.tf)(s,{dimensionFilter:k,sorting:r}),a=(0,D.jS)(n,r);return Z({type:"ordinal",sortedData:p()(t,n,a)},e)}},[n,a,w.allData,u,s,y,O,k]),I=(0,d.useMemo)(()=>new P.T(M),[M]);return i.dashboardFilters?.timeRange.active?null:(0,S.jsx)(E.Provider,{value:I,children:(0,S.jsx)(_,{showPlayButton:r})})},_=e=>{let{showPlayButton:t}=e,[r,n]=T().formattedExtent;return(0,S.jsxs)(a.Z,Z(Z({},M.nT),{},{sx:{display:"flex",alignItems:"center",gap:5,mb:5,mr:2.5},children:[t&&(0,S.jsx)(H,{}),(0,S.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,S.jsx)(z,{}),(0,S.jsx)(o.Z,{variant:"caption",sx:{position:"absolute",left:0,mt:2},children:r}),(0,S.jsx)(o.Z,{variant:"caption",sx:{position:"absolute",right:0,mt:2},children:n})]})]}))},H=()=>{let e=T(),t=(0,k.z)(()=>{e.playing?e.stop():e.start()});return(0,S.jsx)(l.Z,{onClick:t,variant:"outlined",style:{minHeight:32,minWidth:32,padding:0,borderRadius:"50%"},children:(0,S.jsx)(O.JO,{name:e.playing?"pause":"play",size:16})})},A=(0,s.Z)(()=>({root:{width:"100%",[`& .${i.Z.root}`]:{height:"6px",[`& .${i.Z.thumb}`]:{width:"16px",height:"16px"}}},playing:{[`& .${i.Z.thumb}`]:{transition:"none"},[`& .${i.Z.track}`]:{transition:"none"}}})),z=()=>{let e=T(),t=(0,w.bI)(e=>e.timeSlider),r=(0,w.bI)(e=>e.setTimeSlider),n=A(),a=(0,d.useMemo)(()=>e.domain.map(e=>({value:e}))??[],[e.domain]),o=(0,k.z)(t=>{e.setProgress(+t.target.value)}),l=(0,k.z)(()=>{e.stop()});return(0,d.useEffect)(()=>{e.type!==t.type&&r({type:e.type,value:void 0}),"interval"===e.type&&"interval"===t.type&&t.value?.getTime()!==e.value&&r({type:"interval",value:new Date(e.value)}),"ordinal"===e.type&&"ordinal"===t.type&&t?.value!==e.value&&r({type:"ordinal",value:e.value})},[e.value,e.type,t.type,t.value,r]),(0,S.jsx)(y.iR,{name:"time-slider",renderTextInput:!1,min:0,max:1,step:null,marks:a,value:e.progress,onChange:o,onClick:l,valueLabelDisplay:"on",valueLabelFormat:e.formattedValue,className:(0,u.Z)(n.root,e.playing&&n.playing)})}}}]);
//# sourceMappingURL=74174.6109e301a065a5d5.js.map