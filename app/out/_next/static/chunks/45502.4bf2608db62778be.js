"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45502],{93352:function(t,e,r){r.d(e,{BW:function(){return l},D1:function(){return n},es:function(){return i}});let n=0,l=.1,i=.1},11626:function(t,e,r){r.d(e,{M:function(){return p},z:function(){return d}});var n=r(68049),l=r(59245),i=r(27378),o=r(93730),a=r(43137),c=r(83540),s=r(80491),u=r(25390),f=r(15658);let d=()=>{let{colors:t,showValuesBySegmentMapping:e,valueLabelFormatter:r,xScale:l,yScale:c,getX:s,getRenderingKey:d}=(0,a.gH)(),[p]=(0,f.lY)(),h=(0,u.f6)(p),g=(0,u.B6)(),y=l.bandwidth();return(0,i.useCallback)(i=>{let a=i.key,u=t(a);return i.map(t=>{let i=t.data,f=i[a],p=a&&e[a]?r(f):void 0,b=p?(0,n.Qg)(u):void 0,m=s(i),x=c(t[1]),O=(0,o.zm)(i,a,h,g);return{key:d(i,a),x:l(m),y:x,width:y,height:Math.max(0,c(t[0])-x),color:u,valueLabel:p,valueLabelColor:b,observation:i,segment:a,valueLabelOffset:O?20:0}})},[y,t,d,s,e,r,l,c,h,g])},p=(t,e,r)=>{let{transition:n,y0:i}=r;t.selectAll("g.column").data(e,t=>t.key).join(t=>t.append("g").attr("class","column").call(t=>t.append("rect").attr("data-index",(t,e)=>e).attr("x",t=>t.x).attr("y",i).attr("width",t=>t.width).attr("height",0).attr("fill",t=>t.color).call(t=>(0,s.u5)(t,{transition:n,s:t=>t.attr("y",t=>t.y).attr("height",t=>t.height)}))).call(t=>t.append("foreignObject").attr("x",t=>t.x).attr("y",i).attr("width",t=>t.width).attr("height",t=>t.height).call(t=>(0,s.u5)(t,{transition:n,s:t=>t.attr("y",t=>t.y+(t.valueLabelOffset??0))})).append("xhtml:div").call(c.hy).append("xhtml:p").call(c.oG).style("color",function(t){return t.valueLabelColor??(0,l.Z)(this).style("color")}).text(t=>t.valueLabel??"")),t=>((0,s.pA)(t.select("rect")),(0,s.u5)(t,{s:t=>t.call(t=>t.select("rect").attr("x",t=>t.x).attr("y",t=>t.y).attr("width",t=>t.width).attr("height",t=>t.height).attr("fill",t=>t.color)).call(t=>t.select("foreignObject").attr("x",t=>t.x).attr("y",t=>t.y+(t.valueLabelOffset??0)).attr("width",t=>t.width).attr("height",t=>t.height).select("p").style("color",function(t){return t.valueLabelColor??(0,l.Z)(this).style("color")}).text(t=>t.valueLabel??"")),transition:n})),t=>(0,s.u5)(t,{transition:n,s:t=>t.call(t=>t.select("rect").attr("y",i).attr("height",0)).remove()}))}},54735:function(t,e,r){r.d(e,{k:function(){return g}});var n=r(17043),l=r(27378),i=r(8150),o=r(48660),a=r(43137),c=r(3663),s=r(32597),u=r(97358),f=r(90453),d=r(24246);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let g=t=>{let{orientation:e="left"}=t,r="left"===e,{gridColor:n,labelColor:p,axisLabelFontSize:g}=(0,c.$)(),{0:y,1:b}=(0,l.useState)(null),{y:m,yOrientationScales:x,colors:O,bounds:j}=(0,a.gH)(),v=x[e],{width:w,chartWidth:k,chartHeight:P,margins:_}=j,I=m[e].label,S=O(I);(0,o.ov)(y,{id:`axis-height-linear-${e}`,orientation:e,scale:v,width:k,height:P,margins:_,lineColor:n,textColor:p});let{width:T,height:$}=(0,i.Ib)(I,{width:.5*w-o.qU});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("foreignObject",{"data-testid":`axis-title-${e}`,x:r?0:w-T,width:T,height:$,color:f.r.palette.getContrastText(S),children:(0,d.jsx)(u.K,{component:m[e].dimension,children:(0,d.jsx)("span",h(h({},s.Ir),{},{style:{width:"100%",fontSize:g,lineHeight:1.5,backgroundColor:S,color:f.r.palette.getContrastText(S),padding:`${i.CT}px ${i.bJ}px`,borderRadius:4,wordBreak:"break-word"},children:I}))})}),(0,d.jsx)("g",{ref:t=>b(t)})]})}},45502:function(t,e,r){r.r(e),r.d(e,{ChartComboLineColumnVisualization:function(){return ts}});var n=r(17043),l=r(27378),i=r(93226),o=r(54735),a=r(62196),c=r(11626),s=r(43137),u=r(80491),f=r(80733),d=r(24246);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let g=()=>{let{chartData:t,bounds:e,xScale:r,getXAsDate:n,formatXDate:i,y:o,yOrientationScales:a,colors:p,getRenderingKey:g}=(0,s.gH)(),{margins:y}=e,b=(0,l.useRef)(null),m=(0,f.K)(t=>t.enable),x=(0,f.K)(t=>t.duration),O=r.bandwidth(),j="column"===o.left.chartType?o.left:o.right,v="column"===o.left.chartType?a.left:a.right,w=v(0),k=(0,l.useMemo)(()=>t.map(t=>{let e=g(t),l=r(i(n(t))),o=j.getY(t)??NaN,a=v(o);return{key:e,x:l,y:v(Math.max(o,0)),width:O,height:Math.max(0,Math.abs(a-w)),color:p(j.id),observation:t}}),[t,g,r,n,i,j,v,w,p,O]);return(0,l.useEffect)(()=>{b.current&&(0,u.sS)(b.current,{id:"columns",transform:`translate(${y.left} ${y.top})`,transition:{enable:m,duration:x},render:(t,e)=>(0,c.M)(t,k,h(h({},e),{},{y0:w}))})},[m,y.left,y.top,k,x,w]),(0,d.jsx)("g",{ref:b})},y=()=>{let{chartData:t,xScale:e,getXAsDate:r,formatXDate:n,yOrientationScales:l,y:i,colors:o,bounds:c}=(0,s.gH)(),u="line"===i.left.chartType?i.left:i.right,f="line"===i.left.chartType?l.left:l.right,p=(0,a.Z)().defined(t=>{let e=u.getY(t);return null!==e&&!isNaN(e)}).x(t=>e(n(r(t)))+.5*e.bandwidth()).y(t=>f(u.getY(t)));return(0,d.jsx)("g",{transform:`translate(${c.margins.left} ${c.margins.top})`,children:(0,d.jsx)(b,{path:p(t),color:o(u.label)})})},b=(0,l.memo)(function(t){let{path:e,color:r}=t;return(0,d.jsx)("path",{d:e,stroke:r,strokeWidth:4,fill:"none"})}),m=()=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g,{}),(0,d.jsx)(y,{})]});var x=r(90089),O=r(93603),j=r(49951),v=r(94335),w=r(81829),k=r(47626),P=r(67291),_=r(93352),I=r(68966),S=r(97091),T=r(25390);function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let D=t=>{let e;let{chartConfig:r,dimensions:n,dimensionsById:i,measuresById:o,observations:a}=t,{fields:c,interactiveFiltersConfig:f}=r,{x:d}=c,p=(0,T.In)(r),h=(0,s.Ck)(r),g=(0,s.rV)(d,{dimensionsById:i,observations:a}),y=(0,s.SU)(f,{dimensionsById:i}),b=r.fields.y.lineComponentId,m=r.fields.y.lineAxisOrientation,x=r.fields.y.columnComponentId,j={chartType:"line",orientation:m,dimension:o[b],id:b,label:(0,S.zY)(o[b]),color:c.color.colorMapping[b],getY:t=>null!==t[b]?Number(t[b]):null,getMinY:t=>{let e=(0,O.Z)(t,t=>null!==t[b]?Number(t[b]):null)??0;return(0,s._s)(o[b].scaleType)?e:Math.min(0,e)}},v={chartType:"column",orientation:"left"===m?"right":"left",dimension:o[x],id:x,label:(0,S.zY)(o[x]),color:c.color.colorMapping[x],getY:t=>null!==t[x]?Number(t[x]):null,getMinY:t=>Math.min(0,(0,O.Z)(t,t=>null!==t[x]?Number(t[x]):null)??0)};e="left"===m?{y:{left:j,right:v}}:{y:{left:v,right:j}};let{getXAsDate:w}=g,k=(0,l.useCallback)(t=>(0,I.E)(t,{getX:w}),[w]),P=(0,u.Tw)(n,p,void 0);return C(C(C(C(C({},h),{},{sortData:k},g),e),y),{},{getRenderingKey:P})},Y=(t,e)=>{let{chartConfig:r,observations:n}=t,{sortData:l,xDimension:i,getX:o,getXAsDate:a,y:c,getTimeRangeDate:u}=e,f=(0,S.Tq)(n,{getX:o,getY:t=>{for(let{getY:e}of[c.left,c.right]){let r=e(t);if(null!==r)return r}}});return(0,s.q1)(f,{sortData:l,chartConfig:r,timeRangeDimensionId:i.id,getAxisValueAsDate:a,getTimeRangeDate:u})};var A=r(64479),M=r(48660),E=r(86932),L=r(44830),N=r(52942),z=r(3663),H=r(81364),Z=r(17510),R=r(30999),F=r(87358),G=r(98016);let K=["children"];function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let B=(t,e,r)=>{let{chartConfig:n}=t,{getX:l,getXAsDate:i,xAxisLabel:o,formatXDate:a}=e,{chartData:c,scalesData:s,timeRangeData:u,paddingData:f,allData:d}=r,{fields:p,interactiveFiltersConfig:h}=n,g=p.x.componentId,{width:y,height:b,formatNumber:m,timeFormatUnit:x,chartWideData:I,xScaleTime:S,xScaleTimeRange:T,colors:$}=(0,A.tF)({chartData:c,timeRangeData:u,getXAsDate:i,getXAsString:l,xKey:g,yGetters:[e.y.left,e.y.right],computeTotal:!1}),C=e.xTimeUnit,D=(0,R.C)(C),[Y,H]=S.domain(),K=D.range(Y,H).concat(H).map(a),U=(0,w.Z)().domain(K).paddingInner(_.BW).paddingOuter(_.D1),{yScale:B,paddingYScale:q}=(0,A.ne)({scalesData:s,paddingData:f,getY:e.y.left.getY,getMinY:e.y.left.getMinY}),{yScale:W,paddingYScale:V}=(0,A.ne)({scalesData:s,paddingData:f,getY:e.y.right.getY,getMinY:e.y.right.getMinY}),[J,Q]=B.domain(),[tt,te]=W.domain(),tr=(0,O.Z)([J,tt])??0,tn=(0,j.Z)([Q,te])??0,tl=(0,k.Z)().domain([tr,tn]).nice(),ti={left:B,right:W},{left:to,bottom:ta}=(0,E.u8)({xLabelPresent:!!o,yScale:q,width:y,height:b,interactiveFiltersConfig:h,formatNumber:m,bandDomain:K}),tc=Math.max(...V.ticks((0,N.f)(b)).map(t=>(0,F.m)(m(t),{fontSize:z.r})+M.qU)),ts=(0,A.wG)({width:y,left:to,bottom:ta,maxRightTickWidth:tc,leftAxisTitle:e.y.left.label,rightAxisTitle:e.y.right.label}),tu=(0,E.Ti)({label:e.y.left.label,width:y}),tf=(0,E.Ti)({label:e.y.right.label,width:y}),td=(0,E.Ti)({label:o,width:y}),tp=(0,E.vG)({width:y,left:ts.left,right:ts.right}),th=(0,E.dE)({width:y,chartWidth:tp,height:b,margins:ts}),{chartHeight:tg}=th,ty=[U,S,T],tb=[tl,B,W];(0,A.WX)(ty,tb,{chartWidth:tp,chartHeight:tg});let tm=(0,G.d)();return X({chartType:"comboLineColumn",xKey:g,bounds:th,maxRightTickWidth:tc,chartData:c,allData:d,xScale:U,xScaleInteraction:U.copy().padding(0),xScaleTime:S,xScaleTimeRange:T,yScale:tl,yOrientationScales:ti,colors:$,getColorLabel:t=>t,chartWideData:I,getTooltipInfo:t=>{let r=i(t),n=U(a(r))+.5*U.bandwidth(),l=[e.y.left,e.y.right].map(e=>{let{orientation:r,getY:n,id:l,label:i,chartType:o}=e,a=n(t);if(!Number.isFinite(a)||null===a)return null;let c=ti[r](a??0);return{label:i,value:`${a}`,color:$(l),axis:"y",axisOffset:c,symbol:"line"===o?"line":"square"}}).filter(Z.y),o=tm?tg:(0,v.Z)(l.map(t=>t.axisOffset)),c=tm?L.h0:(0,L.Y7)({chartWidth:tp,xAnchor:n,topAnchor:!1});return{datum:{label:"",value:"0",color:P.Z[0]},xAnchor:n,yAnchor:o,value:x(r,C),placement:c,values:l}},leftAxisLabelSize:{width:Math.max(tu.width,tf.width),height:Math.max(tu.height,tf.height),offset:Math.max(tu.offset,tf.offset)},bottomAxisLabelSize:td},e)},q=t=>{let{children:e}=t,r=(0,x.Z)(t,K),n=D(r),l=Y(r,n),i=B(r,n,l);return(0,d.jsx)(s._M.Provider,{value:i,children:e})},W=t=>(0,d.jsx)(H.o,{children:(0,d.jsx)(q,X({},t))});var V=r(40907);let J=()=>{let{chartData:t,bounds:{chartHeight:e,margins:r},getXAsDate:n,formatXDate:i,xScaleInteraction:o}=(0,s.gH)(),{onClick:a,onHover:c,onHoverOut:u}=(0,V.A)({focusingSegment:!1}),f=(0,l.useCallback)(t=>i(n(t)),[i,n]),p=o.bandwidth();return(0,d.jsx)("g",{transform:`translate(${r.left} ${r.top})`,children:t.map((t,r)=>{let n=o(f(t));return(0,d.jsx)("rect",{x:n,y:0,width:p,height:Math.max(0,e),fill:"hotpink",fillOpacity:0,stroke:"none",onMouseOver:()=>c(t,{segment:void 0}),onMouseOut:u,onClick:()=>a(t,{segment:void 0})},r)})})};var Q=r(73908),tt=r(50051),te=r(83001),tr=r(68807),tn=r(83002),tl=r(18984),ti=r(71238),to=r(27102);function ta(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ta(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let ts=t=>(0,d.jsx)(i.F,tc(tc({},t),{},{Component:tu})),tu=(0,l.memo)(t=>{let{chartConfig:e}=t,{interactiveFiltersConfig:r}=e,[{dashboardFilters:n}]=(0,to.lY)(ti.Sc);return(0,d.jsx)(W,tc(tc({},t),{},{children:(0,d.jsxs)(te.BO,{children:[(0,d.jsxs)(te.ST,{children:[(0,d.jsx)(o.k,{orientation:"left"}),(0,d.jsx)(o.k,{orientation:"right"}),(0,d.jsx)(Q.X,{}),(0,d.jsx)(m,{}),(0,d.jsx)(J,{}),(0,tt.O)(r,n?.timeRange)&&(0,d.jsx)(tt.j,{})]}),(0,d.jsx)(tr.N,{}),(0,d.jsx)(tn.x,{rotate:!0}),(0,d.jsx)(tl.u,{type:"multiple"})]})}))})},93730:function(t,e,r){r.d(e,{I4:function(){return u},Zz:function(){return p},gf:function(){return f},rY:function(){return d},zm:function(){return h}});var n=r(27378),l=r(81364),i=r(50953),o=r(25390),a=r(4974),c=r(15658),s=r(77167);let u=()=>{let[t]=(0,c.lY)(),{activeField:e}=(0,o.f6)(t);return(0,a.c)(e)&&(0,c.N3)(t)},f=()=>{let[t]=(0,l.X)(),[e]=(0,c.lY)(),r=(0,o.f6)(e),{activeField:i}=r,a=u();return(0,n.useCallback)((e,n)=>{let l,o,{axisComponentId:c,axisValue:s}=n;for(let t of r.annotations)if(p(e,t.targets)){l=t;break}l?.color&&"filled"===l.highlightType&&(o=l.color);let u="annotation"===t.type&&t.visible&&t.observation?.[`${c}/__iri__`]===s,f=r.annotations.some(t=>t.key!==i&&p(e,t.targets)),d=l?.key===i;return{color:o,focused:a&&(u&&!f||d),isActive:d}},[i,r.annotations,t,a])},d=(t,e)=>{let{chartConfig:r,definitiveFilters:n,segment:l}=e,i=Object.entries((0,o.G_)(n)).filter(t=>{let[,e]=t;return e.value!==s.P}).map(t=>{let[e,r]=t;return{componentId:e,value:`${r.value}`}});switch(r.chartType){case"column":case"line":case"area":{let e=r.fields.x.componentId;e&&i.push({componentId:e,value:`${t[`${e}/__iri__`]}`});let n=r.fields.segment?.componentId;if(n&&l){let e=l??t[`${n}/__iri__`]??"";i.push({componentId:n,value:e})}break}case"bar":{let e=r.fields.y.componentId;e&&i.push({componentId:e,value:`${t[`${e}/__iri__`]}`});let n=r.fields.segment?.componentId;if(n&&l){let e=l??t[`${n}/__iri__`]??"";i.push({componentId:n,value:e})}break}case"scatterplot":{let e=r.fields.segment?.componentId;if(e&&l){let r=l??t[`${e}/__iri__`]??"";i.push({componentId:e,value:r})}break}case"pie":{let e=r.fields.segment?.componentId;if(e&&l){let r=l??t[`${e}/__iri__`]??"";i.push({componentId:e,value:r})}break}case"comboLineColumn":case"comboLineDual":case"comboLineSingle":case"map":case"table":break;default:return r}return i},p=(t,e)=>{if(0===e.length)return!1;for(let r of e)if(t[`${r.componentId}/__iri__`]!==r.value)return!1;return!0},h=(t,e,r,n)=>!!((0,i.I3)(r)&&r.fields.segment?.componentId)&&r.annotations.some(l=>{let i=d(t,{chartConfig:r,definitiveFilters:n,segment:e});if(0===l.targets.length||0===i.length)return!1;let o=l.targets.filter(t=>i.some(e=>t.componentId===e.componentId));return 0!==o.length&&o.every(t=>i.some(e=>t.componentId===e.componentId&&t.value===e.value))})},73908:function(t,e,r){r.d(e,{X:function(){return d},d:function(){return p}});var n=r(27454),l=r(27378),i=r(86932),o=r(43137),a=r(80491),c=r(3663),s=r(97358),u=r(80733),f=r(24246);let d=()=>{let t=(0,l.useRef)(null),{xScale:e,getXLabel:r,xDimension:d,xTimeUnit:p,formatXDate:h,yScale:g,bounds:{chartHeight:y,chartWidth:b,margins:m},xAxisLabel:x,bottomAxisLabelSize:O,formatXAxisTick:j}=(0,o.gH)(),{labelColor:v,gridColor:w,labelFontSize:k,fontFamily:P,axisLabelFontSize:_,domainColor:I}=(0,c.$)(),S=(0,u.K)(t=>t.enable),T=(0,u.K)(t=>t.duration),$=e.bandwidth()>k?k:e.bandwidth(),C=(0,i.Fc)(e,r,p,$);return(0,l.useEffect)(()=>{if(t.current){let r=g.domain()[0]<0,l=(0,n.LL)(e).tickSizeOuter(0).tickSizeInner(r?-y:6).tickPadding(-10).tickFormat(j??(t=>t)),i=(0,a.sS)(t.current,{id:"axis-width-band",transform:`translate(${m.left} ${y+m.top})`,transition:{enable:S,duration:T},render:t=>t.attr("data-testid","axis-width-band").call(l),renderUpdate:(t,e)=>(0,a.u5)(t,{transition:e.transition,s:t=>t.call(l)})});i.select(".domain").remove(),i.selectAll(".tick line").attr("stroke",r?w:I),i.selectAll(".tick text").attr("transform","rotate(90)").attr("x",$+(k-$)*.6).attr("dy",r?$+(k-$):.6*$+(k-$)*.4).attr("font-size",$).attr("font-family",P).attr("fill",v).attr("text-anchor","start")}},[y,I,S,P,r,w,v,k,m.left,m.top,T,e,p,g,h,j,$]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("foreignObject",{x:m.left+b/2-O.width/2,y:m.top+y+C+8,width:b,height:O.height,style:{display:"flex"},children:(0,f.jsx)(s.K,{component:d,children:(0,f.jsx)("span",{style:{fontSize:_,lineHeight:1.5},children:x})})}),(0,f.jsx)("g",{ref:t})]})},p=()=>{let t=(0,l.useRef)(null),e=(0,u.K)(t=>t.enable),r=(0,u.K)(t=>t.duration),{xScale:i,yScale:s,bounds:d}=(0,o.gH)(),{chartHeight:p,margins:h}=d,{domainColor:g}=(0,c.$)();return(0,l.useEffect)(()=>{if(t.current){let l=(0,n.LL)(i).tickSizeOuter(0),o=(0,a.sS)(t.current,{id:"axis-width-band-domain",transform:`translate(${h.left} ${p+h.top})`,transition:{enable:e,duration:r},render:t=>t.call(l),renderUpdate:(t,e)=>(0,a.u5)(t,{transition:e.transition,s:t=>t.call(l)})});o.selectAll(".tick line").remove(),o.selectAll(".tick text").remove(),o.select(".domain").attr("transform",`translate(0, -${d.chartHeight-s(0)})`).attr("stroke",g)}},[d.chartHeight,p,g,e,h.left,h.top,r,i,s]),(0,f.jsx)("g",{ref:t})}},83540:function(t,e,r){r.d(e,{HD:function(){return i},hy:function(){return c},oG:function(){return s}});var n=r(80491),l=r(32597);let i=(t,e,r)=>{let{transition:l,rotate:i,textAnchor:c,dx:s=0,dy:u=-8,fontFamily:f,fontSize:d,strokeWidth:p=3}=r,h=c??a(i);t.selectAll("text").data(e,t=>t.key).join(t=>t.append("text").attr("font-size",d).attr("font-family",f).attr("text-anchor",h).attr("paint-order","stroke").attr("stroke","white").attr("stroke-width",p).style("transform",t=>o(t,{rotate:i,labelHeight:d,dx:s,dy:u})).style("line-height",1).style("opacity",0).text(t=>t.valueLabel).call(t=>(0,n.u5)(t,{transition:l,s:t=>t.style("opacity",1)})),t=>(0,n.u5)(t,{s:t=>t.attr("text-anchor",h).style("transform",t=>o(t,{rotate:i,labelHeight:d,dx:s,dy:u})).style("opacity",1).text(t=>t.valueLabel),transition:l}),t=>(0,n.u5)(t,{transition:l,s:t=>t.style("opacity",0).remove()}))},o=(t,e)=>{let{rotate:r,labelHeight:n,dx:l,dy:i}=e;return r?`translate(${t.x+n/3}px, ${t.y-2*n/3}px) rotate(-90deg)`:`translate(${t.x+l}px, ${t.y+i}px) rotate(0deg)`},a=t=>t?"start":"middle",c=t=>t.style("display","flex").style("justify-content","center").style("align-items","center").style("width","100%").style("height","100%").style("padding","2px"),s=t=>t.attr(l.I1,!0).style("overflow","hidden").style("font-size","12px").style("white-space","nowrap").style("text-overflow","ellipsis")},40907:function(t,e,r){r.d(e,{A:function(){return u}});var n=r(56141),l=r.n(n),i=r(93730),o=r(81364),a=r(25390),c=r(15658),s=r(77142);let u=t=>{let{focusingSegment:e}=t,[,r]=(0,o.X)(),[n,u]=(0,c.lY)(),f=(0,a.f6)(n),{activeField:d,annotations:p}=f,h=(0,a.B6)(),g=(0,i.I4)(),y=p.find(t=>t.key===d);return{onClick:(0,s.z)((t,e)=>{let{segment:r}=e;if(!g||!y||!d)return;let n=(0,i.rY)(t,{chartConfig:f,definitiveFilters:h,segment:r});for(let e of p){let o=e.targets,a=e.key!==d?(0,i.rY)(t,{chartConfig:f,definitiveFilters:h,segment:r}):n;if(l()(o,a))return}u({type:"CHART_ANNOTATION_TARGETS_CHANGE",value:{key:d,targets:n}})}),onHover:(0,s.z)((t,n)=>{let{segment:l}=n;r({type:"INTERACTION_UPDATE",value:{type:g?"annotation":"tooltip",visible:!0,observation:t,focusingSegment:e,segment:l}})}),onHoverOut:(0,s.z)(()=>{r({type:"INTERACTION_HIDE"})})}}}}]);
//# sourceMappingURL=45502.4bf2608db62778be.js.map